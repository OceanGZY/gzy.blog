{"title":"基于LSTM+CRF的中文命名实体识别","slug":"基于LSTM-CRF的中文命名实体识别","date":"2021-06-17T14:42:44.000Z","updated":"2022-09-30T06:56:37.191Z","comments":true,"path":"api/articles/基于LSTM-CRF的中文命名实体识别.json","excerpt":null,"covers":["https://oceaneyes.top/img/zhishigroup.jpg","https://oceaneyes.top/img/alipay.jpg","https://oceaneyes.top/img/wechatpay.jpg"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"基于lstmcrf的中文命名实体识别\">基于LSTM+CRF的中文命名实体识别</h2>\n<ul>\n<li><strong>任务描述</strong>：命名实体识别是指识别文本中具有特定意义的实体，主要包括人名、地名、机构名、专有名词等。\n<ul>\n<li>实现一个简单的命名实体识别方法，该方法通过BiLSTM+CRF模型预测出文本中文字所对应的标签，再根据标签提取出文本中的实体。</li>\n<li>从数据文件中加载数据并进行预处理、构建模型、训练模型、评估模型和测试模型。\n<ul>\n<li>说明：目前本文档仅作为示例，为了加快训练速度模型较为简单，词向量维度也比较低，因此导致模型准确率较低。</li>\n</ul></li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> tensorflow <span class=\"im\">as</span> tf</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> numpy <span class=\"im\">as</span> np</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> pandas <span class=\"im\">as</span> pd</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb2\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> tensorflow_addons <span class=\"im\">as</span> tfa</span></code></pre></div>\n<ul>\n<li><p>tf 2.0 的新特性：eager execution</p>\n<ul>\n<li>可以用tf.executing_eargerly()查看Eager\nExecution当前的启动状态，返回True则是开启，False是关闭。</li>\n<li>可以用tf.compat.v1.enable_eager_execution()启动eager模式。</li>\n<li>关闭eager模式的函数是 tf.compat.v1.disable_eager_execution()</li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb3\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb3-1\"><a href=\"#cb3-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf.compat.v1.disable_eager_execution()</span></code></pre></div>\n<h3 id=\"文本数准备\">文本数准备</h3>\n<ul>\n<li>数据说明</li>\n<li>数据整理</li>\n<li>加载数据</li>\n</ul>\n<h4 id=\"数据说明\">数据说明</h4>\n<ul>\n<li><p>数据集共包含约2.7万中文文本，其中包括约2.08万训练集，0.23万验证集和0.46万测试集。</p></li>\n<li><p>数据集分别命名为example.train,example.dev,example.test,保存在datasets目录下。</p>\n<ul>\n<li>1.训练集：包含文本和对应的标签，用于模型训练。</li>\n<li>2.验证集：包含文本和对应的标签，用于模型训练和参数调试。</li>\n<li>3.测试集：包含文本和对应的标签，用于预测结果、验证效果。</li>\n</ul></li>\n<li><p>数据集中标注有三种实体，分别为人名、地名、机构名，标注集合为{'O','B-PER','I-PER','B-ORG','I-ORG','B-LOC','I-LOC'}。</p>\n<ul>\n<li>其中'O'表示非实体，</li>\n<li>'B-'表示实体的首字，</li>\n<li>'I-'表示实体的其他位置的字，</li>\n<li>'PER'表示人名，</li>\n<li>'ORG'表示机构名，</li>\n<li>'LOC'表示地名。IOB（Inside–outside–beginning）是用于标记标志的通用标记格式。</li>\n</ul></li>\n</ul>\n<h4 id=\"数据整理\">数据整理</h4>\n<p>根据数据集中的字符建立字典，并保存在datasets/vocab.txt中，\n标签根据数据集中字符建立字典，并保存在datasets/.txt中</p>\n<div class=\"sourceCode\" id=\"cb4\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb4-1\"><a href=\"#cb4-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_vocab_list(path_list):</span>\n<span id=\"cb4-2\"><a href=\"#cb4-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    vocab_set <span class=\"op\">=</span> <span class=\"bu\">set</span>()</span>\n<span id=\"cb4-3\"><a href=\"#cb4-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    vocab_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb4-4\"><a href=\"#cb4-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> path <span class=\"kw\">in</span> path_list:</span>\n<span id=\"cb4-5\"><a href=\"#cb4-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb4-6\"><a href=\"#cb4-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb4-7\"><a href=\"#cb4-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line.strip()) <span class=\"op\">==</span> <span class=\"dv\">0</span>:</span>\n<span id=\"cb4-8\"><a href=\"#cb4-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"cf\">continue</span></span>\n<span id=\"cb4-9\"><a href=\"#cb4-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> line[<span class=\"dv\">0</span>] <span class=\"kw\">not</span> <span class=\"kw\">in</span> vocab_set:</span>\n<span id=\"cb4-10\"><a href=\"#cb4-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    vocab_set.add(line[<span class=\"dv\">0</span>])</span>\n<span id=\"cb4-11\"><a href=\"#cb4-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    vocab_list.append(line[<span class=\"dv\">0</span>])</span>\n<span id=\"cb4-12\"><a href=\"#cb4-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> vocab_list</span>\n<span id=\"cb4-13\"><a href=\"#cb4-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb4-14\"><a href=\"#cb4-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> save_vocab(path,vocab_list):</span>\n<span id=\"cb4-15\"><a href=\"#cb4-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    output <span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span>.join([vocab <span class=\"op\">+</span> <span class=\"st\">&#39;</span><span class=\"ch\">\\n</span><span class=\"st\">&#39;</span> <span class=\"cf\">for</span> vocab <span class=\"kw\">in</span> vocab_list])</span>\n<span id=\"cb4-16\"><a href=\"#cb4-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;w&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb4-17\"><a href=\"#cb4-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>        f.write(output)</span>\n<span id=\"cb4-18\"><a href=\"#cb4-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb4-19\"><a href=\"#cb4-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab_list <span class=\"op\">=</span> get_vocab_list([<span class=\"st\">&#39;./datasets/example.train&#39;</span>,<span class=\"st\">&#39;./datasets/example.dev&#39;</span>,<span class=\"st\">&#39;./datasets/example.test&#39;</span>])</span>\n<span id=\"cb4-20\"><a href=\"#cb4-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>save_vocab(<span class=\"st\">&#39;./datasets/vocab.txt&#39;</span>,vocab_list)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb5\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb5-1\"><a href=\"#cb5-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab_list</span></code></pre></div>\n<pre><code>[&#39;海&#39;,\n &#39;钓&#39;,\n &#39;比&#39;,\n &#39;赛&#39;,\n &#39;地&#39;,\n &#39;点&#39;,\n &#39;在&#39;,\n &#39;厦&#39;,\n &#39;门&#39;,\n &#39;与&#39;,\n &#39;金&#39;,\n &#39;之&#39;,\n &#39;间&#39;,\n &#39;的&#39;,\n &#39;域&#39;,\n &#39;。&#39;,\n &#39;这&#39;,\n &#39;座&#39;,\n &#39;依&#39;,\n &#39;山&#39;,\n &#39;傍&#39;,\n &#39;水&#39;,\n &#39;博&#39;,\n &#39;物&#39;,\n &#39;馆&#39;,\n &#39;由&#39;,\n &#39;国&#39;,\n &#39;内&#39;,\n &#39;一&#39;,\n &#39;流&#39;,\n &#39;设&#39;,\n &#39;计&#39;,\n &#39;师&#39;,\n &#39;主&#39;,\n &#39;持&#39;,\n &#39;，&#39;,\n &#39;整&#39;,\n &#39;个&#39;,\n &#39;建&#39;,\n &#39;筑&#39;,\n &#39;群&#39;,\n &#39;精&#39;,\n &#39;美&#39;,\n &#39;而&#39;,\n &#39;恢&#39;,\n &#39;宏&#39;,\n &#39;但&#39;,\n &#39;作&#39;,\n &#39;为&#39;,\n &#39;共&#39;,\n &#39;产&#39;,\n &#39;党&#39;,\n &#39;员&#39;,\n &#39;、&#39;,\n &#39;人&#39;,\n &#39;民&#39;,\n &#39;公&#39;,\n &#39;仆&#39;,\n &#39;应&#39;,\n &#39;当&#39;,\n &#39;胸&#39;,\n &#39;怀&#39;,\n &#39;宽&#39;,\n &#39;阔&#39;,\n &#39;真&#39;,\n &#39;正&#39;,\n &#39;做&#39;,\n &#39;到&#39;,\n &#39;“&#39;,\n &#39;先&#39;,\n &#39;天&#39;,\n &#39;下&#39;,\n &#39;忧&#39;,\n &#39;后&#39;,\n &#39;乐&#39;,\n &#39;”&#39;,\n &#39;淡&#39;,\n &#39;化&#39;,\n &#39;名&#39;,\n &#39;利&#39;,\n &#39;得&#39;,\n &#39;失&#39;,\n &#39;和&#39;,\n &#39;宠&#39;,\n &#39;辱&#39;,\n &#39;悲&#39;,\n &#39;喜&#39;,\n &#39;把&#39;,\n &#39;改&#39;,\n &#39;革&#39;,\n &#39;大&#39;,\n &#39;业&#39;,\n &#39;摆&#39;,\n &#39;首&#39;,\n &#39;位&#39;,\n &#39;样&#39;,\n &#39;才&#39;,\n &#39;能&#39;,\n &#39;超&#39;,\n &#39;越&#39;,\n &#39;自&#39;,\n &#39;我&#39;,\n &#39;脱&#39;,\n &#39;世&#39;,\n &#39;俗&#39;,\n &#39;有&#39;,\n &#39;所&#39;,\n &#39;发&#39;,\n &#39;达&#39;,\n &#39;家&#39;,\n &#39;急&#39;,\n &#39;救&#39;,\n &#39;保&#39;,\n &#39;险&#39;,\n &#39;十&#39;,\n &#39;分&#39;,\n &#39;普&#39;,\n &#39;及&#39;,\n &#39;已&#39;,\n &#39;成&#39;,\n &#39;社&#39;,\n &#39;会&#39;,\n &#39;障&#39;,\n &#39;体&#39;,\n &#39;系&#39;,\n &#39;重&#39;,\n &#39;要&#39;,\n &#39;组&#39;,\n &#39;部&#39;,\n &#39;日&#39;,\n &#39;俄&#39;,\n &#39;两&#39;,\n &#39;政&#39;,\n &#39;局&#39;,\n &#39;都&#39;,\n &#39;充&#39;,\n &#39;满&#39;,\n &#39;变&#39;,\n &#39;数&#39;,\n &#39;尽&#39;,\n &#39;管&#39;,\n &#39;关&#39;,\n &#39;目&#39;,\n &#39;前&#39;,\n &#39;是&#39;,\n &#39;历&#39;,\n &#39;史&#39;,\n &#39;最&#39;,\n &#39;佳&#39;,\n &#39;时&#39;,\n &#39;期&#39;,\n &#39;其&#39;,\n &#39;脆&#39;,\n &#39;弱&#39;,\n &#39;性&#39;,\n &#39;不&#39;,\n &#39;言&#39;,\n &#39;明&#39;,\n &#39;克&#39;,\n &#39;马&#39;,\n &#39;尔&#39;,\n &#39;女&#39;,\n &#39;儿&#39;,\n &#39;让&#39;,\n &#39;娜&#39;,\n &#39;今&#39;,\n &#39;年&#39;,\n &#39;读&#39;,\n &#39;五&#39;,\n &#39;级&#39;,\n &#39;她&#39;,\n &#39;班&#39;,\n &#39;上&#39;,\n &#39;3&#39;,\n &#39;0&#39;,\n &#39;多&#39;,\n &#39;同&#39;,\n &#39;学&#39;,\n &#39;该&#39;,\n &#39;委&#39;,\n &#39;1&#39;,\n &#39;长&#39;,\n &#39;参&#39;,\n &#39;加&#39;,\n &#39;步&#39;,\n &#39;行&#39;,\n &#39;男&#39;,\n &#39;轻&#39;,\n &#39;也&#39;,\n &#39;中&#39;,\n &#39;沙&#39;,\n &#39;特&#39;,\n &#39;队&#39;,\n &#39;教&#39;,\n &#39;练&#39;,\n &#39;佩&#39;,\n &#39;雷&#39;,\n &#39;拉&#39;,\n &#39;：&#39;,\n &#39;支&#39;,\n &#39;想&#39;,\n &#39;胜&#39;,\n &#39;因&#39;,\n &#39;此&#39;,\n &#39;出&#39;,\n &#39;了&#39;,\n &#39;努&#39;,\n &#39;力&#39;,\n &#39;种&#39;,\n &#39;混&#39;,\n &#39;乱&#39;,\n &#39;面&#39;,\n &#39;导&#39;,\n &#39;致&#39;,\n &#39;些&#39;,\n &#39;使&#39;,\n &#39;用&#39;,\n &#39;者&#39;,\n &#39;合&#39;,\n &#39;法&#39;,\n &#39;权&#39;,\n &#39;益&#39;,\n &#39;难&#39;,\n &#39;以&#39;,\n &#39;维&#39;,\n &#39;护&#39;,\n &#39;鲁&#39;,\n &#39;宾&#39;,\n &#39;确&#39;,\n &#39;指&#39;,\n &#39;对&#39;,\n &#39;府&#39;,\n &#39;控&#39;,\n &#39;完&#39;,\n &#39;全&#39;,\n &#39;没&#39;,\n &#39;事&#39;,\n &#39;实&#39;,\n &#39;根&#39;,\n &#39;据&#39;,\n &#39;向&#39;,\n &#39;转&#39;,\n &#39;敏&#39;,\n &#39;感&#39;,\n &#39;技&#39;,\n &#39;术&#39;,\n &#39;相&#39;,\n &#39;总&#39;,\n &#39;白&#39;,\n &#39;于&#39;,\n &#39;；&#39;,\n &#39;众&#39;,\n &#39;议&#39;,\n &#39;院&#39;,\n &#39;令&#39;,\n &#39;非&#39;,\n &#39;常&#39;,\n &#39;望&#39;,\n &#39;将&#39;,\n &#39;商&#39;,\n &#39;卫&#39;,\n &#39;星&#39;,\n &#39;受&#39;,\n &#39;威&#39;,\n &#39;胁&#39;,\n &#39;竞&#39;,\n &#39;争&#39;,\n &#39;损&#39;,\n &#39;害&#39;,\n &#39;育&#39;,\n &#39;场&#39;,\n &#39;每&#39;,\n &#39;早&#39;,\n &#39;6&#39;,\n &#39;至&#39;,\n &#39;8&#39;,\n &#39;免&#39;,\n &#39;费&#39;,\n &#39;开&#39;,\n &#39;放&#39;,\n &#39;游&#39;,\n &#39;泳&#39;,\n &#39;等&#39;,\n &#39;则&#39;,\n &#39;增&#39;,\n &#39;综&#39;,\n &#39;服&#39;,\n &#39;务&#39;,\n &#39;延&#39;,\n &#39;采&#39;,\n &#39;取&#39;,\n &#39;灵&#39;,\n &#39;活&#39;,\n &#39;收&#39;,\n &#39;再&#39;,\n &#39;看&#39;,\n &#39;容&#39;,\n &#39;图&#39;,\n &#39;文&#39;,\n &#39;并&#39;,\n &#39;茂&#39;,\n &#39;简&#39;,\n &#39;短&#39;,\n &#39;字&#39;,\n &#39;准&#39;,\n &#39;反&#39;,\n &#39;映&#39;,\n &#39;六&#39;,\n &#39;族&#39;,\n &#39;风&#39;,\n &#39;土&#39;,\n &#39;情&#39;,\n &#39;传&#39;,\n &#39;统&#39;,\n &#39;各&#39;,\n &#39;讲&#39;,\n &#39;很&#39;,\n &#39;哥&#39;,\n &#39;伦&#39;,\n &#39;亚&#39;,\n &#39;号&#39;,\n &#39;航&#39;,\n &#39;飞&#39;,\n &#39;机&#39;,\n &#39;宇&#39;,\n &#39;边&#39;,\n &#39;进&#39;,\n &#39;验&#39;,\n &#39;继&#39;,\n &#39;续&#39;,\n &#39;抢&#39;,\n &#39;修&#39;,\n &#39;故&#39;,\n &#39;二&#39;,\n &#39;氧&#39;,\n &#39;碳&#39;,\n &#39;清&#39;,\n &#39;除&#39;,\n &#39;装&#39;,\n &#39;置&#39;,\n &#39;从&#39;,\n &#39;剥&#39;,\n &#39;削&#39;,\n &#39;阶&#39;,\n &#39;劳&#39;,\n &#39;动&#39;,\n &#39;生&#39;,\n &#39;率&#39;,\n &#39;低&#39;,\n &#39;况&#39;,\n &#39;占&#39;,\n &#39;限&#39;,\n &#39;剩&#39;,\n &#39;余&#39;,\n &#39;品&#39;,\n &#39;足&#39;,\n &#39;豪&#39;,\n &#39;华&#39;,\n &#39;需&#39;,\n &#39;量&#39;,\n &#39;扩&#39;,\n &#39;现&#39;,\n &#39;资&#39;,\n &#39;条&#39;,\n &#39;件&#39;,\n &#39;榨&#39;,\n &#39;价&#39;,\n &#39;值&#39;,\n &#39;供&#39;,\n &#39;身&#39;,\n &#39;求&#39;,\n &#39;外&#39;,\n &#39;又&#39;,\n &#39;本&#39;,\n &#39;新&#39;,\n &#39;雇&#39;,\n &#39;佣&#39;,\n &#39;私&#39;,\n &#39;来&#39;,\n &#39;料&#39;,\n &#39;集&#39;,\n &#39;代&#39;,\n &#39;表&#39;,\n &#39;澳&#39;,\n &#39;别&#39;,\n &#39;区&#39;,\n &#39;筹&#39;,\n &#39;备&#39;,\n &#39;第&#39;,\n &#39;次&#39;,\n &#39;午&#39;,\n &#39;北&#39;,\n &#39;京&#39;,\n &#39;堂&#39;,\n &#39;幕&#39;,\n &#39;副&#39;,\n &#39;理&#39;,\n &#39;任&#39;,\n &#39;钱&#39;,\n &#39;琛&#39;,\n &#39;词&#39;,\n &#39;工&#39;,\n &#39;经&#39;,\n &#39;启&#39;,\n &#39;临&#39;,\n &#39;紧&#39;,\n &#39;迫&#39;,\n &#39;们&#39;,\n &#39;道&#39;,\n &#39;远&#39;,\n &#39;希&#39;,\n &#39;齐&#39;,\n &#39;心&#39;,\n &#39;协&#39;,\n &#39;平&#39;,\n &#39;稳&#39;,\n &#39;过&#39;,\n &#39;渡&#39;,\n &#39;顺&#39;,\n &#39;交&#39;,\n &#39;接&#39;,\n &#39;贡&#39;,\n &#39;献&#39;,\n &#39;济&#39;,\n &#39;程&#39;,\n &#39;界&#39;,\n &#39;深&#39;,\n &#39;信&#39;,\n &#39;观&#39;,\n &#39;必&#39;,\n &#39;须&#39;,\n &#39;微&#39;,\n &#39;基&#39;,\n &#39;础&#39;,\n &#39;病&#39;,\n &#39;好&#39;,\n &#39;颈&#39;,\n &#39;背&#39;,\n &#39;躯&#39;,\n &#39;干&#39;,\n &#39;殖&#39;,\n &#39;器&#39;,\n &#39;可&#39;,\n &#39;见&#39;,\n &#39;龄&#39;,\n &#39;市&#39;,\n &#39;柔&#39;,\n &#39;县&#39;,\n &#39;试&#39;,\n &#39;遍&#39;,\n &#39;觉&#39;,\n &#39;四&#39;,\n &#39;节&#39;,\n &#39;课&#39;,\n &#39;饥&#39;,\n &#39;饿&#39;,\n &#39;消&#39;,\n &#39;川&#39;,\n &#39;省&#39;,\n &#39;江&#39;,\n &#39;油&#39;,\n &#39;丰&#39;,\n &#39;选&#39;,\n &#39;豆&#39;,\n &#39;奶&#39;,\n &#39;复&#39;,\n &#39;营&#39;,\n &#39;养&#39;,\n &#39;素&#39;,\n &#39;贫&#39;,\n &#39;血&#39;,\n &#39;降&#39;,\n &#39;百&#39;,\n &#39;照&#39;,\n &#39;只&#39;,\n &#39;．&#39;,\n &#39;4&#39;,\n &#39;宗&#39;,\n &#39;旨&#39;,\n &#39;决&#39;,\n &#39;定&#39;,\n &#39;奉&#39;,\n &#39;甘&#39;,\n &#39;愿&#39;,\n &#39;吃&#39;,\n &#39;亏&#39;,\n &#39;苦&#39;,\n &#39;享&#39;,\n &#39;困&#39;,\n &#39;危&#39;,\n &#39;留&#39;,\n &#39;给&#39;,\n &#39;己&#39;,\n &#39;方&#39;,\n &#39;便&#39;,\n &#39;安&#39;,\n &#39;初&#39;,\n &#39;央&#39;,\n &#39;形&#39;,\n &#39;势&#39;,\n &#39;快&#39;,\n &#39;速&#39;,\n &#39;策&#39;,\n &#39;立&#39;,\n &#39;研&#39;,\n &#39;究&#39;,\n &#39;派&#39;,\n &#39;就&#39;,\n &#39;提&#39;,\n &#39;许&#39;,\n &#39;富&#39;,\n &#39;意&#39;,\n &#39;味&#39;,\n &#39;论&#39;,\n &#39;话&#39;,\n &#39;题&#39;,\n &#39;书&#39;,\n &#39;记&#39;,\n &#39;粟&#39;,\n &#39;光&#39;,\n &#39;断&#39;,\n &#39;他&#39;,\n &#39;亲&#39;,\n &#39;兄&#39;,\n &#39;弟&#39;,\n &#39;签&#39;,\n &#39;！&#39;,\n &#39;熟&#39;,\n &#39;悉&#39;,\n &#39;运&#39;,\n &#39;士&#39;,\n &#39;说&#39;,\n &#39;贷&#39;,\n &#39;款&#39;,\n &#39;旦&#39;,\n &#39;被&#39;,\n &#39;推&#39;,\n &#39;迟&#39;,\n &#39;几&#39;,\n &#39;月&#39;,\n &#39;甚&#39;,\n &#39;更&#39;,\n &#39;考&#39;,\n &#39;虑&#39;,\n &#39;伍&#39;,\n &#39;义&#39;,\n &#39;气&#39;,\n &#39;原&#39;,\n &#39;惠&#39;,\n &#39;象&#39;,\n &#39;估&#39;,\n &#39;像&#39;,\n &#39;疤&#39;,\n &#39;痕&#39;,\n &#39;笨&#39;,\n &#39;拙&#39;,\n &#39;手&#39;,\n &#39;针&#39;,\n &#39;线&#39;,\n &#39;周&#39;,\n &#39;恩&#39;,\n &#39;那&#39;,\n &#39;送&#39;,\n &#39;株&#39;,\n &#39;万&#39;,\n &#39;古&#39;,\n &#39;青&#39;,\n &#39;友&#39;,\n &#39;谊&#39;,\n &#39;红&#39;,\n &#39;杉&#39;,\n &#39;吧&#39;,\n &#39;巴&#39;,\n &#39;谈&#39;,\n &#39;问&#39;,\n &#39;印&#39;,\n &#39;声&#39;,\n &#39;宣&#39;,\n &#39;称&#39;,\n &#39;何&#39;,\n &#39;三&#39;,\n &#39;介&#39;,\n &#39;入&#39;,\n &#39;久&#39;,\n &#39;赴&#39;,\n &#39;西&#39;,\n &#39;老&#39;,\n &#39;访&#39;,\n &#39;广&#39;,\n &#39;职&#39;,\n &#39;积&#39;,\n &#39;极&#39;,\n &#39;企&#39;,\n &#39;监&#39;,\n &#39;督&#39;,\n &#39;如&#39;,\n &#39;居&#39;,\n &#39;子&#39;,\n &#39;倘&#39;,\n &#39;若&#39;,\n &#39;客&#39;,\n &#39;环&#39;,\n &#39;境&#39;,\n &#39;钝&#39;,\n &#39;迅&#39;,\n &#39;判&#39;,\n &#39;陷&#39;,\n &#39;处&#39;,\n &#39;碰&#39;,\n &#39;壁&#39;,\n &#39;然&#39;,\n &#39;热&#39;,\n &#39;解&#39;,\n &#39;寻&#39;,\n &#39;找&#39;,\n &#39;联&#39;,\n &#39;邦&#39;,\n &#39;州&#39;,\n &#39;予&#39;,\n &#39;适&#39;,\n &#39;具&#39;,\n &#39;骤&#39;,\n &#39;吸&#39;,\n &#39;七&#39;,\n &#39;团&#39;,\n &#39;另&#39;,\n &#39;龙&#39;,\n &#39;口&#39;,\n &#39;科&#39;,\n &#39;投&#39;,\n &#39;视&#39;,\n &#39;息&#39;,\n &#39;创&#39;,\n &#39;跳&#39;,\n &#39;跃&#39;,\n &#39;式&#39;,\n &#39;展&#39;,\n &#39;强&#39;,\n &#39;调&#39;,\n &#39;高&#39;,\n &#39;培&#39;,\n &#39;训&#39;,\n &#39;认&#39;,\n &#39;识&#39;,\n &#39;密&#39;,\n &#39;结&#39;,\n &#39;小&#39;,\n &#39;九&#39;,\n &#39;升&#39;,\n &#39;或&#39;,\n &#39;段&#39;,\n &#39;少&#39;,\n &#39;懂&#39;,\n &#39;习&#39;,\n &#39;互&#39;,\n &#39;贵&#39;,\n &#39;贱&#39;,\n &#39;请&#39;,\n &#39;注&#39;,\n &#39;语&#39;,\n &#39;构&#39;,\n &#39;偏&#39;,\n &#39;孝&#39;,\n &#39;父&#39;,\n &#39;母&#39;,\n &#39;始&#39;,\n &#39;票&#39;,\n &#39;否&#39;,\n &#39;制&#39;,\n &#39;还&#39;,\n &#39;缺&#39;,\n &#39;乏&#39;,\n &#39;际&#39;,\n &#39;电&#39;,\n &#39;影&#39;,\n &#39;摄&#39;,\n &#39;录&#39;,\n &#39;音&#39;,\n &#39;剪&#39;,\n &#39;辑&#39;,\n &#39;诸&#39;,\n &#39;趋&#39;,\n &#39;激&#39;,\n &#39;烈&#39;,\n &#39;造&#39;,\n &#39;奇&#39;,\n &#39;夺&#39;,\n &#39;起&#39;,\n &#39;直&#39;,\n &#39;追&#39;,\n &#39;医&#39;,\n &#39;药&#39;,\n &#39;李&#39;,\n &#39;珍&#39;,\n &#39;闻&#39;,\n &#39;屡&#39;,\n &#39;仕&#39;,\n &#39;寄&#39;,\n &#39;托&#39;,\n &#39;八&#39;,\n &#39;股&#39;,\n &#39;兴&#39;,\n &#39;趣&#39;,\n &#39;酷&#39;,\n &#39;爱&#39;,\n &#39;召&#39;,\n &#39;吴&#39;,\n &#39;英&#39;,\n &#39;司&#39;,\n &#39;董&#39;,\n &#39;德&#39;,\n &#39;·&#39;,\n &#39;葛&#39;,\n &#39;夫&#39;,\n &#39;邀&#39;,\n &#39;席&#39;,\n &#39;车&#39;,\n &#39;闲&#39;,\n &#39;防&#39;,\n &#39;施&#39;,\n &#39;配&#39;,\n &#39;套&#39;,\n &#39;存&#39;,\n &#39;鹅&#39;,\n &#39;洲&#39;,\n &#39;源&#39;,\n &#39;终&#39;,\n &#39;连&#39;,\n &#39;串&#39;,\n &#39;井&#39;,\n &#39;序&#39;,\n &#39;顾&#39;,\n &#39;犯&#39;,\n &#39;罪&#39;,\n &#39;讳&#39;,\n &#39;审&#39;,\n &#39;死&#39;,\n &#39;刑&#39;,\n &#39;笔&#39;,\n &#39;融&#39;,\n &#39;农&#39;,\n &#39;假&#39;,\n &#39;币&#39;,\n &#39;知&#39;,\n &#39;巧&#39;,\n &#39;律&#39;,\n &#39;规&#39;,\n &#39;村&#39;,\n &#39;秩&#39;,\n &#39;『&#39;,\n &#39;范&#39;,\n &#39;茅&#39;,\n &#39;迹&#39;,\n &#39;览&#39;,\n &#39;』&#39;,\n &#39;磁&#39;,\n &#39;球&#39;,\n &#39;孩&#39;,\n &#39;格&#39;,\n &#39;散&#39;,\n &#39;着&#39;,\n &#39;独&#39;,\n &#39;魅&#39;,\n &#39;莱&#39;,\n &#39;坞&#39;,\n &#39;千&#39;,\n &#39;模&#39;,\n &#39;翻&#39;,\n &#39;版&#39;,\n &#39;？&#39;,\n &#39;燃&#39;,\n &#39;汽&#39;,\n &#39;仅&#39;,\n &#39;守&#39;,\n &#39;—&#39;,\n &#39;路&#39;,\n &#39;易&#39;,\n &#39;斯&#39;,\n &#39;切&#39;,\n &#39;迪&#39;,\n &#39;阿&#39;,\n &#39;塞&#39;,\n &#39;瓦&#39;,\n &#39;萨&#39;,\n &#39;卡&#39;,\n &#39;里&#39;,\n &#39;罗&#39;,\n &#39;弗&#39;,\n &#39;哈&#39;,\n &#39;丹&#39;,\n &#39;尼&#39;,\n &#39;扎&#39;,\n &#39;胡&#39;,\n &#39;埃&#39;,\n &#39;索&#39;,\n &#39;库&#39;,\n &#39;纳&#39;,\n &#39;吉&#39;,\n &#39;莫&#39;,\n &#39;帕&#39;,\n &#39;锋&#39;,\n &#39;米&#39;,\n &#39;贝&#39;,\n &#39;耶&#39;,\n &#39;冈&#39;,\n &#39;玻&#39;,\n &#39;乌&#39;,\n &#39;布&#39;,\n &#39;苏&#39;,\n &#39;念&#39;,\n &#39;案&#39;,\n &#39;罚&#39;,\n &#39;较&#39;,\n &#39;战&#39;,\n &#39;略&#39;,\n &#39;均&#39;,\n &#39;贸&#39;,\n &#39;拓&#39;,\n &#39;5&#39;,\n &#39;份&#39;,\n &#39;去&#39;,\n &#39;阅&#39;,\n &#39;室&#39;,\n &#39;刊&#39;,\n &#39;晚&#39;,\n &#39;智&#39;,\n &#39;藏&#39;,\n &#39;突&#39;,\n &#39;破&#39;,\n &#39;借&#39;,\n &#39;架&#39;,\n &#39;办&#39;,\n &#39;沃&#39;,\n &#39;盟&#39;,\n &#39;昨&#39;,\n &#39;约&#39;,\n &#39;南&#39;,\n &#39;举&#39;,\n &#39;空&#39;,\n &#39;军&#39;,\n &#39;演&#39;,\n &#39;示&#39;,\n &#39;欢&#39;,\n &#39;迎&#39;,\n &#39;帮&#39;,\n &#39;助&#39;,\n &#39;7&#39;,\n &#39;叫&#39;,\n &#39;迈&#39;,\n &#39;菲&#39;,\n &#39;查&#39;,\n &#39;奋&#39;,\n &#39;剂&#39;,\n &#39;通&#39;,\n &#39;未&#39;,\n &#39;勇&#39;,\n &#39;曲&#39;,\n &#39;绕&#39;,\n &#39;桥&#39;,\n &#39;绝&#39;,\n &#39;《&#39;,\n &#39;嫂&#39;,\n &#39;》&#39;,\n &#39;警&#39;,\n &#39;魂&#39;,\n &#39;片&#39;,\n &#39;获&#39;,\n &#39;房&#39;,\n &#39;石&#39;,\n &#39;香&#39;,\n &#39;港&#39;,\n &#39;朝&#39;,\n &#39;蓬&#39;,\n &#39;勃&#39;,\n &#39;拼&#39;,\n &#39;搏&#39;,\n &#39;斗&#39;,\n &#39;神&#39;,\n &#39;写&#39;,\n &#39;2&#39;,\n &#39;春&#39;,\n &#39;季&#39;,\n &#39;招&#39;,\n &#39;兵&#39;,\n &#39;募&#39;,\n &#39;既&#39;,\n &#39;食&#39;,\n &#39;预&#39;,\n &#39;止&#39;,\n &#39;癌&#39;,\n &#39;症&#39;,\n &#39;城&#39;,\n &#39;引&#39;,\n &#39;项&#39;,\n &#39;懈&#39;,\n &#39;液&#39;,\n &#39;尾&#39;,\n &#39;9&#39;,\n &#39;％&#39;,\n &#39;氢&#39;,\n &#39;减&#39;,\n &#39;污&#39;,\n &#39;染&#39;,\n &#39;双&#39;,\n &#39;网&#39;,\n &#39;抽&#39;,\n &#39;封&#39;,\n &#39;差&#39;,\n &#39;亟&#39;,\n &#39;待&#39;,\n &#39;单&#39;,\n &#39;麦&#39;,\n &#39;果&#39;,\n &#39;∶&#39;,\n &#39;松&#39;,\n &#39;赢&#39;,\n &#39;测&#39;,\n &#39;析&#39;,\n &#39;迷&#39;,\n &#39;叶&#39;,\n &#39;钦&#39;,\n &#39;岁&#39;,\n &#39;刻&#39;,\n &#39;哲&#39;,\n &#39;思&#39;,\n &#39;虽&#39;,\n &#39;担&#39;,\n &#39;负&#39;,\n &#39;领&#39;,\n &#39;责&#39;,\n &#39;专&#39;,\n &#39;却&#39;,\n &#39;爸&#39;,\n &#39;劲&#39;,\n &#39;抗&#39;,\n &#39;艰&#39;,\n &#39;聘&#39;,\n &#39;仍&#39;,\n &#39;治&#39;,\n &#39;洋&#39;,\n &#39;尊&#39;,\n &#39;庄&#39;,\n &#39;志&#39;,\n &#39;回&#39;,\n &#39;忆&#39;,\n &#39;淳&#39;,\n &#39;朴&#39;,\n &#39;报&#39;,\n &#39;届&#39;,\n &#39;张&#39;,\n &#39;君&#39;,\n &#39;秋&#39;,\n &#39;剧&#39;,\n &#39;角&#39;,\n &#39;艺&#39;,\n &#39;校&#39;,\n &#39;坚&#39;,\n &#39;质&#39;,\n &#39;围&#39;,\n &#39;侧&#39;,\n &#39;缓&#39;,\n &#39;财&#39;,\n &#39;状&#39;,\n &#39;聚&#39;,\n &#39;渠&#39;,\n &#39;逐&#39;,\n &#39;靠&#39;,\n &#39;优&#39;,\n &#39;征&#39;,\n &#39;稿&#39;,\n &#39;截&#39;,\n &#39;句&#39;,\n &#39;晤&#39;,\n &#39;纠&#39;,\n &#39;纷&#39;,\n &#39;朋&#39;,\n &#39;坏&#39;,\n &#39;它&#39;,\n &#39;促&#39;,\n &#39;岗&#39;,\n &#39;标&#39;,\n &#39;织&#39;,\n &#39;践&#39;,\n &#39;邓&#39;,\n &#39;按&#39;,\n &#39;署&#39;,\n &#39;挥&#39;,\n &#39;核&#39;,\n &#39;●&#39;,\n &#39;承&#39;,\n &#39;键&#39;,\n &#39;街&#39;,\n &#39;巷&#39;,\n &#39;横&#39;,\n &#39;幅&#39;,\n &#39;悬&#39;,\n &#39;画&#39;,\n &#39;头&#39;,\n &#39;欣&#39;,\n &#39;慰&#39;,\n ...]</code></pre>\n<div class=\"sourceCode\" id=\"cb7\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb7-1\"><a href=\"#cb7-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_label_list(path_list):</span>\n<span id=\"cb7-2\"><a href=\"#cb7-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    label_set <span class=\"op\">=</span> <span class=\"bu\">set</span>()</span>\n<span id=\"cb7-3\"><a href=\"#cb7-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    label_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb7-4\"><a href=\"#cb7-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> path <span class=\"kw\">in</span> path_list:</span>\n<span id=\"cb7-5\"><a href=\"#cb7-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb7-6\"><a href=\"#cb7-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb7-7\"><a href=\"#cb7-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line.strip()) <span class=\"op\">==</span> <span class=\"dv\">0</span>:</span>\n<span id=\"cb7-8\"><a href=\"#cb7-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"cf\">continue</span></span>\n<span id=\"cb7-9\"><a href=\"#cb7-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> line[<span class=\"dv\">2</span>:].strip() <span class=\"kw\">not</span> <span class=\"kw\">in</span> label_set:</span>\n<span id=\"cb7-10\"><a href=\"#cb7-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    label_set.add(line[<span class=\"dv\">2</span>:].strip())</span>\n<span id=\"cb7-11\"><a href=\"#cb7-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    label_list.append(line[<span class=\"dv\">2</span>:].strip())</span>\n<span id=\"cb7-12\"><a href=\"#cb7-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> label_list</span>\n<span id=\"cb7-13\"><a href=\"#cb7-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb7-14\"><a href=\"#cb7-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> save_label(path,label_list):</span>\n<span id=\"cb7-15\"><a href=\"#cb7-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    output <span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span>.join([label <span class=\"op\">+</span> <span class=\"st\">&#39;</span><span class=\"ch\">\\n</span><span class=\"st\">&#39;</span> <span class=\"cf\">for</span> label <span class=\"kw\">in</span> label_list])</span>\n<span id=\"cb7-16\"><a href=\"#cb7-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;w&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb7-17\"><a href=\"#cb7-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>        f.write(output)</span>\n<span id=\"cb7-18\"><a href=\"#cb7-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb7-19\"><a href=\"#cb7-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>label_list <span class=\"op\">=</span> get_label_list([<span class=\"st\">&#39;./datasets/example.train&#39;</span>,<span class=\"st\">&#39;./datasets/example.dev&#39;</span>,<span class=\"st\">&#39;./datasets/example.test&#39;</span>])</span>\n<span id=\"cb7-20\"><a href=\"#cb7-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>save_label(<span class=\"st\">&#39;./datasets/label.txt&#39;</span>,label_list)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb8\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb8-1\"><a href=\"#cb8-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>label_list</span></code></pre></div>\n<pre><code>[&#39;O&#39;, &#39;B-LOC&#39;, &#39;I-LOC&#39;, &#39;B-PER&#39;, &#39;I-PER&#39;, &#39;B-ORG&#39;, &#39;I-ORG&#39;]</code></pre>\n<h4 id=\"加载数据\">加载数据</h4>\n<p>分别获取vocab 和label与id的映射</p>\n<div class=\"sourceCode\" id=\"cb10\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb10-1\"><a href=\"#cb10-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_string2id(path):    string2id <span class=\"op\">=</span> &#123;&#125;    id2string <span class=\"op\">=</span> []    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:             string2id[line.strip()] <span class=\"op\">=</span> <span class=\"bu\">len</span>(string2id)            id2string.append(line.strip())    <span class=\"cf\">return</span> id2string,string2idid2label,label2id <span class=\"op\">=</span> get_string2id(<span class=\"st\">&quot;./datasets/label.txt&quot;</span>)id2vocab,vocab2id <span class=\"op\">=</span> get_string2id(<span class=\"st\">&quot;./datasets/vocab.txt&quot;</span>)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb11\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb11-1\"><a href=\"#cb11-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>id2label</span></code></pre></div>\n<pre><code>[&#39;O&#39;, &#39;B-LOC&#39;, &#39;I-LOC&#39;, &#39;B-PER&#39;, &#39;I-PER&#39;, &#39;B-ORG&#39;, &#39;I-ORG&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb13\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb13-1\"><a href=\"#cb13-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>label2id</span></code></pre></div>\n<pre><code>&#123;&#39;O&#39;: 0,\n &#39;B-LOC&#39;: 1,\n &#39;I-LOC&#39;: 2,\n &#39;B-PER&#39;: 3,\n &#39;I-PER&#39;: 4,\n &#39;B-ORG&#39;: 5,\n &#39;I-ORG&#39;: 6&#125;</code></pre>\n<div class=\"sourceCode\" id=\"cb15\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb15-1\"><a href=\"#cb15-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>id2vocab</span></code></pre></div>\n<pre><code>[&#39;海&#39;,\n &#39;钓&#39;,\n &#39;比&#39;,\n &#39;赛&#39;,\n &#39;地&#39;,\n &#39;点&#39;,\n &#39;在&#39;,\n &#39;厦&#39;,\n &#39;门&#39;,\n &#39;与&#39;,\n &#39;金&#39;,\n &#39;之&#39;,\n &#39;间&#39;,\n &#39;的&#39;,\n &#39;域&#39;,\n &#39;。&#39;,\n &#39;这&#39;,\n &#39;座&#39;,\n &#39;依&#39;,\n &#39;山&#39;,\n &#39;傍&#39;,\n &#39;水&#39;,\n &#39;博&#39;,\n &#39;物&#39;,\n &#39;馆&#39;,\n &#39;由&#39;,\n &#39;国&#39;,\n &#39;内&#39;,\n &#39;一&#39;,\n &#39;流&#39;,\n &#39;设&#39;,\n &#39;计&#39;,\n &#39;师&#39;,\n &#39;主&#39;,\n &#39;持&#39;,\n &#39;，&#39;,\n &#39;整&#39;,\n &#39;个&#39;,\n &#39;建&#39;,\n &#39;筑&#39;,\n &#39;群&#39;,\n &#39;精&#39;,\n &#39;美&#39;,\n &#39;而&#39;,\n &#39;恢&#39;,\n &#39;宏&#39;,\n &#39;但&#39;,\n &#39;作&#39;,\n &#39;为&#39;,\n &#39;共&#39;,\n &#39;产&#39;,\n &#39;党&#39;,\n &#39;员&#39;,\n &#39;、&#39;,\n &#39;人&#39;,\n &#39;民&#39;,\n &#39;公&#39;,\n &#39;仆&#39;,\n &#39;应&#39;,\n &#39;当&#39;,\n &#39;胸&#39;,\n &#39;怀&#39;,\n &#39;宽&#39;,\n &#39;阔&#39;,\n &#39;真&#39;,\n &#39;正&#39;,\n &#39;做&#39;,\n &#39;到&#39;,\n &#39;“&#39;,\n &#39;先&#39;,\n &#39;天&#39;,\n &#39;下&#39;,\n &#39;忧&#39;,\n &#39;后&#39;,\n &#39;乐&#39;,\n &#39;”&#39;,\n &#39;淡&#39;,\n &#39;化&#39;,\n &#39;名&#39;,\n &#39;利&#39;,\n &#39;得&#39;,\n &#39;失&#39;,\n &#39;和&#39;,\n &#39;宠&#39;,\n &#39;辱&#39;,\n &#39;悲&#39;,\n &#39;喜&#39;,\n &#39;把&#39;,\n &#39;改&#39;,\n &#39;革&#39;,\n &#39;大&#39;,\n &#39;业&#39;,\n &#39;摆&#39;,\n &#39;首&#39;,\n &#39;位&#39;,\n &#39;样&#39;,\n &#39;才&#39;,\n &#39;能&#39;,\n &#39;超&#39;,\n &#39;越&#39;,\n &#39;自&#39;,\n &#39;我&#39;,\n &#39;脱&#39;,\n &#39;世&#39;,\n &#39;俗&#39;,\n &#39;有&#39;,\n &#39;所&#39;,\n &#39;发&#39;,\n &#39;达&#39;,\n &#39;家&#39;,\n &#39;急&#39;,\n &#39;救&#39;,\n &#39;保&#39;,\n &#39;险&#39;,\n &#39;十&#39;,\n &#39;分&#39;,\n &#39;普&#39;,\n &#39;及&#39;,\n &#39;已&#39;,\n &#39;成&#39;,\n &#39;社&#39;,\n &#39;会&#39;,\n &#39;障&#39;,\n &#39;体&#39;,\n &#39;系&#39;,\n &#39;重&#39;,\n &#39;要&#39;,\n &#39;组&#39;,\n &#39;部&#39;,\n &#39;日&#39;,\n &#39;俄&#39;,\n &#39;两&#39;,\n &#39;政&#39;,\n &#39;局&#39;,\n &#39;都&#39;,\n &#39;充&#39;,\n &#39;满&#39;,\n &#39;变&#39;,\n &#39;数&#39;,\n &#39;尽&#39;,\n &#39;管&#39;,\n &#39;关&#39;,\n &#39;目&#39;,\n &#39;前&#39;,\n &#39;是&#39;,\n &#39;历&#39;,\n &#39;史&#39;,\n &#39;最&#39;,\n &#39;佳&#39;,\n &#39;时&#39;,\n &#39;期&#39;,\n &#39;其&#39;,\n &#39;脆&#39;,\n &#39;弱&#39;,\n &#39;性&#39;,\n &#39;不&#39;,\n &#39;言&#39;,\n &#39;明&#39;,\n &#39;克&#39;,\n &#39;马&#39;,\n &#39;尔&#39;,\n &#39;女&#39;,\n &#39;儿&#39;,\n &#39;让&#39;,\n &#39;娜&#39;,\n &#39;今&#39;,\n &#39;年&#39;,\n &#39;读&#39;,\n &#39;五&#39;,\n &#39;级&#39;,\n &#39;她&#39;,\n &#39;班&#39;,\n &#39;上&#39;,\n &#39;3&#39;,\n &#39;0&#39;,\n &#39;多&#39;,\n &#39;同&#39;,\n &#39;学&#39;,\n &#39;该&#39;,\n &#39;委&#39;,\n &#39;1&#39;,\n &#39;长&#39;,\n &#39;参&#39;,\n &#39;加&#39;,\n &#39;步&#39;,\n &#39;行&#39;,\n &#39;男&#39;,\n &#39;轻&#39;,\n &#39;也&#39;,\n &#39;中&#39;,\n &#39;沙&#39;,\n &#39;特&#39;,\n &#39;队&#39;,\n &#39;教&#39;,\n &#39;练&#39;,\n &#39;佩&#39;,\n &#39;雷&#39;,\n &#39;拉&#39;,\n &#39;：&#39;,\n &#39;支&#39;,\n &#39;想&#39;,\n &#39;胜&#39;,\n &#39;因&#39;,\n &#39;此&#39;,\n &#39;出&#39;,\n &#39;了&#39;,\n &#39;努&#39;,\n &#39;力&#39;,\n &#39;种&#39;,\n &#39;混&#39;,\n &#39;乱&#39;,\n &#39;面&#39;,\n &#39;导&#39;,\n &#39;致&#39;,\n &#39;些&#39;,\n &#39;使&#39;,\n &#39;用&#39;,\n &#39;者&#39;,\n &#39;合&#39;,\n &#39;法&#39;,\n &#39;权&#39;,\n &#39;益&#39;,\n &#39;难&#39;,\n &#39;以&#39;,\n &#39;维&#39;,\n &#39;护&#39;,\n &#39;鲁&#39;,\n &#39;宾&#39;,\n &#39;确&#39;,\n &#39;指&#39;,\n &#39;对&#39;,\n &#39;府&#39;,\n &#39;控&#39;,\n &#39;完&#39;,\n &#39;全&#39;,\n &#39;没&#39;,\n &#39;事&#39;,\n &#39;实&#39;,\n &#39;根&#39;,\n &#39;据&#39;,\n &#39;向&#39;,\n &#39;转&#39;,\n &#39;敏&#39;,\n &#39;感&#39;,\n &#39;技&#39;,\n &#39;术&#39;,\n &#39;相&#39;,\n &#39;总&#39;,\n &#39;白&#39;,\n &#39;于&#39;,\n &#39;；&#39;,\n &#39;众&#39;,\n &#39;议&#39;,\n &#39;院&#39;,\n &#39;令&#39;,\n &#39;非&#39;,\n &#39;常&#39;,\n &#39;望&#39;,\n &#39;将&#39;,\n &#39;商&#39;,\n &#39;卫&#39;,\n &#39;星&#39;,\n &#39;受&#39;,\n &#39;威&#39;,\n &#39;胁&#39;,\n &#39;竞&#39;,\n &#39;争&#39;,\n &#39;损&#39;,\n &#39;害&#39;,\n &#39;育&#39;,\n &#39;场&#39;,\n &#39;每&#39;,\n &#39;早&#39;,\n &#39;6&#39;,\n &#39;至&#39;,\n &#39;8&#39;,\n &#39;免&#39;,\n &#39;费&#39;,\n &#39;开&#39;,\n &#39;放&#39;,\n &#39;游&#39;,\n &#39;泳&#39;,\n &#39;等&#39;,\n &#39;则&#39;,\n &#39;增&#39;,\n &#39;综&#39;,\n &#39;服&#39;,\n &#39;务&#39;,\n &#39;延&#39;,\n &#39;采&#39;,\n &#39;取&#39;,\n &#39;灵&#39;,\n &#39;活&#39;,\n &#39;收&#39;,\n &#39;再&#39;,\n &#39;看&#39;,\n &#39;容&#39;,\n &#39;图&#39;,\n &#39;文&#39;,\n &#39;并&#39;,\n &#39;茂&#39;,\n &#39;简&#39;,\n &#39;短&#39;,\n &#39;字&#39;,\n &#39;准&#39;,\n &#39;反&#39;,\n &#39;映&#39;,\n &#39;六&#39;,\n &#39;族&#39;,\n &#39;风&#39;,\n &#39;土&#39;,\n &#39;情&#39;,\n &#39;传&#39;,\n &#39;统&#39;,\n &#39;各&#39;,\n &#39;讲&#39;,\n &#39;很&#39;,\n &#39;哥&#39;,\n &#39;伦&#39;,\n &#39;亚&#39;,\n &#39;号&#39;,\n &#39;航&#39;,\n &#39;飞&#39;,\n &#39;机&#39;,\n &#39;宇&#39;,\n &#39;边&#39;,\n &#39;进&#39;,\n &#39;验&#39;,\n &#39;继&#39;,\n &#39;续&#39;,\n &#39;抢&#39;,\n &#39;修&#39;,\n &#39;故&#39;,\n &#39;二&#39;,\n &#39;氧&#39;,\n &#39;碳&#39;,\n &#39;清&#39;,\n &#39;除&#39;,\n &#39;装&#39;,\n &#39;置&#39;,\n &#39;从&#39;,\n &#39;剥&#39;,\n &#39;削&#39;,\n &#39;阶&#39;,\n &#39;劳&#39;,\n &#39;动&#39;,\n &#39;生&#39;,\n &#39;率&#39;,\n &#39;低&#39;,\n &#39;况&#39;,\n &#39;占&#39;,\n &#39;限&#39;,\n &#39;剩&#39;,\n &#39;余&#39;,\n &#39;品&#39;,\n &#39;足&#39;,\n &#39;豪&#39;,\n &#39;华&#39;,\n &#39;需&#39;,\n &#39;量&#39;,\n &#39;扩&#39;,\n &#39;现&#39;,\n &#39;资&#39;,\n &#39;条&#39;,\n &#39;件&#39;,\n &#39;榨&#39;,\n &#39;价&#39;,\n &#39;值&#39;,\n &#39;供&#39;,\n &#39;身&#39;,\n &#39;求&#39;,\n &#39;外&#39;,\n &#39;又&#39;,\n &#39;本&#39;,\n &#39;新&#39;,\n &#39;雇&#39;,\n &#39;佣&#39;,\n &#39;私&#39;,\n &#39;来&#39;,\n &#39;料&#39;,\n &#39;集&#39;,\n &#39;代&#39;,\n &#39;表&#39;,\n &#39;澳&#39;,\n &#39;别&#39;,\n &#39;区&#39;,\n &#39;筹&#39;,\n &#39;备&#39;,\n &#39;第&#39;,\n &#39;次&#39;,\n &#39;午&#39;,\n &#39;北&#39;,\n &#39;京&#39;,\n &#39;堂&#39;,\n &#39;幕&#39;,\n &#39;副&#39;,\n &#39;理&#39;,\n &#39;任&#39;,\n &#39;钱&#39;,\n &#39;琛&#39;,\n &#39;词&#39;,\n &#39;工&#39;,\n &#39;经&#39;,\n &#39;启&#39;,\n &#39;临&#39;,\n &#39;紧&#39;,\n &#39;迫&#39;,\n &#39;们&#39;,\n &#39;道&#39;,\n &#39;远&#39;,\n &#39;希&#39;,\n &#39;齐&#39;,\n &#39;心&#39;,\n &#39;协&#39;,\n &#39;平&#39;,\n &#39;稳&#39;,\n &#39;过&#39;,\n &#39;渡&#39;,\n &#39;顺&#39;,\n &#39;交&#39;,\n &#39;接&#39;,\n &#39;贡&#39;,\n &#39;献&#39;,\n &#39;济&#39;,\n &#39;程&#39;,\n &#39;界&#39;,\n &#39;深&#39;,\n &#39;信&#39;,\n &#39;观&#39;,\n &#39;必&#39;,\n &#39;须&#39;,\n &#39;微&#39;,\n &#39;基&#39;,\n &#39;础&#39;,\n &#39;病&#39;,\n &#39;好&#39;,\n &#39;颈&#39;,\n &#39;背&#39;,\n &#39;躯&#39;,\n &#39;干&#39;,\n &#39;殖&#39;,\n &#39;器&#39;,\n &#39;可&#39;,\n &#39;见&#39;,\n &#39;龄&#39;,\n &#39;市&#39;,\n &#39;柔&#39;,\n &#39;县&#39;,\n &#39;试&#39;,\n &#39;遍&#39;,\n &#39;觉&#39;,\n &#39;四&#39;,\n &#39;节&#39;,\n &#39;课&#39;,\n &#39;饥&#39;,\n &#39;饿&#39;,\n &#39;消&#39;,\n &#39;川&#39;,\n &#39;省&#39;,\n &#39;江&#39;,\n &#39;油&#39;,\n &#39;丰&#39;,\n &#39;选&#39;,\n &#39;豆&#39;,\n &#39;奶&#39;,\n &#39;复&#39;,\n &#39;营&#39;,\n &#39;养&#39;,\n &#39;素&#39;,\n &#39;贫&#39;,\n &#39;血&#39;,\n &#39;降&#39;,\n &#39;百&#39;,\n &#39;照&#39;,\n &#39;只&#39;,\n &#39;．&#39;,\n &#39;4&#39;,\n &#39;宗&#39;,\n &#39;旨&#39;,\n &#39;决&#39;,\n &#39;定&#39;,\n &#39;奉&#39;,\n &#39;甘&#39;,\n &#39;愿&#39;,\n &#39;吃&#39;,\n &#39;亏&#39;,\n &#39;苦&#39;,\n &#39;享&#39;,\n &#39;困&#39;,\n &#39;危&#39;,\n &#39;留&#39;,\n &#39;给&#39;,\n &#39;己&#39;,\n &#39;方&#39;,\n &#39;便&#39;,\n &#39;安&#39;,\n &#39;初&#39;,\n &#39;央&#39;,\n &#39;形&#39;,\n &#39;势&#39;,\n &#39;快&#39;,\n &#39;速&#39;,\n &#39;策&#39;,\n &#39;立&#39;,\n &#39;研&#39;,\n &#39;究&#39;,\n &#39;派&#39;,\n &#39;就&#39;,\n &#39;提&#39;,\n &#39;许&#39;,\n &#39;富&#39;,\n &#39;意&#39;,\n &#39;味&#39;,\n &#39;论&#39;,\n &#39;话&#39;,\n &#39;题&#39;,\n &#39;书&#39;,\n &#39;记&#39;,\n &#39;粟&#39;,\n &#39;光&#39;,\n &#39;断&#39;,\n &#39;他&#39;,\n &#39;亲&#39;,\n &#39;兄&#39;,\n &#39;弟&#39;,\n &#39;签&#39;,\n &#39;！&#39;,\n &#39;熟&#39;,\n &#39;悉&#39;,\n &#39;运&#39;,\n &#39;士&#39;,\n &#39;说&#39;,\n &#39;贷&#39;,\n &#39;款&#39;,\n &#39;旦&#39;,\n &#39;被&#39;,\n &#39;推&#39;,\n &#39;迟&#39;,\n &#39;几&#39;,\n &#39;月&#39;,\n &#39;甚&#39;,\n &#39;更&#39;,\n &#39;考&#39;,\n &#39;虑&#39;,\n &#39;伍&#39;,\n &#39;义&#39;,\n &#39;气&#39;,\n &#39;原&#39;,\n &#39;惠&#39;,\n &#39;象&#39;,\n &#39;估&#39;,\n &#39;像&#39;,\n &#39;疤&#39;,\n &#39;痕&#39;,\n &#39;笨&#39;,\n &#39;拙&#39;,\n &#39;手&#39;,\n &#39;针&#39;,\n &#39;线&#39;,\n &#39;周&#39;,\n &#39;恩&#39;,\n &#39;那&#39;,\n &#39;送&#39;,\n &#39;株&#39;,\n &#39;万&#39;,\n &#39;古&#39;,\n &#39;青&#39;,\n &#39;友&#39;,\n &#39;谊&#39;,\n &#39;红&#39;,\n &#39;杉&#39;,\n &#39;吧&#39;,\n &#39;巴&#39;,\n &#39;谈&#39;,\n &#39;问&#39;,\n &#39;印&#39;,\n &#39;声&#39;,\n &#39;宣&#39;,\n &#39;称&#39;,\n &#39;何&#39;,\n &#39;三&#39;,\n &#39;介&#39;,\n &#39;入&#39;,\n &#39;久&#39;,\n &#39;赴&#39;,\n &#39;西&#39;,\n &#39;老&#39;,\n &#39;访&#39;,\n &#39;广&#39;,\n &#39;职&#39;,\n &#39;积&#39;,\n &#39;极&#39;,\n &#39;企&#39;,\n &#39;监&#39;,\n &#39;督&#39;,\n &#39;如&#39;,\n &#39;居&#39;,\n &#39;子&#39;,\n &#39;倘&#39;,\n &#39;若&#39;,\n &#39;客&#39;,\n &#39;环&#39;,\n &#39;境&#39;,\n &#39;钝&#39;,\n &#39;迅&#39;,\n &#39;判&#39;,\n &#39;陷&#39;,\n &#39;处&#39;,\n &#39;碰&#39;,\n &#39;壁&#39;,\n &#39;然&#39;,\n &#39;热&#39;,\n &#39;解&#39;,\n &#39;寻&#39;,\n &#39;找&#39;,\n &#39;联&#39;,\n &#39;邦&#39;,\n &#39;州&#39;,\n &#39;予&#39;,\n &#39;适&#39;,\n &#39;具&#39;,\n &#39;骤&#39;,\n &#39;吸&#39;,\n &#39;七&#39;,\n &#39;团&#39;,\n &#39;另&#39;,\n &#39;龙&#39;,\n &#39;口&#39;,\n &#39;科&#39;,\n &#39;投&#39;,\n &#39;视&#39;,\n &#39;息&#39;,\n &#39;创&#39;,\n &#39;跳&#39;,\n &#39;跃&#39;,\n &#39;式&#39;,\n &#39;展&#39;,\n &#39;强&#39;,\n &#39;调&#39;,\n &#39;高&#39;,\n &#39;培&#39;,\n &#39;训&#39;,\n &#39;认&#39;,\n &#39;识&#39;,\n &#39;密&#39;,\n &#39;结&#39;,\n &#39;小&#39;,\n &#39;九&#39;,\n &#39;升&#39;,\n &#39;或&#39;,\n &#39;段&#39;,\n &#39;少&#39;,\n &#39;懂&#39;,\n &#39;习&#39;,\n &#39;互&#39;,\n &#39;贵&#39;,\n &#39;贱&#39;,\n &#39;请&#39;,\n &#39;注&#39;,\n &#39;语&#39;,\n &#39;构&#39;,\n &#39;偏&#39;,\n &#39;孝&#39;,\n &#39;父&#39;,\n &#39;母&#39;,\n &#39;始&#39;,\n &#39;票&#39;,\n &#39;否&#39;,\n &#39;制&#39;,\n &#39;还&#39;,\n &#39;缺&#39;,\n &#39;乏&#39;,\n &#39;际&#39;,\n &#39;电&#39;,\n &#39;影&#39;,\n &#39;摄&#39;,\n &#39;录&#39;,\n &#39;音&#39;,\n &#39;剪&#39;,\n &#39;辑&#39;,\n &#39;诸&#39;,\n &#39;趋&#39;,\n &#39;激&#39;,\n &#39;烈&#39;,\n &#39;造&#39;,\n &#39;奇&#39;,\n &#39;夺&#39;,\n &#39;起&#39;,\n &#39;直&#39;,\n &#39;追&#39;,\n &#39;医&#39;,\n &#39;药&#39;,\n &#39;李&#39;,\n &#39;珍&#39;,\n &#39;闻&#39;,\n &#39;屡&#39;,\n &#39;仕&#39;,\n &#39;寄&#39;,\n &#39;托&#39;,\n &#39;八&#39;,\n &#39;股&#39;,\n &#39;兴&#39;,\n &#39;趣&#39;,\n &#39;酷&#39;,\n &#39;爱&#39;,\n &#39;召&#39;,\n &#39;吴&#39;,\n &#39;英&#39;,\n &#39;司&#39;,\n &#39;董&#39;,\n &#39;德&#39;,\n &#39;·&#39;,\n &#39;葛&#39;,\n &#39;夫&#39;,\n &#39;邀&#39;,\n &#39;席&#39;,\n &#39;车&#39;,\n &#39;闲&#39;,\n &#39;防&#39;,\n &#39;施&#39;,\n &#39;配&#39;,\n &#39;套&#39;,\n &#39;存&#39;,\n &#39;鹅&#39;,\n &#39;洲&#39;,\n &#39;源&#39;,\n &#39;终&#39;,\n &#39;连&#39;,\n &#39;串&#39;,\n &#39;井&#39;,\n &#39;序&#39;,\n &#39;顾&#39;,\n &#39;犯&#39;,\n &#39;罪&#39;,\n &#39;讳&#39;,\n &#39;审&#39;,\n &#39;死&#39;,\n &#39;刑&#39;,\n &#39;笔&#39;,\n &#39;融&#39;,\n &#39;农&#39;,\n &#39;假&#39;,\n &#39;币&#39;,\n &#39;知&#39;,\n &#39;巧&#39;,\n &#39;律&#39;,\n &#39;规&#39;,\n &#39;村&#39;,\n &#39;秩&#39;,\n &#39;『&#39;,\n &#39;范&#39;,\n &#39;茅&#39;,\n &#39;迹&#39;,\n &#39;览&#39;,\n &#39;』&#39;,\n &#39;磁&#39;,\n &#39;球&#39;,\n &#39;孩&#39;,\n &#39;格&#39;,\n &#39;散&#39;,\n &#39;着&#39;,\n &#39;独&#39;,\n &#39;魅&#39;,\n &#39;莱&#39;,\n &#39;坞&#39;,\n &#39;千&#39;,\n &#39;模&#39;,\n &#39;翻&#39;,\n &#39;版&#39;,\n &#39;？&#39;,\n &#39;燃&#39;,\n &#39;汽&#39;,\n &#39;仅&#39;,\n &#39;守&#39;,\n &#39;—&#39;,\n &#39;路&#39;,\n &#39;易&#39;,\n &#39;斯&#39;,\n &#39;切&#39;,\n &#39;迪&#39;,\n &#39;阿&#39;,\n &#39;塞&#39;,\n &#39;瓦&#39;,\n &#39;萨&#39;,\n &#39;卡&#39;,\n &#39;里&#39;,\n &#39;罗&#39;,\n &#39;弗&#39;,\n &#39;哈&#39;,\n &#39;丹&#39;,\n &#39;尼&#39;,\n &#39;扎&#39;,\n &#39;胡&#39;,\n &#39;埃&#39;,\n &#39;索&#39;,\n &#39;库&#39;,\n &#39;纳&#39;,\n &#39;吉&#39;,\n &#39;莫&#39;,\n &#39;帕&#39;,\n &#39;锋&#39;,\n &#39;米&#39;,\n &#39;贝&#39;,\n &#39;耶&#39;,\n &#39;冈&#39;,\n &#39;玻&#39;,\n &#39;乌&#39;,\n &#39;布&#39;,\n &#39;苏&#39;,\n &#39;念&#39;,\n &#39;案&#39;,\n &#39;罚&#39;,\n &#39;较&#39;,\n &#39;战&#39;,\n &#39;略&#39;,\n &#39;均&#39;,\n &#39;贸&#39;,\n &#39;拓&#39;,\n &#39;5&#39;,\n &#39;份&#39;,\n &#39;去&#39;,\n &#39;阅&#39;,\n &#39;室&#39;,\n &#39;刊&#39;,\n &#39;晚&#39;,\n &#39;智&#39;,\n &#39;藏&#39;,\n &#39;突&#39;,\n &#39;破&#39;,\n &#39;借&#39;,\n &#39;架&#39;,\n &#39;办&#39;,\n &#39;沃&#39;,\n &#39;盟&#39;,\n &#39;昨&#39;,\n &#39;约&#39;,\n &#39;南&#39;,\n &#39;举&#39;,\n &#39;空&#39;,\n &#39;军&#39;,\n &#39;演&#39;,\n &#39;示&#39;,\n &#39;欢&#39;,\n &#39;迎&#39;,\n &#39;帮&#39;,\n &#39;助&#39;,\n &#39;7&#39;,\n &#39;叫&#39;,\n &#39;迈&#39;,\n &#39;菲&#39;,\n &#39;查&#39;,\n &#39;奋&#39;,\n &#39;剂&#39;,\n &#39;通&#39;,\n &#39;未&#39;,\n &#39;勇&#39;,\n &#39;曲&#39;,\n &#39;绕&#39;,\n &#39;桥&#39;,\n &#39;绝&#39;,\n &#39;《&#39;,\n &#39;嫂&#39;,\n &#39;》&#39;,\n &#39;警&#39;,\n &#39;魂&#39;,\n &#39;片&#39;,\n &#39;获&#39;,\n &#39;房&#39;,\n &#39;石&#39;,\n &#39;香&#39;,\n &#39;港&#39;,\n &#39;朝&#39;,\n &#39;蓬&#39;,\n &#39;勃&#39;,\n &#39;拼&#39;,\n &#39;搏&#39;,\n &#39;斗&#39;,\n &#39;神&#39;,\n &#39;写&#39;,\n &#39;2&#39;,\n &#39;春&#39;,\n &#39;季&#39;,\n &#39;招&#39;,\n &#39;兵&#39;,\n &#39;募&#39;,\n &#39;既&#39;,\n &#39;食&#39;,\n &#39;预&#39;,\n &#39;止&#39;,\n &#39;癌&#39;,\n &#39;症&#39;,\n &#39;城&#39;,\n &#39;引&#39;,\n &#39;项&#39;,\n &#39;懈&#39;,\n &#39;液&#39;,\n &#39;尾&#39;,\n &#39;9&#39;,\n &#39;％&#39;,\n &#39;氢&#39;,\n &#39;减&#39;,\n &#39;污&#39;,\n &#39;染&#39;,\n &#39;双&#39;,\n &#39;网&#39;,\n &#39;抽&#39;,\n &#39;封&#39;,\n &#39;差&#39;,\n &#39;亟&#39;,\n &#39;待&#39;,\n &#39;单&#39;,\n &#39;麦&#39;,\n &#39;果&#39;,\n &#39;∶&#39;,\n &#39;松&#39;,\n &#39;赢&#39;,\n &#39;测&#39;,\n &#39;析&#39;,\n &#39;迷&#39;,\n &#39;叶&#39;,\n &#39;钦&#39;,\n &#39;岁&#39;,\n &#39;刻&#39;,\n &#39;哲&#39;,\n &#39;思&#39;,\n &#39;虽&#39;,\n &#39;担&#39;,\n &#39;负&#39;,\n &#39;领&#39;,\n &#39;责&#39;,\n &#39;专&#39;,\n &#39;却&#39;,\n &#39;爸&#39;,\n &#39;劲&#39;,\n &#39;抗&#39;,\n &#39;艰&#39;,\n &#39;聘&#39;,\n &#39;仍&#39;,\n &#39;治&#39;,\n &#39;洋&#39;,\n &#39;尊&#39;,\n &#39;庄&#39;,\n &#39;志&#39;,\n &#39;回&#39;,\n &#39;忆&#39;,\n &#39;淳&#39;,\n &#39;朴&#39;,\n &#39;报&#39;,\n &#39;届&#39;,\n &#39;张&#39;,\n &#39;君&#39;,\n &#39;秋&#39;,\n &#39;剧&#39;,\n &#39;角&#39;,\n &#39;艺&#39;,\n &#39;校&#39;,\n &#39;坚&#39;,\n &#39;质&#39;,\n &#39;围&#39;,\n &#39;侧&#39;,\n &#39;缓&#39;,\n &#39;财&#39;,\n &#39;状&#39;,\n &#39;聚&#39;,\n &#39;渠&#39;,\n &#39;逐&#39;,\n &#39;靠&#39;,\n &#39;优&#39;,\n &#39;征&#39;,\n &#39;稿&#39;,\n &#39;截&#39;,\n &#39;句&#39;,\n &#39;晤&#39;,\n &#39;纠&#39;,\n &#39;纷&#39;,\n &#39;朋&#39;,\n &#39;坏&#39;,\n &#39;它&#39;,\n &#39;促&#39;,\n &#39;岗&#39;,\n &#39;标&#39;,\n &#39;织&#39;,\n &#39;践&#39;,\n &#39;邓&#39;,\n &#39;按&#39;,\n &#39;署&#39;,\n &#39;挥&#39;,\n &#39;核&#39;,\n &#39;●&#39;,\n &#39;承&#39;,\n &#39;键&#39;,\n &#39;街&#39;,\n &#39;巷&#39;,\n &#39;横&#39;,\n &#39;幅&#39;,\n &#39;悬&#39;,\n &#39;画&#39;,\n &#39;头&#39;,\n &#39;欣&#39;,\n &#39;慰&#39;,\n ...]</code></pre>\n<div class=\"sourceCode\" id=\"cb17\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb17-1\"><a href=\"#cb17-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab2id</span></code></pre></div>\n<pre><code>&#123;&#39;海&#39;: 0,\n &#39;钓&#39;: 1,\n &#39;比&#39;: 2,\n &#39;赛&#39;: 3,\n &#39;地&#39;: 4,\n &#39;点&#39;: 5,\n &#39;在&#39;: 6,\n &#39;厦&#39;: 7,\n &#39;门&#39;: 8,\n &#39;与&#39;: 9,\n &#39;金&#39;: 10,\n &#39;之&#39;: 11,\n &#39;间&#39;: 12,\n &#39;的&#39;: 13,\n &#39;域&#39;: 14,\n &#39;。&#39;: 15,\n &#39;这&#39;: 16,\n &#39;座&#39;: 17,\n &#39;依&#39;: 18,\n &#39;山&#39;: 19,\n &#39;傍&#39;: 20,\n &#39;水&#39;: 21,\n &#39;博&#39;: 22,\n &#39;物&#39;: 23,\n &#39;馆&#39;: 24,\n &#39;由&#39;: 25,\n &#39;国&#39;: 26,\n &#39;内&#39;: 27,\n &#39;一&#39;: 28,\n &#39;流&#39;: 29,\n &#39;设&#39;: 30,\n &#39;计&#39;: 31,\n &#39;师&#39;: 32,\n &#39;主&#39;: 33,\n &#39;持&#39;: 34,\n &#39;，&#39;: 35,\n &#39;整&#39;: 36,\n &#39;个&#39;: 37,\n &#39;建&#39;: 38,\n &#39;筑&#39;: 39,\n &#39;群&#39;: 40,\n &#39;精&#39;: 41,\n &#39;美&#39;: 42,\n &#39;而&#39;: 43,\n &#39;恢&#39;: 44,\n &#39;宏&#39;: 45,\n &#39;但&#39;: 46,\n &#39;作&#39;: 47,\n &#39;为&#39;: 48,\n &#39;共&#39;: 49,\n &#39;产&#39;: 50,\n &#39;党&#39;: 51,\n &#39;员&#39;: 52,\n &#39;、&#39;: 53,\n &#39;人&#39;: 54,\n &#39;民&#39;: 55,\n &#39;公&#39;: 56,\n &#39;仆&#39;: 57,\n &#39;应&#39;: 58,\n &#39;当&#39;: 59,\n &#39;胸&#39;: 60,\n &#39;怀&#39;: 61,\n &#39;宽&#39;: 62,\n &#39;阔&#39;: 63,\n &#39;真&#39;: 64,\n &#39;正&#39;: 65,\n &#39;做&#39;: 66,\n &#39;到&#39;: 67,\n &#39;“&#39;: 68,\n &#39;先&#39;: 69,\n &#39;天&#39;: 70,\n &#39;下&#39;: 71,\n &#39;忧&#39;: 72,\n &#39;后&#39;: 73,\n &#39;乐&#39;: 74,\n &#39;”&#39;: 75,\n &#39;淡&#39;: 76,\n &#39;化&#39;: 77,\n &#39;名&#39;: 78,\n &#39;利&#39;: 79,\n &#39;得&#39;: 80,\n &#39;失&#39;: 81,\n &#39;和&#39;: 82,\n &#39;宠&#39;: 83,\n &#39;辱&#39;: 84,\n &#39;悲&#39;: 85,\n &#39;喜&#39;: 86,\n &#39;把&#39;: 87,\n &#39;改&#39;: 88,\n &#39;革&#39;: 89,\n &#39;大&#39;: 90,\n &#39;业&#39;: 91,\n &#39;摆&#39;: 92,\n &#39;首&#39;: 93,\n &#39;位&#39;: 94,\n &#39;样&#39;: 95,\n &#39;才&#39;: 96,\n &#39;能&#39;: 97,\n &#39;超&#39;: 98,\n &#39;越&#39;: 99,\n &#39;自&#39;: 100,\n &#39;我&#39;: 101,\n &#39;脱&#39;: 102,\n &#39;世&#39;: 103,\n &#39;俗&#39;: 104,\n &#39;有&#39;: 105,\n &#39;所&#39;: 106,\n &#39;发&#39;: 107,\n &#39;达&#39;: 108,\n &#39;家&#39;: 109,\n &#39;急&#39;: 110,\n &#39;救&#39;: 111,\n &#39;保&#39;: 112,\n &#39;险&#39;: 113,\n &#39;十&#39;: 114,\n &#39;分&#39;: 115,\n &#39;普&#39;: 116,\n &#39;及&#39;: 117,\n &#39;已&#39;: 118,\n &#39;成&#39;: 119,\n &#39;社&#39;: 120,\n &#39;会&#39;: 121,\n &#39;障&#39;: 122,\n &#39;体&#39;: 123,\n &#39;系&#39;: 124,\n &#39;重&#39;: 125,\n &#39;要&#39;: 126,\n &#39;组&#39;: 127,\n &#39;部&#39;: 128,\n &#39;日&#39;: 129,\n &#39;俄&#39;: 130,\n &#39;两&#39;: 131,\n &#39;政&#39;: 132,\n &#39;局&#39;: 133,\n &#39;都&#39;: 134,\n &#39;充&#39;: 135,\n &#39;满&#39;: 136,\n &#39;变&#39;: 137,\n &#39;数&#39;: 138,\n &#39;尽&#39;: 139,\n &#39;管&#39;: 140,\n &#39;关&#39;: 141,\n &#39;目&#39;: 142,\n &#39;前&#39;: 143,\n &#39;是&#39;: 144,\n &#39;历&#39;: 145,\n &#39;史&#39;: 146,\n &#39;最&#39;: 147,\n &#39;佳&#39;: 148,\n &#39;时&#39;: 149,\n &#39;期&#39;: 150,\n &#39;其&#39;: 151,\n &#39;脆&#39;: 152,\n &#39;弱&#39;: 153,\n &#39;性&#39;: 154,\n &#39;不&#39;: 155,\n &#39;言&#39;: 156,\n &#39;明&#39;: 157,\n &#39;克&#39;: 158,\n &#39;马&#39;: 159,\n &#39;尔&#39;: 160,\n &#39;女&#39;: 161,\n &#39;儿&#39;: 162,\n &#39;让&#39;: 163,\n &#39;娜&#39;: 164,\n &#39;今&#39;: 165,\n &#39;年&#39;: 166,\n &#39;读&#39;: 167,\n &#39;五&#39;: 168,\n &#39;级&#39;: 169,\n &#39;她&#39;: 170,\n &#39;班&#39;: 171,\n &#39;上&#39;: 172,\n &#39;3&#39;: 173,\n &#39;0&#39;: 174,\n &#39;多&#39;: 175,\n &#39;同&#39;: 176,\n &#39;学&#39;: 177,\n &#39;该&#39;: 178,\n &#39;委&#39;: 179,\n &#39;1&#39;: 180,\n &#39;长&#39;: 181,\n &#39;参&#39;: 182,\n &#39;加&#39;: 183,\n &#39;步&#39;: 184,\n &#39;行&#39;: 185,\n &#39;男&#39;: 186,\n &#39;轻&#39;: 187,\n &#39;也&#39;: 188,\n &#39;中&#39;: 189,\n &#39;沙&#39;: 190,\n &#39;特&#39;: 191,\n &#39;队&#39;: 192,\n &#39;教&#39;: 193,\n &#39;练&#39;: 194,\n &#39;佩&#39;: 195,\n &#39;雷&#39;: 196,\n &#39;拉&#39;: 197,\n &#39;：&#39;: 198,\n &#39;支&#39;: 199,\n &#39;想&#39;: 200,\n &#39;胜&#39;: 201,\n &#39;因&#39;: 202,\n &#39;此&#39;: 203,\n &#39;出&#39;: 204,\n &#39;了&#39;: 205,\n &#39;努&#39;: 206,\n &#39;力&#39;: 207,\n &#39;种&#39;: 208,\n &#39;混&#39;: 209,\n &#39;乱&#39;: 210,\n &#39;面&#39;: 211,\n &#39;导&#39;: 212,\n &#39;致&#39;: 213,\n &#39;些&#39;: 214,\n &#39;使&#39;: 215,\n &#39;用&#39;: 216,\n &#39;者&#39;: 217,\n &#39;合&#39;: 218,\n &#39;法&#39;: 219,\n &#39;权&#39;: 220,\n &#39;益&#39;: 221,\n &#39;难&#39;: 222,\n &#39;以&#39;: 223,\n &#39;维&#39;: 224,\n &#39;护&#39;: 225,\n &#39;鲁&#39;: 226,\n &#39;宾&#39;: 227,\n &#39;确&#39;: 228,\n &#39;指&#39;: 229,\n &#39;对&#39;: 230,\n &#39;府&#39;: 231,\n &#39;控&#39;: 232,\n &#39;完&#39;: 233,\n &#39;全&#39;: 234,\n &#39;没&#39;: 235,\n &#39;事&#39;: 236,\n &#39;实&#39;: 237,\n &#39;根&#39;: 238,\n &#39;据&#39;: 239,\n &#39;向&#39;: 240,\n &#39;转&#39;: 241,\n &#39;敏&#39;: 242,\n &#39;感&#39;: 243,\n &#39;技&#39;: 244,\n &#39;术&#39;: 245,\n &#39;相&#39;: 246,\n &#39;总&#39;: 247,\n &#39;白&#39;: 248,\n &#39;于&#39;: 249,\n &#39;；&#39;: 250,\n &#39;众&#39;: 251,\n &#39;议&#39;: 252,\n &#39;院&#39;: 253,\n &#39;令&#39;: 254,\n &#39;非&#39;: 255,\n &#39;常&#39;: 256,\n &#39;望&#39;: 257,\n &#39;将&#39;: 258,\n &#39;商&#39;: 259,\n &#39;卫&#39;: 260,\n &#39;星&#39;: 261,\n &#39;受&#39;: 262,\n &#39;威&#39;: 263,\n &#39;胁&#39;: 264,\n &#39;竞&#39;: 265,\n &#39;争&#39;: 266,\n &#39;损&#39;: 267,\n &#39;害&#39;: 268,\n &#39;育&#39;: 269,\n &#39;场&#39;: 270,\n &#39;每&#39;: 271,\n &#39;早&#39;: 272,\n &#39;6&#39;: 273,\n &#39;至&#39;: 274,\n &#39;8&#39;: 275,\n &#39;免&#39;: 276,\n &#39;费&#39;: 277,\n &#39;开&#39;: 278,\n &#39;放&#39;: 279,\n &#39;游&#39;: 280,\n &#39;泳&#39;: 281,\n &#39;等&#39;: 282,\n &#39;则&#39;: 283,\n &#39;增&#39;: 284,\n &#39;综&#39;: 285,\n &#39;服&#39;: 286,\n &#39;务&#39;: 287,\n &#39;延&#39;: 288,\n &#39;采&#39;: 289,\n &#39;取&#39;: 290,\n &#39;灵&#39;: 291,\n &#39;活&#39;: 292,\n &#39;收&#39;: 293,\n &#39;再&#39;: 294,\n &#39;看&#39;: 295,\n &#39;容&#39;: 296,\n &#39;图&#39;: 297,\n &#39;文&#39;: 298,\n &#39;并&#39;: 299,\n &#39;茂&#39;: 300,\n &#39;简&#39;: 301,\n &#39;短&#39;: 302,\n &#39;字&#39;: 303,\n &#39;准&#39;: 304,\n &#39;反&#39;: 305,\n &#39;映&#39;: 306,\n &#39;六&#39;: 307,\n &#39;族&#39;: 308,\n &#39;风&#39;: 309,\n &#39;土&#39;: 310,\n &#39;情&#39;: 311,\n &#39;传&#39;: 312,\n &#39;统&#39;: 313,\n &#39;各&#39;: 314,\n &#39;讲&#39;: 315,\n &#39;很&#39;: 316,\n &#39;哥&#39;: 317,\n &#39;伦&#39;: 318,\n &#39;亚&#39;: 319,\n &#39;号&#39;: 320,\n &#39;航&#39;: 321,\n &#39;飞&#39;: 322,\n &#39;机&#39;: 323,\n &#39;宇&#39;: 324,\n &#39;边&#39;: 325,\n &#39;进&#39;: 326,\n &#39;验&#39;: 327,\n &#39;继&#39;: 328,\n &#39;续&#39;: 329,\n &#39;抢&#39;: 330,\n &#39;修&#39;: 331,\n &#39;故&#39;: 332,\n &#39;二&#39;: 333,\n &#39;氧&#39;: 334,\n &#39;碳&#39;: 335,\n &#39;清&#39;: 336,\n &#39;除&#39;: 337,\n &#39;装&#39;: 338,\n &#39;置&#39;: 339,\n &#39;从&#39;: 340,\n &#39;剥&#39;: 341,\n &#39;削&#39;: 342,\n &#39;阶&#39;: 343,\n &#39;劳&#39;: 344,\n &#39;动&#39;: 345,\n &#39;生&#39;: 346,\n &#39;率&#39;: 347,\n &#39;低&#39;: 348,\n &#39;况&#39;: 349,\n &#39;占&#39;: 350,\n &#39;限&#39;: 351,\n &#39;剩&#39;: 352,\n &#39;余&#39;: 353,\n &#39;品&#39;: 354,\n &#39;足&#39;: 355,\n &#39;豪&#39;: 356,\n &#39;华&#39;: 357,\n &#39;需&#39;: 358,\n &#39;量&#39;: 359,\n &#39;扩&#39;: 360,\n &#39;现&#39;: 361,\n &#39;资&#39;: 362,\n &#39;条&#39;: 363,\n &#39;件&#39;: 364,\n &#39;榨&#39;: 365,\n &#39;价&#39;: 366,\n &#39;值&#39;: 367,\n &#39;供&#39;: 368,\n &#39;身&#39;: 369,\n &#39;求&#39;: 370,\n &#39;外&#39;: 371,\n &#39;又&#39;: 372,\n &#39;本&#39;: 373,\n &#39;新&#39;: 374,\n &#39;雇&#39;: 375,\n &#39;佣&#39;: 376,\n &#39;私&#39;: 377,\n &#39;来&#39;: 378,\n &#39;料&#39;: 379,\n &#39;集&#39;: 380,\n &#39;代&#39;: 381,\n &#39;表&#39;: 382,\n &#39;澳&#39;: 383,\n &#39;别&#39;: 384,\n &#39;区&#39;: 385,\n &#39;筹&#39;: 386,\n &#39;备&#39;: 387,\n &#39;第&#39;: 388,\n &#39;次&#39;: 389,\n &#39;午&#39;: 390,\n &#39;北&#39;: 391,\n &#39;京&#39;: 392,\n &#39;堂&#39;: 393,\n &#39;幕&#39;: 394,\n &#39;副&#39;: 395,\n &#39;理&#39;: 396,\n &#39;任&#39;: 397,\n &#39;钱&#39;: 398,\n &#39;琛&#39;: 399,\n &#39;词&#39;: 400,\n &#39;工&#39;: 401,\n &#39;经&#39;: 402,\n &#39;启&#39;: 403,\n &#39;临&#39;: 404,\n &#39;紧&#39;: 405,\n &#39;迫&#39;: 406,\n &#39;们&#39;: 407,\n &#39;道&#39;: 408,\n &#39;远&#39;: 409,\n &#39;希&#39;: 410,\n &#39;齐&#39;: 411,\n &#39;心&#39;: 412,\n &#39;协&#39;: 413,\n &#39;平&#39;: 414,\n &#39;稳&#39;: 415,\n &#39;过&#39;: 416,\n &#39;渡&#39;: 417,\n &#39;顺&#39;: 418,\n &#39;交&#39;: 419,\n &#39;接&#39;: 420,\n &#39;贡&#39;: 421,\n &#39;献&#39;: 422,\n &#39;济&#39;: 423,\n &#39;程&#39;: 424,\n &#39;界&#39;: 425,\n &#39;深&#39;: 426,\n &#39;信&#39;: 427,\n &#39;观&#39;: 428,\n &#39;必&#39;: 429,\n &#39;须&#39;: 430,\n &#39;微&#39;: 431,\n &#39;基&#39;: 432,\n &#39;础&#39;: 433,\n &#39;病&#39;: 434,\n &#39;好&#39;: 435,\n &#39;颈&#39;: 436,\n &#39;背&#39;: 437,\n &#39;躯&#39;: 438,\n &#39;干&#39;: 439,\n &#39;殖&#39;: 440,\n &#39;器&#39;: 441,\n &#39;可&#39;: 442,\n &#39;见&#39;: 443,\n &#39;龄&#39;: 444,\n &#39;市&#39;: 445,\n &#39;柔&#39;: 446,\n &#39;县&#39;: 447,\n &#39;试&#39;: 448,\n &#39;遍&#39;: 449,\n &#39;觉&#39;: 450,\n &#39;四&#39;: 451,\n &#39;节&#39;: 452,\n &#39;课&#39;: 453,\n &#39;饥&#39;: 454,\n &#39;饿&#39;: 455,\n &#39;消&#39;: 456,\n &#39;川&#39;: 457,\n &#39;省&#39;: 458,\n &#39;江&#39;: 459,\n &#39;油&#39;: 460,\n &#39;丰&#39;: 461,\n &#39;选&#39;: 462,\n &#39;豆&#39;: 463,\n &#39;奶&#39;: 464,\n &#39;复&#39;: 465,\n &#39;营&#39;: 466,\n &#39;养&#39;: 467,\n &#39;素&#39;: 468,\n &#39;贫&#39;: 469,\n &#39;血&#39;: 470,\n &#39;降&#39;: 471,\n &#39;百&#39;: 472,\n &#39;照&#39;: 473,\n &#39;只&#39;: 474,\n &#39;．&#39;: 475,\n &#39;4&#39;: 476,\n &#39;宗&#39;: 477,\n &#39;旨&#39;: 478,\n &#39;决&#39;: 479,\n &#39;定&#39;: 480,\n &#39;奉&#39;: 481,\n &#39;甘&#39;: 482,\n &#39;愿&#39;: 483,\n &#39;吃&#39;: 484,\n &#39;亏&#39;: 485,\n &#39;苦&#39;: 486,\n &#39;享&#39;: 487,\n &#39;困&#39;: 488,\n &#39;危&#39;: 489,\n &#39;留&#39;: 490,\n &#39;给&#39;: 491,\n &#39;己&#39;: 492,\n &#39;方&#39;: 493,\n &#39;便&#39;: 494,\n &#39;安&#39;: 495,\n &#39;初&#39;: 496,\n &#39;央&#39;: 497,\n &#39;形&#39;: 498,\n &#39;势&#39;: 499,\n &#39;快&#39;: 500,\n &#39;速&#39;: 501,\n &#39;策&#39;: 502,\n &#39;立&#39;: 503,\n &#39;研&#39;: 504,\n &#39;究&#39;: 505,\n &#39;派&#39;: 506,\n &#39;就&#39;: 507,\n &#39;提&#39;: 508,\n &#39;许&#39;: 509,\n &#39;富&#39;: 510,\n &#39;意&#39;: 511,\n &#39;味&#39;: 512,\n &#39;论&#39;: 513,\n &#39;话&#39;: 514,\n &#39;题&#39;: 515,\n &#39;书&#39;: 516,\n &#39;记&#39;: 517,\n &#39;粟&#39;: 518,\n &#39;光&#39;: 519,\n &#39;断&#39;: 520,\n &#39;他&#39;: 521,\n &#39;亲&#39;: 522,\n &#39;兄&#39;: 523,\n &#39;弟&#39;: 524,\n &#39;签&#39;: 525,\n &#39;！&#39;: 526,\n &#39;熟&#39;: 527,\n &#39;悉&#39;: 528,\n &#39;运&#39;: 529,\n &#39;士&#39;: 530,\n &#39;说&#39;: 531,\n &#39;贷&#39;: 532,\n &#39;款&#39;: 533,\n &#39;旦&#39;: 534,\n &#39;被&#39;: 535,\n &#39;推&#39;: 536,\n &#39;迟&#39;: 537,\n &#39;几&#39;: 538,\n &#39;月&#39;: 539,\n &#39;甚&#39;: 540,\n &#39;更&#39;: 541,\n &#39;考&#39;: 542,\n &#39;虑&#39;: 543,\n &#39;伍&#39;: 544,\n &#39;义&#39;: 545,\n &#39;气&#39;: 546,\n &#39;原&#39;: 547,\n &#39;惠&#39;: 548,\n &#39;象&#39;: 549,\n &#39;估&#39;: 550,\n &#39;像&#39;: 551,\n &#39;疤&#39;: 552,\n &#39;痕&#39;: 553,\n &#39;笨&#39;: 554,\n &#39;拙&#39;: 555,\n &#39;手&#39;: 556,\n &#39;针&#39;: 557,\n &#39;线&#39;: 558,\n &#39;周&#39;: 559,\n &#39;恩&#39;: 560,\n &#39;那&#39;: 561,\n &#39;送&#39;: 562,\n &#39;株&#39;: 563,\n &#39;万&#39;: 564,\n &#39;古&#39;: 565,\n &#39;青&#39;: 566,\n &#39;友&#39;: 567,\n &#39;谊&#39;: 568,\n &#39;红&#39;: 569,\n &#39;杉&#39;: 570,\n &#39;吧&#39;: 571,\n &#39;巴&#39;: 572,\n &#39;谈&#39;: 573,\n &#39;问&#39;: 574,\n &#39;印&#39;: 575,\n &#39;声&#39;: 576,\n &#39;宣&#39;: 577,\n &#39;称&#39;: 578,\n &#39;何&#39;: 579,\n &#39;三&#39;: 580,\n &#39;介&#39;: 581,\n &#39;入&#39;: 582,\n &#39;久&#39;: 583,\n &#39;赴&#39;: 584,\n &#39;西&#39;: 585,\n &#39;老&#39;: 586,\n &#39;访&#39;: 587,\n &#39;广&#39;: 588,\n &#39;职&#39;: 589,\n &#39;积&#39;: 590,\n &#39;极&#39;: 591,\n &#39;企&#39;: 592,\n &#39;监&#39;: 593,\n &#39;督&#39;: 594,\n &#39;如&#39;: 595,\n &#39;居&#39;: 596,\n &#39;子&#39;: 597,\n &#39;倘&#39;: 598,\n &#39;若&#39;: 599,\n &#39;客&#39;: 600,\n &#39;环&#39;: 601,\n &#39;境&#39;: 602,\n &#39;钝&#39;: 603,\n &#39;迅&#39;: 604,\n &#39;判&#39;: 605,\n &#39;陷&#39;: 606,\n &#39;处&#39;: 607,\n &#39;碰&#39;: 608,\n &#39;壁&#39;: 609,\n &#39;然&#39;: 610,\n &#39;热&#39;: 611,\n &#39;解&#39;: 612,\n &#39;寻&#39;: 613,\n &#39;找&#39;: 614,\n &#39;联&#39;: 615,\n &#39;邦&#39;: 616,\n &#39;州&#39;: 617,\n &#39;予&#39;: 618,\n &#39;适&#39;: 619,\n &#39;具&#39;: 620,\n &#39;骤&#39;: 621,\n &#39;吸&#39;: 622,\n &#39;七&#39;: 623,\n &#39;团&#39;: 624,\n &#39;另&#39;: 625,\n &#39;龙&#39;: 626,\n &#39;口&#39;: 627,\n &#39;科&#39;: 628,\n &#39;投&#39;: 629,\n &#39;视&#39;: 630,\n &#39;息&#39;: 631,\n &#39;创&#39;: 632,\n &#39;跳&#39;: 633,\n &#39;跃&#39;: 634,\n &#39;式&#39;: 635,\n &#39;展&#39;: 636,\n &#39;强&#39;: 637,\n &#39;调&#39;: 638,\n &#39;高&#39;: 639,\n &#39;培&#39;: 640,\n &#39;训&#39;: 641,\n &#39;认&#39;: 642,\n &#39;识&#39;: 643,\n &#39;密&#39;: 644,\n &#39;结&#39;: 645,\n &#39;小&#39;: 646,\n &#39;九&#39;: 647,\n &#39;升&#39;: 648,\n &#39;或&#39;: 649,\n &#39;段&#39;: 650,\n &#39;少&#39;: 651,\n &#39;懂&#39;: 652,\n &#39;习&#39;: 653,\n &#39;互&#39;: 654,\n &#39;贵&#39;: 655,\n &#39;贱&#39;: 656,\n &#39;请&#39;: 657,\n &#39;注&#39;: 658,\n &#39;语&#39;: 659,\n &#39;构&#39;: 660,\n &#39;偏&#39;: 661,\n &#39;孝&#39;: 662,\n &#39;父&#39;: 663,\n &#39;母&#39;: 664,\n &#39;始&#39;: 665,\n &#39;票&#39;: 666,\n &#39;否&#39;: 667,\n &#39;制&#39;: 668,\n &#39;还&#39;: 669,\n &#39;缺&#39;: 670,\n &#39;乏&#39;: 671,\n &#39;际&#39;: 672,\n &#39;电&#39;: 673,\n &#39;影&#39;: 674,\n &#39;摄&#39;: 675,\n &#39;录&#39;: 676,\n &#39;音&#39;: 677,\n &#39;剪&#39;: 678,\n &#39;辑&#39;: 679,\n &#39;诸&#39;: 680,\n &#39;趋&#39;: 681,\n &#39;激&#39;: 682,\n &#39;烈&#39;: 683,\n &#39;造&#39;: 684,\n &#39;奇&#39;: 685,\n &#39;夺&#39;: 686,\n &#39;起&#39;: 687,\n &#39;直&#39;: 688,\n &#39;追&#39;: 689,\n &#39;医&#39;: 690,\n &#39;药&#39;: 691,\n &#39;李&#39;: 692,\n &#39;珍&#39;: 693,\n &#39;闻&#39;: 694,\n &#39;屡&#39;: 695,\n &#39;仕&#39;: 696,\n &#39;寄&#39;: 697,\n &#39;托&#39;: 698,\n &#39;八&#39;: 699,\n &#39;股&#39;: 700,\n &#39;兴&#39;: 701,\n &#39;趣&#39;: 702,\n &#39;酷&#39;: 703,\n &#39;爱&#39;: 704,\n &#39;召&#39;: 705,\n &#39;吴&#39;: 706,\n &#39;英&#39;: 707,\n &#39;司&#39;: 708,\n &#39;董&#39;: 709,\n &#39;德&#39;: 710,\n &#39;·&#39;: 711,\n &#39;葛&#39;: 712,\n &#39;夫&#39;: 713,\n &#39;邀&#39;: 714,\n &#39;席&#39;: 715,\n &#39;车&#39;: 716,\n &#39;闲&#39;: 717,\n &#39;防&#39;: 718,\n &#39;施&#39;: 719,\n &#39;配&#39;: 720,\n &#39;套&#39;: 721,\n &#39;存&#39;: 722,\n &#39;鹅&#39;: 723,\n &#39;洲&#39;: 724,\n &#39;源&#39;: 725,\n &#39;终&#39;: 726,\n &#39;连&#39;: 727,\n &#39;串&#39;: 728,\n &#39;井&#39;: 729,\n &#39;序&#39;: 730,\n &#39;顾&#39;: 731,\n &#39;犯&#39;: 732,\n &#39;罪&#39;: 733,\n &#39;讳&#39;: 734,\n &#39;审&#39;: 735,\n &#39;死&#39;: 736,\n &#39;刑&#39;: 737,\n &#39;笔&#39;: 738,\n &#39;融&#39;: 739,\n &#39;农&#39;: 740,\n &#39;假&#39;: 741,\n &#39;币&#39;: 742,\n &#39;知&#39;: 743,\n &#39;巧&#39;: 744,\n &#39;律&#39;: 745,\n &#39;规&#39;: 746,\n &#39;村&#39;: 747,\n &#39;秩&#39;: 748,\n &#39;『&#39;: 749,\n &#39;范&#39;: 750,\n &#39;茅&#39;: 751,\n &#39;迹&#39;: 752,\n &#39;览&#39;: 753,\n &#39;』&#39;: 754,\n &#39;磁&#39;: 755,\n &#39;球&#39;: 756,\n &#39;孩&#39;: 757,\n &#39;格&#39;: 758,\n &#39;散&#39;: 759,\n &#39;着&#39;: 760,\n &#39;独&#39;: 761,\n &#39;魅&#39;: 762,\n &#39;莱&#39;: 763,\n &#39;坞&#39;: 764,\n &#39;千&#39;: 765,\n &#39;模&#39;: 766,\n &#39;翻&#39;: 767,\n &#39;版&#39;: 768,\n &#39;？&#39;: 769,\n &#39;燃&#39;: 770,\n &#39;汽&#39;: 771,\n &#39;仅&#39;: 772,\n &#39;守&#39;: 773,\n &#39;—&#39;: 774,\n &#39;路&#39;: 775,\n &#39;易&#39;: 776,\n &#39;斯&#39;: 777,\n &#39;切&#39;: 778,\n &#39;迪&#39;: 779,\n &#39;阿&#39;: 780,\n &#39;塞&#39;: 781,\n &#39;瓦&#39;: 782,\n &#39;萨&#39;: 783,\n &#39;卡&#39;: 784,\n &#39;里&#39;: 785,\n &#39;罗&#39;: 786,\n &#39;弗&#39;: 787,\n &#39;哈&#39;: 788,\n &#39;丹&#39;: 789,\n &#39;尼&#39;: 790,\n &#39;扎&#39;: 791,\n &#39;胡&#39;: 792,\n &#39;埃&#39;: 793,\n &#39;索&#39;: 794,\n &#39;库&#39;: 795,\n &#39;纳&#39;: 796,\n &#39;吉&#39;: 797,\n &#39;莫&#39;: 798,\n &#39;帕&#39;: 799,\n &#39;锋&#39;: 800,\n &#39;米&#39;: 801,\n &#39;贝&#39;: 802,\n &#39;耶&#39;: 803,\n &#39;冈&#39;: 804,\n &#39;玻&#39;: 805,\n &#39;乌&#39;: 806,\n &#39;布&#39;: 807,\n &#39;苏&#39;: 808,\n &#39;念&#39;: 809,\n &#39;案&#39;: 810,\n &#39;罚&#39;: 811,\n &#39;较&#39;: 812,\n &#39;战&#39;: 813,\n &#39;略&#39;: 814,\n &#39;均&#39;: 815,\n &#39;贸&#39;: 816,\n &#39;拓&#39;: 817,\n &#39;5&#39;: 818,\n &#39;份&#39;: 819,\n &#39;去&#39;: 820,\n &#39;阅&#39;: 821,\n &#39;室&#39;: 822,\n &#39;刊&#39;: 823,\n &#39;晚&#39;: 824,\n &#39;智&#39;: 825,\n &#39;藏&#39;: 826,\n &#39;突&#39;: 827,\n &#39;破&#39;: 828,\n &#39;借&#39;: 829,\n &#39;架&#39;: 830,\n &#39;办&#39;: 831,\n &#39;沃&#39;: 832,\n &#39;盟&#39;: 833,\n &#39;昨&#39;: 834,\n &#39;约&#39;: 835,\n &#39;南&#39;: 836,\n &#39;举&#39;: 837,\n &#39;空&#39;: 838,\n &#39;军&#39;: 839,\n &#39;演&#39;: 840,\n &#39;示&#39;: 841,\n &#39;欢&#39;: 842,\n &#39;迎&#39;: 843,\n &#39;帮&#39;: 844,\n &#39;助&#39;: 845,\n &#39;7&#39;: 846,\n &#39;叫&#39;: 847,\n &#39;迈&#39;: 848,\n &#39;菲&#39;: 849,\n &#39;查&#39;: 850,\n &#39;奋&#39;: 851,\n &#39;剂&#39;: 852,\n &#39;通&#39;: 853,\n &#39;未&#39;: 854,\n &#39;勇&#39;: 855,\n &#39;曲&#39;: 856,\n &#39;绕&#39;: 857,\n &#39;桥&#39;: 858,\n &#39;绝&#39;: 859,\n &#39;《&#39;: 860,\n &#39;嫂&#39;: 861,\n &#39;》&#39;: 862,\n &#39;警&#39;: 863,\n &#39;魂&#39;: 864,\n &#39;片&#39;: 865,\n &#39;获&#39;: 866,\n &#39;房&#39;: 867,\n &#39;石&#39;: 868,\n &#39;香&#39;: 869,\n &#39;港&#39;: 870,\n &#39;朝&#39;: 871,\n &#39;蓬&#39;: 872,\n &#39;勃&#39;: 873,\n &#39;拼&#39;: 874,\n &#39;搏&#39;: 875,\n &#39;斗&#39;: 876,\n &#39;神&#39;: 877,\n &#39;写&#39;: 878,\n &#39;2&#39;: 879,\n &#39;春&#39;: 880,\n &#39;季&#39;: 881,\n &#39;招&#39;: 882,\n &#39;兵&#39;: 883,\n &#39;募&#39;: 884,\n &#39;既&#39;: 885,\n &#39;食&#39;: 886,\n &#39;预&#39;: 887,\n &#39;止&#39;: 888,\n &#39;癌&#39;: 889,\n &#39;症&#39;: 890,\n &#39;城&#39;: 891,\n &#39;引&#39;: 892,\n &#39;项&#39;: 893,\n &#39;懈&#39;: 894,\n &#39;液&#39;: 895,\n &#39;尾&#39;: 896,\n &#39;9&#39;: 897,\n &#39;％&#39;: 898,\n &#39;氢&#39;: 899,\n &#39;减&#39;: 900,\n &#39;污&#39;: 901,\n &#39;染&#39;: 902,\n &#39;双&#39;: 903,\n &#39;网&#39;: 904,\n &#39;抽&#39;: 905,\n &#39;封&#39;: 906,\n &#39;差&#39;: 907,\n &#39;亟&#39;: 908,\n &#39;待&#39;: 909,\n &#39;单&#39;: 910,\n &#39;麦&#39;: 911,\n &#39;果&#39;: 912,\n &#39;∶&#39;: 913,\n &#39;松&#39;: 914,\n &#39;赢&#39;: 915,\n &#39;测&#39;: 916,\n &#39;析&#39;: 917,\n &#39;迷&#39;: 918,\n &#39;叶&#39;: 919,\n &#39;钦&#39;: 920,\n &#39;岁&#39;: 921,\n &#39;刻&#39;: 922,\n &#39;哲&#39;: 923,\n &#39;思&#39;: 924,\n &#39;虽&#39;: 925,\n &#39;担&#39;: 926,\n &#39;负&#39;: 927,\n &#39;领&#39;: 928,\n &#39;责&#39;: 929,\n &#39;专&#39;: 930,\n &#39;却&#39;: 931,\n &#39;爸&#39;: 932,\n &#39;劲&#39;: 933,\n &#39;抗&#39;: 934,\n &#39;艰&#39;: 935,\n &#39;聘&#39;: 936,\n &#39;仍&#39;: 937,\n &#39;治&#39;: 938,\n &#39;洋&#39;: 939,\n &#39;尊&#39;: 940,\n &#39;庄&#39;: 941,\n &#39;志&#39;: 942,\n &#39;回&#39;: 943,\n &#39;忆&#39;: 944,\n &#39;淳&#39;: 945,\n &#39;朴&#39;: 946,\n &#39;报&#39;: 947,\n &#39;届&#39;: 948,\n &#39;张&#39;: 949,\n &#39;君&#39;: 950,\n &#39;秋&#39;: 951,\n &#39;剧&#39;: 952,\n &#39;角&#39;: 953,\n &#39;艺&#39;: 954,\n &#39;校&#39;: 955,\n &#39;坚&#39;: 956,\n &#39;质&#39;: 957,\n &#39;围&#39;: 958,\n &#39;侧&#39;: 959,\n &#39;缓&#39;: 960,\n &#39;财&#39;: 961,\n &#39;状&#39;: 962,\n &#39;聚&#39;: 963,\n &#39;渠&#39;: 964,\n &#39;逐&#39;: 965,\n &#39;靠&#39;: 966,\n &#39;优&#39;: 967,\n &#39;征&#39;: 968,\n &#39;稿&#39;: 969,\n &#39;截&#39;: 970,\n &#39;句&#39;: 971,\n &#39;晤&#39;: 972,\n &#39;纠&#39;: 973,\n &#39;纷&#39;: 974,\n &#39;朋&#39;: 975,\n &#39;坏&#39;: 976,\n &#39;它&#39;: 977,\n &#39;促&#39;: 978,\n &#39;岗&#39;: 979,\n &#39;标&#39;: 980,\n &#39;织&#39;: 981,\n &#39;践&#39;: 982,\n &#39;邓&#39;: 983,\n &#39;按&#39;: 984,\n &#39;署&#39;: 985,\n &#39;挥&#39;: 986,\n &#39;核&#39;: 987,\n &#39;●&#39;: 988,\n &#39;承&#39;: 989,\n &#39;键&#39;: 990,\n &#39;街&#39;: 991,\n &#39;巷&#39;: 992,\n &#39;横&#39;: 993,\n &#39;幅&#39;: 994,\n &#39;悬&#39;: 995,\n &#39;画&#39;: 996,\n &#39;头&#39;: 997,\n &#39;欣&#39;: 998,\n &#39;慰&#39;: 999,\n ...&#125;</code></pre>\n<h4 id=\"获取每个句子的长度并得到最大长度\">获取每个句子的长度，并得到最大长度</h4>\n<div class=\"sourceCode\" id=\"cb19\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb19-1\"><a href=\"#cb19-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_sequence_len(path):</span>\n<span id=\"cb19-2\"><a href=\"#cb19-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    sequence_len <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb19-3\"><a href=\"#cb19-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    tmp_len <span class=\"op\">=</span> <span class=\"dv\">0</span></span>\n<span id=\"cb19-4\"><a href=\"#cb19-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb19-5\"><a href=\"#cb19-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb19-6\"><a href=\"#cb19-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            line <span class=\"op\">=</span> line.strip()</span>\n<span id=\"cb19-7\"><a href=\"#cb19-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line) <span class=\"op\">==</span> <span class=\"dv\">0</span> :</span>\n<span id=\"cb19-8\"><a href=\"#cb19-8\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#                 print(tmp_len)</span></span>\n<span id=\"cb19-9\"><a href=\"#cb19-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                sequence_len.append(tmp_len)</span>\n<span id=\"cb19-10\"><a href=\"#cb19-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_len <span class=\"op\">=</span> <span class=\"dv\">0</span></span>\n<span id=\"cb19-11\"><a href=\"#cb19-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">else</span>:</span>\n<span id=\"cb19-12\"><a href=\"#cb19-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_len <span class=\"op\">+=</span><span class=\"dv\">1</span></span>\n<span id=\"cb19-13\"><a href=\"#cb19-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> np.array(sequence_len)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb20\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb20-1\"><a href=\"#cb20-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.train&#39;</span>)dev_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.dev&#39;</span>)test_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.test&#39;</span>)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb21\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb21-1\"><a href=\"#cb21-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_sequence_len,dev_sequence_len,test_sequence_len</span></code></pre></div>\n<pre><code>(array([18, 35, 88, ..., 53, 65, 41]), array([69, 35, 54, ..., 46, 38, 29]), array([40, 39, 43, ..., 42, 29, 52]))</code></pre>\n<div class=\"sourceCode\" id=\"cb23\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb23-1\"><a href=\"#cb23-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>max_length <span class=\"op\">=</span> <span class=\"bu\">max</span>(<span class=\"bu\">max</span>(train_sequence_len),<span class=\"bu\">max</span>(dev_sequence_len),<span class=\"bu\">max</span>(test_sequence_len))</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb24\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb24-1\"><a href=\"#cb24-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>max_length</span></code></pre></div>\n<pre><code>577</code></pre>\n<h4 id=\"读取数据对不足最大长度的句子进行padding\">读取数据，对不足最大长度的句子进行padding</h4>\n<div class=\"sourceCode\" id=\"cb26\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb26-1\"><a href=\"#cb26-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> read_data(path,vocab2id,label2id,max_len):    data_x <span class=\"op\">=</span> <span class=\"bu\">list</span>()    data_y <span class=\"op\">=</span> <span class=\"bu\">list</span>()    tmp_text <span class=\"op\">=</span> <span class=\"bu\">list</span>()    tmp_label <span class=\"op\">=</span> <span class=\"bu\">list</span>()        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:            line <span class=\"op\">=</span> line.strip()            <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line) <span class=\"op\">==</span><span class=\"dv\">0</span>:                <span class=\"co\"># 数据集中以空行作为句子分隔符，说明前一个句子已经结束，tmp_text为vocab（id），tmp_label为label(id)                # padding 至max_len                tmp_text += [len(vocab2id)] * (max_len - len(tmp_text))                tmp_label += [0] * (max_len - len(tmp_label))                                # 保存已经结束的句子并清空tmp                data_x.append(tmp_text)                data_y.append(tmp_label)                tmp_text = list()                tmp_label = list()            else:                # 将字符和标签转换为相应的id放入tmp                # 根据数据格式，line[0]为vocab,line[1]为空格                # line[2:]为label                tmp_text.append(vocab2id[line[0]])                tmp_label.append(label2id[line[2:]])    print(&#39;&#123;&#125; include sequences &#123;&#125;&#39;.format(path,len(data_x)))    return np.array(data_x), np.array(data_y)</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb27\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb27-1\"><a href=\"#cb27-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_text,train_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.train&quot;</span>,vocab2id,label2id,max_length)dev_text,dev_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.dev&quot;</span>,vocab2id,label2id,max_length)test_text,test_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.test&quot;</span>,vocab2id,label2id,max_length)</span></code></pre></div>\n<pre><code>./datasets/example.train include sequences 20864./datasets/example.dev include sequences 2318./datasets/example.test include sequences 4636</code></pre>\n<div class=\"sourceCode\" id=\"cb29\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb29-1\"><a href=\"#cb29-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_text[<span class=\"dv\">0</span>],train_label[<span class=\"dv\">0</span>]</span></code></pre></div>\n<pre><code>(array([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,   10,\n           8,   11,   12,   13,    0,   14,   15, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465]),\n array([0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0]))</code></pre>\n<h4 id=\"讲数据通过tf.data.dataset加载\">讲数据通过tf.data.Dataset加载</h4>\n<p>Dataset可以看作是相同类型“元素”的有序列表，可以通过Iterator对其中的元素进行读取，通过初始化不同的initializer实现读取不同的数据</p>\n<div class=\"sourceCode\" id=\"cb31\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb31-1\"><a href=\"#cb31-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((train_text,train_label,train_sequence_len))</span>\n<span id=\"cb31-2\"><a href=\"#cb31-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_dataset <span class=\"op\">=</span> train_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb32\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb32-1\"><a href=\"#cb32-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>dev_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((dev_text,dev_label,dev_sequence_len))dev_dataset <span class=\"op\">=</span> dev_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb33\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb33-1\"><a href=\"#cb33-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>test_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((test_text,test_label,test_sequence_len))test_dataset <span class=\"op\">=</span> test_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb34\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb34-1\"><a href=\"#cb34-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>iterator <span class=\"op\">=</span> tf.compat.v1.data.Iterator.from_structure(train_dataset.output_types,                                                     train_dataset.output_shapes)</span></code></pre></div>\n<pre><code>WARNING:tensorflow:From &lt;ipython-input-24-248b28ede763&gt;:1: DatasetV1.output_types (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_types(dataset)`.\nWARNING:tensorflow:From &lt;ipython-input-24-248b28ede763&gt;:2: DatasetV1.output_shapes (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_shapes(dataset)`.</code></pre>\n<div class=\"sourceCode\" id=\"cb36\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb36-1\"><a href=\"#cb36-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#初始化不同的initializer，从X,Y,S读取的数据不同</span></span>\n<span id=\"cb36-2\"><a href=\"#cb36-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_initializer <span class=\"op\">=</span> iterator.make_initializer(train_dataset)</span>\n<span id=\"cb36-3\"><a href=\"#cb36-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>dev_initializer <span class=\"op\">=</span> iterator.make_initializer(dev_dataset)</span>\n<span id=\"cb36-4\"><a href=\"#cb36-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>test_initializer <span class=\"op\">=</span> iterator.make_initializer(test_dataset)</span>\n<span id=\"cb36-5\"><a href=\"#cb36-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>X,Y,S <span class=\"op\">=</span> iterator.get_next() <span class=\"co\">#运行时每次读取一个batch_size的text,label和sequence_len</span></span></code></pre></div>\n<pre><code>WARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:336: Iterator.output_types (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_types(iterator)`.\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:337: Iterator.output_shapes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_shapes(iterator)`.\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:339: Iterator.output_classes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_classes(iterator)`.</code></pre>\n<h3 id=\"命名实体识别模型构建\">命名实体识别模型构建</h3>\n<ul>\n<li>输入文本经过预处理后得到字符的id，</li>\n<li>首先经过Embedding层得到字符向量，</li>\n<li>然后经过BiLSTM层得到句子表示，</li>\n<li>再经过CRF计算每个字符的标签得分，</li>\n<li>对于每个字符，选取得分最高的标签作为该字符的类别。</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb38\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb38-1\"><a href=\"#cb38-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>embedding_size <span class=\"op\">=</span> <span class=\"dv\">5</span></span>\n<span id=\"cb38-2\"><a href=\"#cb38-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>hidden_dim <span class=\"op\">=</span> <span class=\"dv\">4</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb39\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb39-1\"><a href=\"#cb39-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># embedding层</span></span>\n<span id=\"cb39-2\"><a href=\"#cb39-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;embedding&#39;</span>): <span class=\"co\">#随机生成字符向量</span></span>\n<span id=\"cb39-3\"><a href=\"#cb39-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    embedding <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb39-4\"><a href=\"#cb39-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf.compat.v1.random_normal([<span class=\"bu\">len</span>(vocab2id)<span class=\"op\">+</span><span class=\"dv\">1</span>, embedding_size]),</span>\n<span id=\"cb39-5\"><a href=\"#cb39-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span> tf.compat.v1.float32</span>\n<span id=\"cb39-6\"><a href=\"#cb39-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    )</span>\n<span id=\"cb39-7\"><a href=\"#cb39-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>inputs <span class=\"op\">=</span> tf.compat.v1.nn.embedding_lookup(embedding,X) <span class=\"co\">#将X中vocab的id转换为对应的字符向量</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb40\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb40-1\"><a href=\"#cb40-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># BiLSTM隐藏层</span></span>\n<span id=\"cb40-2\"><a href=\"#cb40-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 前向lstm</span></span>\n<span id=\"cb40-3\"><a href=\"#cb40-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>lstm_fw_cell <span class=\"op\">=</span> tf.compat.v1.nn.rnn_cell.LSTMCell(hidden_dim,reuse <span class=\"op\">=</span> tf.compat.v1.AUTO_REUSE)</span>\n<span id=\"cb40-4\"><a href=\"#cb40-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 后向lstm</span></span>\n<span id=\"cb40-5\"><a href=\"#cb40-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>lstm_bw_cell <span class=\"op\">=</span> tf.compat.v1.nn.rnn_cell.LSTMCell(hidden_dim,reuse <span class=\"op\">=</span> tf.compat.v1.AUTO_REUSE)</span>\n<span id=\"cb40-6\"><a href=\"#cb40-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 组合成双向lstm</span></span>\n<span id=\"cb40-7\"><a href=\"#cb40-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>(output,output_states) <span class=\"op\">=</span> tf.compat.v1.nn.bidirectional_dynamic_rnn(</span>\n<span id=\"cb40-8\"><a href=\"#cb40-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    lstm_fw_cell,</span>\n<span id=\"cb40-9\"><a href=\"#cb40-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>    lstm_bw_cell,</span>\n<span id=\"cb40-10\"><a href=\"#cb40-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    inputs,</span>\n<span id=\"cb40-11\"><a href=\"#cb40-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>    S,</span>\n<span id=\"cb40-12\"><a href=\"#cb40-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    dtype<span class=\"op\">=</span>tf.compat.v1.float32</span>\n<span id=\"cb40-13\"><a href=\"#cb40-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb40-14\"><a href=\"#cb40-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#list -&gt; tensor [batch_size,max_len,hidden_dim * 2]</span></span>\n<span id=\"cb40-15\"><a href=\"#cb40-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>output <span class=\"op\">=</span> tf.stack(output,axis<span class=\"op\">=</span><span class=\"dv\">1</span>)</span>\n<span id=\"cb40-16\"><a href=\"#cb40-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># -&gt; [batch_size * max_len,hidden_dim * 2]</span></span>\n<span id=\"cb40-17\"><a href=\"#cb40-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>output <span class=\"op\">=</span> tf.reshape(output,[<span class=\"op\">-</span><span class=\"dv\">1</span>,hidden_dim <span class=\"op\">*</span><span class=\"dv\">2</span>])</span></code></pre></div>\n<pre><code>WARNING:tensorflow:From &lt;ipython-input-28-215bd7d8a5e9&gt;:12: bidirectional_dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use `keras.layers.Bidirectional(keras.layers.RNN(cell))`, which is equivalent to this API\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\ops\\rnn.py:447: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use `keras.layers.RNN(cell)`, which is equivalent to this API\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\layers\\legacy_rnn\\rnn_cell_impl.py:979: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.\nInstructions for updating:\nCall initializer instance with the dtype argument instead of passing it to the constructor\n\n\nc:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\layers\\legacy_rnn\\rnn_cell_impl.py:901: UserWarning: `tf.nn.rnn_cell.LSTMCell` is deprecated and will be removed in a future version. This class is equivalent as `tf.keras.layers.LSTMCell`, and will be replaced by that in Tensorflow 2.0.\n  warnings.warn(&quot;`tf.nn.rnn_cell.LSTMCell` is deprecated and will be &quot;\nc:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\engine\\base_layer_v1.py:1684: UserWarning: `layer.add_variable` is deprecated and will be removed in a future version. Please use `layer.add_weight` method instead.\n  warnings.warn(&#39;`layer.add_variable` is deprecated and &#39;</code></pre>\n<div class=\"sourceCode\" id=\"cb42\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb42-1\"><a href=\"#cb42-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># BiLSTM输出层</span></span>\n<span id=\"cb42-2\"><a href=\"#cb42-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;output&#39;</span>):</span>\n<span id=\"cb42-3\"><a href=\"#cb42-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    W <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb42-4\"><a href=\"#cb42-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf.compat.v1.truncated_normal(</span>\n<span id=\"cb42-5\"><a href=\"#cb42-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>            shape<span class=\"op\">=</span>[hidden_dim <span class=\"op\">*</span><span class=\"dv\">2</span> , <span class=\"bu\">len</span>(label2id)],</span>\n<span id=\"cb42-6\"><a href=\"#cb42-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            mean<span class=\"op\">=</span><span class=\"dv\">0</span>,</span>\n<span id=\"cb42-7\"><a href=\"#cb42-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            stddev<span class=\"op\">=</span><span class=\"fl\">0.1</span>),</span>\n<span id=\"cb42-8\"><a href=\"#cb42-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span>tf.compat.v1.float32</span>\n<span id=\"cb42-9\"><a href=\"#cb42-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>    )</span>\n<span id=\"cb42-10\"><a href=\"#cb42-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    B <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb42-11\"><a href=\"#cb42-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>        np.zeros(<span class=\"bu\">len</span>(label2id)),</span>\n<span id=\"cb42-12\"><a href=\"#cb42-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span>tf.compat.v1.float32)</span>\n<span id=\"cb42-13\"><a href=\"#cb42-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">#[batch_size * max_len,label_size]</span></span>\n<span id=\"cb42-14\"><a href=\"#cb42-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>    Y_out <span class=\"op\">=</span> tf.matmul(output,W) <span class=\"op\">+</span> B </span>\n<span id=\"cb42-15\"><a href=\"#cb42-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>scores <span class=\"op\">=</span> tf.reshape(Y_out,[<span class=\"op\">-</span><span class=\"dv\">1</span>, max_length,<span class=\"bu\">len</span>(label2id)])  <span class=\"co\">#[batch_size,max_len,label_size]</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb43\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb43-1\"><a href=\"#cb43-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>scores</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;Reshape_1:0&#39; shape=(None, 577, 7) dtype=float32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb45\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb45-1\"><a href=\"#cb45-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>Y</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;IteratorGetNext:1&#39; shape=(None, 577) dtype=int32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb47\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb47-1\"><a href=\"#cb47-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>S</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;IteratorGetNext:2&#39; shape=(None,) dtype=int32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb49\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb49-1\"><a href=\"#cb49-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># CRF层</span></span>\n<span id=\"cb49-2\"><a href=\"#cb49-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;crf&#39;</span>,reuse<span class=\"op\">=</span>tf.compat.v1.AUTO_REUSE):</span>\n<span id=\"cb49-3\"><a href=\"#cb49-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    trans_matrix <span class=\"op\">=</span> tf.compat.v1.get_variable(<span class=\"st\">&#39;transition&#39;</span>, [<span class=\"bu\">len</span>(label2id),<span class=\"bu\">len</span>(label2id)])</span>\n<span id=\"cb49-4\"><a href=\"#cb49-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>log_likelihood,_ <span class=\"op\">=</span>tfa.text.crf_log_likelihood(scores,Y,S,trans_matrix)</span>\n<span id=\"cb49-5\"><a href=\"#cb49-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>loss<span class=\"op\">=</span>tf.reduce_mean(<span class=\"op\">-</span>log_likelihood)</span>\n<span id=\"cb49-6\"><a href=\"#cb49-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># optimizer = tf.keras.optimizers.SGD(learning_rate=0.5)</span></span>\n<span id=\"cb49-7\"><a href=\"#cb49-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># train_op =optimizer.minimize(loss)#梯度下降法，学习率0.1</span></span>\n<span id=\"cb49-8\"><a href=\"#cb49-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_op <span class=\"op\">=</span> tf.compat.v1.train.GradientDescentOptimizer(<span class=\"fl\">0.1</span>).minimize(loss)<span class=\"co\">#梯度下降法，学习率0.1</span></span>\n<span id=\"cb49-9\"><a href=\"#cb49-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>saver <span class=\"op\">=</span> tf.compat.v1.train.Saver() <span class=\"co\">#用来保存和加载模型</span></span>\n<span id=\"cb49-10\"><a href=\"#cb49-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>min_Loss <span class=\"op\">=</span> <span class=\"bu\">int</span>(<span class=\"fl\">1e8</span>) <span class=\"co\">#维护当前最小的Loss,初始化为一个较大的值</span></span></code></pre></div>\n<h3 id=\"命名实体识别模型训练\">命名实体识别模型训练</h3>\n<ul>\n<li>通过训练集训练，并保存当前loss值最小的模型。</li>\n<li>构建的模型抽象出来是一个包含计算和变量的图。定义变量时不会进行运算，也没有具体的值，变量在Session中进行初始化后才有值。</li>\n<li>在Session中通过run可以执行图，进行相应的计算或取出对应的值。通过训练改变变量的值，最终可以得到模型需要的参数。</li>\n<li>变量的值仅在一个Session中有效，通过saver保存变量后，可以在新的Session中通过saver加载变量，就无需再重新训练模型。</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb50\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb50-1\"><a href=\"#cb50-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess <span class=\"op\">=</span> tf.compat.v1.Session() <span class=\"co\"># 创建一个Session</span></span>\n<span id=\"cb50-2\"><a href=\"#cb50-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(tf.compat.v1.global_variables_initializer()) <span class=\"co\"># 初始化所有变量</span></span>\n<span id=\"cb50-3\"><a href=\"#cb50-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">for</span> epoch <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"dv\">100</span>):</span>\n<span id=\"cb50-4\"><a href=\"#cb50-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    sess.run(train_initializer) <span class=\"co\">#初始化训练集和initializer</span></span>\n<span id=\"cb50-5\"><a href=\"#cb50-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> step <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"dv\">10</span>): <span class=\"co\">#使用了10个batch的数据</span></span>\n<span id=\"cb50-6\"><a href=\"#cb50-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf_train_scores,tf_trans_matrix,Loss,_ <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb50-7\"><a href=\"#cb50-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            [scores,trans_matrix,loss,train_op]</span>\n<span id=\"cb50-8\"><a href=\"#cb50-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>        ) <span class=\"co\"># 执行训练过程</span></span>\n<span id=\"cb50-9\"><a href=\"#cb50-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb50-10\"><a href=\"#cb50-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">if</span> Loss <span class=\"op\">&lt;</span>min_Loss:</span>\n<span id=\"cb50-11\"><a href=\"#cb50-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>        saver.save(sess,<span class=\"st\">&#39;model/my_model&#39;</span>) <span class=\"co\"># 保存当前loss最小的model</span></span>\n<span id=\"cb50-12\"><a href=\"#cb50-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>        min_Loss <span class=\"op\">=</span> Loss</span>\n<span id=\"cb50-13\"><a href=\"#cb50-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"bu\">print</span>(<span class=\"st\">&quot;** epoch&quot;</span>,epoch<span class=\"op\">+</span><span class=\"dv\">1</span>,<span class=\"st\">&quot;Loss&quot;</span>,Loss)</span></code></pre></div>\n<pre><code>** epoch 1 Loss 58.72455\n** epoch 2 Loss 53.927124\n** epoch 3 Loss 50.51535\n** epoch 4 Loss 49.02472\n** epoch 5 Loss 50.43283\n** epoch 6 Loss 50.08667\n** epoch 7 Loss 46.792816\n** epoch 8 Loss 44.00418\n** epoch 9 Loss 42.740723\n** epoch 10 Loss 38.633057\n** epoch 11 Loss 34.638123\n** epoch 12 Loss 30.238342\n** epoch 13 Loss 31.892944\n** epoch 14 Loss 28.726074\n** epoch 15 Loss 27.086182\n** epoch 16 Loss 25.640747\n** epoch 17 Loss 24.253967\n** epoch 18 Loss 23.045715\n** epoch 19 Loss 22.389526\n** epoch 20 Loss 21.917236\n** epoch 21 Loss 21.551575\n** epoch 22 Loss 21.257202\n** epoch 23 Loss 21.010925\n** epoch 24 Loss 20.801147\n** epoch 25 Loss 20.622559\n** epoch 26 Loss 20.46753\n** epoch 27 Loss 20.330994\n** epoch 28 Loss 20.209717\n** epoch 29 Loss 20.09906\n** epoch 30 Loss 20.002686\n** epoch 31 Loss 19.913574\n** epoch 32 Loss 19.83197\n** epoch 33 Loss 19.756409\n** epoch 34 Loss 19.690308\n** epoch 35 Loss 19.62616\n** epoch 36 Loss 19.563904\n** epoch 37 Loss 19.511597\n** epoch 38 Loss 19.460754\n** epoch 39 Loss 19.409851\n** epoch 40 Loss 19.362366\n** epoch 41 Loss 19.32257\n** epoch 42 Loss 19.281921\n** epoch 43 Loss 19.241943\n** epoch 44 Loss 19.204895\n** epoch 45 Loss 19.17163\n** epoch 46 Loss 19.14154\n** epoch 47 Loss 19.10846\n** epoch 48 Loss 19.077393\n** epoch 49 Loss 19.050842\n** epoch 50 Loss 19.02295\n** epoch 51 Loss 18.999817\n** epoch 52 Loss 18.973328\n** epoch 53 Loss 18.948425\n** epoch 54 Loss 18.927612\n** epoch 55 Loss 18.903809\n** epoch 56 Loss 18.88678\n** epoch 57 Loss 18.864624\n** epoch 58 Loss 18.844116\n** epoch 59 Loss 18.824219\n** epoch 60 Loss 18.807495\n** epoch 61 Loss 18.79132\n** epoch 62 Loss 18.773804\n** epoch 63 Loss 18.757812\n** epoch 64 Loss 18.743103\n** epoch 65 Loss 18.72815\n** epoch 66 Loss 18.71283\n** epoch 67 Loss 18.69812\n** epoch 68 Loss 18.68335\n** epoch 69 Loss 18.670227\n** epoch 70 Loss 18.656555\n** epoch 71 Loss 18.646484\n** epoch 72 Loss 18.633667\n** epoch 73 Loss 18.621033\n** epoch 74 Loss 18.611145\n** epoch 75 Loss 18.603027\n** epoch 76 Loss 18.591614\n** epoch 77 Loss 18.577148\n** epoch 78 Loss 18.568176\n** epoch 79 Loss 18.558899\n** epoch 80 Loss 18.550049\n** epoch 81 Loss 18.5401\n** epoch 82 Loss 18.531128\n** epoch 83 Loss 18.52301\n** epoch 84 Loss 18.51294\n** epoch 85 Loss 18.504944\n** epoch 86 Loss 18.495544\n** epoch 87 Loss 18.486633\n** epoch 88 Loss 18.481384\n** epoch 89 Loss 18.473328\n** epoch 90 Loss 18.466125\n** epoch 91 Loss 18.459839\n** epoch 92 Loss 18.45227\n** epoch 93 Loss 18.444885\n** epoch 94 Loss 18.435303\n** epoch 95 Loss 18.432373\n** epoch 96 Loss 18.423462\n** epoch 97 Loss 18.418274\n** epoch 98 Loss 18.411194\n** epoch 99 Loss 18.403381\n** epoch 100 Loss 18.400818</code></pre>\n<h3 id=\"命名实体识别模型评估\">命名实体识别模型评估</h3>\n<h4 id=\"计算验证集f1_score并查看验证集预测结果\">计算验证集f1_score并查看验证集预测结果。</h4>\n<ul>\n<li><strong>精确率pression、召回率recall和f1_score</strong></li>\n<li>对于结果仅包括“正负”的二分类问题，\n<ul>\n<li>“预测为正，实际也为正”被称为真阳性，“预测为正，实际为负”被称为假阳性，“预测为负，实际为正”被称为假阴性，</li>\n<li>精确率定义为<span class=\"math inline\">\\(\\frac\n{真阳性}{真阳性+假阳性}\\)</span>，召回率定义为<span class=\"math inline\">\\(\\frac{真阳性}{真阳性+假阴性}\\)</span>，f1_score可以看作是精确率和召回率的一种加权平均，定义为$\n2*$。</li>\n</ul></li>\n<li>对于多分类问题\n<ul>\n<li>既可以分别计算出每一类的精确率、召回率和f1_score\n<ul>\n<li>计算某一类时可认为该类为“正”，其他所有类为“负”，以此得到每一类的真阳性、假阳性和假阴性数量），再计算出f1_score的平均值，这种f1_score被称为macro-f1。</li>\n</ul></li>\n<li>也可以计算出总的精确率和召回率\n<ul>\n<li>得到每一类的真阳性、假阳性和假阴性数量，分别求和得到总的数量），再计算出f1_score，这种f1_score被称为micro-f1</li>\n</ul></li>\n<li>当预测结果未出现错误类别（即未包含在类别集合的类别）时，这种方式计算得到的精确率、召回率和f1_score都相等，值为$\n$。</li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb52\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb52-1\"><a href=\"#cb52-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(dev_initializer) <span class=\"co\"># 初始化验证集的 initializer</span></span>\n<span id=\"cb52-2\"><a href=\"#cb52-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_scores,tf_trans_matrix,tf_dev_text,tf_dev_label,tf_dev_sequence_len <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb52-3\"><a href=\"#cb52-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    [scores,trans_matrix,X,Y,S]</span>\n<span id=\"cb52-4\"><a href=\"#cb52-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb52-5\"><a href=\"#cb52-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># viterbi_decode每次处理一个句子，这里因为我们设定的batch_size为1，可以直接通过reshape将该维去掉</span></span>\n<span id=\"cb52-6\"><a href=\"#cb52-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 同时去掉句子的padding部分</span></span>\n<span id=\"cb52-7\"><a href=\"#cb52-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_sequence_len <span class=\"op\">=</span> <span class=\"bu\">int</span>(tf_dev_sequence_len)</span>\n<span id=\"cb52-8\"><a href=\"#cb52-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_text <span class=\"op\">=</span> tf_dev_text.reshape(max_length)[:tf_dev_sequence_len]</span>\n<span id=\"cb52-9\"><a href=\"#cb52-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-10\"><a href=\"#cb52-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_scores <span class=\"op\">=</span> tf_dev_scores.reshape(max_length,<span class=\"bu\">len</span>(label2id))[:tf_dev_sequence_len]</span>\n<span id=\"cb52-11\"><a href=\"#cb52-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_label <span class=\"op\">=</span> tf_dev_label.reshape(max_length)[:tf_dev_sequence_len]</span>\n<span id=\"cb52-12\"><a href=\"#cb52-12\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-13\"><a href=\"#cb52-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># viterbi_decode传入的scores参数的shape应为[sequence_length,label_size],trans_matix应为[label_size，label_size]</span></span>\n<span id=\"cb52-14\"><a href=\"#cb52-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>viterbi_sequence,_ <span class=\"op\">=</span> tfa.text.viterbi_decode(tf_dev_scores,tf_trans_matrix)</span>\n<span id=\"cb52-15\"><a href=\"#cb52-15\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-16\"><a href=\"#cb52-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>correct_labels <span class=\"op\">=</span> np.<span class=\"bu\">sum</span>(np.equal(viterbi_sequence,tf_dev_label)) <span class=\"co\"># 预测正确的标签数</span></span>\n<span id=\"cb52-17\"><a href=\"#cb52-17\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(<span class=\"st\">&quot;f1_score:</span><span class=\"sc\">&#123;&#125;</span><span class=\"st\">&quot;</span>.<span class=\"bu\">format</span>(correct_labels <span class=\"op\">/</span> tf_dev_sequence_len))</span>\n<span id=\"cb52-18\"><a href=\"#cb52-18\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(viterbi_sequence)</span></code></pre></div>\n<pre><code>f1_score:0.463768115942029\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 0]</code></pre>\n<h4 id=\"命名实体识别模型预测\">命名实体识别模型预测</h4>\n<h5 id=\"加载模型\">加载模型</h5>\n<div class=\"sourceCode\" id=\"cb54\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb54-1\"><a href=\"#cb54-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess <span class=\"op\">=</span> tf.compat.v1.Session()</span>\n<span id=\"cb54-2\"><a href=\"#cb54-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>saver.restore(sess,<span class=\"st\">&quot;model/my_model&quot;</span>) <span class=\"co\">#加载模型参数</span></span>\n<span id=\"cb54-3\"><a href=\"#cb54-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(test_initializer)  <span class=\"co\"># 初始化测试集的initializer</span></span>\n<span id=\"cb54-4\"><a href=\"#cb54-4\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-5\"><a href=\"#cb54-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_scores,tf_test_matrix,tf_test_text,tf_test_label,tf_test_sequence_len <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb54-6\"><a href=\"#cb54-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    [scores,trans_matrix,X,Y,S]</span>\n<span id=\"cb54-7\"><a href=\"#cb54-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb54-8\"><a href=\"#cb54-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_sequence_len <span class=\"op\">=</span> <span class=\"bu\">int</span>(tf_test_sequence_len)</span>\n<span id=\"cb54-9\"><a href=\"#cb54-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_text <span class=\"op\">=</span> tf_test_text.reshape(max_length)[:tf_test_sequence_len]</span>\n<span id=\"cb54-10\"><a href=\"#cb54-10\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-11\"><a href=\"#cb54-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_scores <span class=\"op\">=</span> tf_test_scores.reshape(max_length,<span class=\"bu\">len</span>(label2id))[:tf_test_sequence_len]</span>\n<span id=\"cb54-12\"><a href=\"#cb54-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_label <span class=\"op\">=</span> tf_test_label.reshape(max_length)[:tf_test_sequence_len]</span>\n<span id=\"cb54-13\"><a href=\"#cb54-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-14\"><a href=\"#cb54-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>viterbi_sequence,_ <span class=\"op\">=</span> tfa.text.viterbi_decode(tf_test_scores,tf_trans_matrix)</span>\n<span id=\"cb54-15\"><a href=\"#cb54-15\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-16\"><a href=\"#cb54-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_test_text <span class=\"op\">=</span> [id2vocab[vocab] <span class=\"cf\">for</span> vocab <span class=\"kw\">in</span> tf_test_text] <span class=\"co\"># id转换为vocab</span></span>\n<span id=\"cb54-17\"><a href=\"#cb54-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_prediction_label <span class=\"op\">=</span> [id2label[label] <span class=\"cf\">for</span> label <span class=\"kw\">in</span> viterbi_sequence] <span class=\"co\"># id转换为label</span></span>\n<span id=\"cb54-18\"><a href=\"#cb54-18\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-19\"><a href=\"#cb54-19\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>([id2vocab[tf_test_text[index]] <span class=\"op\">+</span> <span class=\"st\">&#39;&#39;</span> <span class=\"op\">+</span> id2label[viterbi_sequence[index]] <span class=\"cf\">for</span> index <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"bu\">len</span>(tf_test_text))])</span>\n<span id=\"cb54-20\"><a href=\"#cb54-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.close()</span></code></pre></div>\n<pre><code>INFO:tensorflow:Restoring parameters from model/my_model\n[&#39;我I-ORG&#39;, &#39;们I-ORG&#39;, &#39;变I-ORG&#39;, &#39;而O&#39;, &#39;以O&#39;, &#39;书O&#39;, &#39;会O&#39;, &#39;友O&#39;, &#39;，O&#39;, &#39;以O&#39;, &#39;书O&#39;, &#39;结O&#39;, &#39;缘O&#39;, &#39;，O&#39;, &#39;把O&#39;, &#39;欧O&#39;, &#39;美O&#39;, &#39;、O&#39;, &#39;港O&#39;, &#39;台O&#39;, &#39;流B-ORG&#39;, &#39;行I-ORG&#39;, &#39;的I-ORG&#39;, &#39;食I-ORG&#39;, &#39;品I-ORG&#39;, &#39;类I-ORG&#39;, &#39;图I-ORG&#39;, &#39;谱I-ORG&#39;, &#39;、I-ORG&#39;, &#39;画I-ORG&#39;, &#39;册I-ORG&#39;, &#39;、I-ORG&#39;, &#39;工I-ORG&#39;, &#39;具I-ORG&#39;, &#39;书I-ORG&#39;, &#39;汇I-ORG&#39;, &#39;集I-ORG&#39;, &#39;一I-ORG&#39;, &#39;堂I-ORG&#39;, &#39;。O&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb56\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb56-1\"><a href=\"#cb56-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_test_text</span></code></pre></div>\n<pre><code>[&#39;我&#39;,\n &#39;们&#39;,\n &#39;变&#39;,\n &#39;而&#39;,\n &#39;以&#39;,\n &#39;书&#39;,\n &#39;会&#39;,\n &#39;友&#39;,\n &#39;，&#39;,\n &#39;以&#39;,\n &#39;书&#39;,\n &#39;结&#39;,\n &#39;缘&#39;,\n &#39;，&#39;,\n &#39;把&#39;,\n &#39;欧&#39;,\n &#39;美&#39;,\n &#39;、&#39;,\n &#39;港&#39;,\n &#39;台&#39;,\n &#39;流&#39;,\n &#39;行&#39;,\n &#39;的&#39;,\n &#39;食&#39;,\n &#39;品&#39;,\n &#39;类&#39;,\n &#39;图&#39;,\n &#39;谱&#39;,\n &#39;、&#39;,\n &#39;画&#39;,\n &#39;册&#39;,\n &#39;、&#39;,\n &#39;工&#39;,\n &#39;具&#39;,\n &#39;书&#39;,\n &#39;汇&#39;,\n &#39;集&#39;,\n &#39;一&#39;,\n &#39;堂&#39;,\n &#39;。&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb58\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb58-1\"><a href=\"#cb58-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_prediction_label </span></code></pre></div>\n<pre><code>[&#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;B-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;O&#39;]</code></pre>\n<h4 id=\"结果展示\">结果展示</h4>\n<div class=\"sourceCode\" id=\"cb60\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb60-1\"><a href=\"#cb60-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>exam_test_text <span class=\"op\">=</span> [<span class=\"st\">&#39;我&#39;</span>,<span class=\"st\">&#39;们&#39;</span>,<span class=\"st\">&#39;变&#39;</span>,<span class=\"st\">&#39;而&#39;</span>,<span class=\"st\">&#39;以&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;会&#39;</span>,<span class=\"st\">&#39;友&#39;</span>,<span class=\"st\">&#39;，&#39;</span>,<span class=\"st\">&#39;以&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;结&#39;</span>,<span class=\"st\">&#39;缘&#39;</span>,<span class=\"st\">&#39;，&#39;</span>,</span>\n<span id=\"cb60-2\"><a href=\"#cb60-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>                     <span class=\"st\">&#39;把&#39;</span>,<span class=\"st\">&#39;欧&#39;</span>,<span class=\"st\">&#39;美&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,<span class=\"st\">&#39;港&#39;</span>,<span class=\"st\">&#39;台&#39;</span>,<span class=\"st\">&#39;流&#39;</span>,<span class=\"st\">&#39;行&#39;</span>,<span class=\"st\">&#39;的&#39;</span>,<span class=\"st\">&#39;食&#39;</span>,<span class=\"st\">&#39;品&#39;</span>,<span class=\"st\">&#39;类&#39;</span>,<span class=\"st\">&#39;图&#39;</span>,<span class=\"st\">&#39;谱&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,</span>\n<span id=\"cb60-3\"><a href=\"#cb60-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>                     <span class=\"st\">&#39;画&#39;</span>,<span class=\"st\">&#39;册&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,<span class=\"st\">&#39;工&#39;</span>,<span class=\"st\">&#39;具&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;汇&#39;</span>,<span class=\"st\">&#39;集&#39;</span>,<span class=\"st\">&#39;一&#39;</span>,<span class=\"st\">&#39;堂&#39;</span>,<span class=\"st\">&#39;。&#39;</span>]</span>\n<span id=\"cb60-4\"><a href=\"#cb60-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>exam_prediction_label <span class=\"op\">=</span> [<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,</span>\n<span id=\"cb60-5\"><a href=\"#cb60-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>                            <span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,</span>\n<span id=\"cb60-6\"><a href=\"#cb60-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>                            <span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>]</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb61\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb61-1\"><a href=\"#cb61-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_named_entity(text,labels):</span>\n<span id=\"cb61-2\"><a href=\"#cb61-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    named_entity_set <span class=\"op\">=</span> <span class=\"bu\">set</span>() <span class=\"co\">#去重，同一个实体只记录一次</span></span>\n<span id=\"cb61-3\"><a href=\"#cb61-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    named_entity_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb61-4\"><a href=\"#cb61-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    cur_type<span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-5\"><a href=\"#cb61-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>    is_entity <span class=\"op\">=</span> <span class=\"va\">False</span></span>\n<span id=\"cb61-6\"><a href=\"#cb61-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    tmp_named_entity<span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-7\"><a href=\"#cb61-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>    </span>\n<span id=\"cb61-8\"><a href=\"#cb61-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> index <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"bu\">len</span>(text)):</span>\n<span id=\"cb61-9\"><a href=\"#cb61-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>        label <span class=\"op\">=</span> labels[index]</span>\n<span id=\"cb61-10\"><a href=\"#cb61-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> label <span class=\"op\">==</span><span class=\"st\">&#39;O&#39;</span> <span class=\"kw\">or</span> label[:<span class=\"dv\">2</span>] <span class=\"op\">==</span> <span class=\"st\">&#39;B-&#39;</span>: <span class=\"co\"># 可能是前一个实体的结束</span></span>\n<span id=\"cb61-11\"><a href=\"#cb61-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> is_entity <span class=\"op\">==</span> <span class=\"va\">True</span>: <span class=\"co\"># 一个实体的结束</span></span>\n<span id=\"cb61-12\"><a href=\"#cb61-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> tmp_named_entity <span class=\"kw\">not</span> <span class=\"kw\">in</span> named_entity_set:</span>\n<span id=\"cb61-13\"><a href=\"#cb61-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    named_entity_set.add(tmp_named_entity)</span>\n<span id=\"cb61-14\"><a href=\"#cb61-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    named_entity_list.append(&#123;<span class=\"st\">&#39;text&#39;</span>:tmp_named_entity,<span class=\"st\">&#39;type&#39;</span>:cur_type&#125;)</span>\n<span id=\"cb61-15\"><a href=\"#cb61-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>                </span>\n<span id=\"cb61-16\"><a href=\"#cb61-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>                is_entity <span class=\"op\">=</span><span class=\"va\">False</span></span>\n<span id=\"cb61-17\"><a href=\"#cb61-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_named_entity <span class=\"op\">=</span><span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-18\"><a href=\"#cb61-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> label <span class=\"op\">==</span> <span class=\"st\">&#39;O&#39;</span>:</span>\n<span id=\"cb61-19\"><a href=\"#cb61-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">continue</span></span>\n<span id=\"cb61-20\"><a href=\"#cb61-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>            cur_type <span class=\"op\">=</span> label[<span class=\"dv\">2</span>:] <span class=\"co\"># 若为&#39;B-&#39;,说明此时是回一个实体的开头</span></span>\n<span id=\"cb61-21\"><a href=\"#cb61-21\" aria-hidden=\"true\" tabindex=\"-1\"></a>            is_entity <span class=\"op\">=</span><span class=\"va\">True</span></span>\n<span id=\"cb61-22\"><a href=\"#cb61-22\" aria-hidden=\"true\" tabindex=\"-1\"></a>            tmp_named_entity <span class=\"op\">+=</span> text[index]</span>\n<span id=\"cb61-23\"><a href=\"#cb61-23\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">else</span>: <span class=\"co\"># &#39;I-&#39;</span></span>\n<span id=\"cb61-24\"><a href=\"#cb61-24\" aria-hidden=\"true\" tabindex=\"-1\"></a>            tmp_named_entity <span class=\"op\">+=</span> text[index]</span>\n<span id=\"cb61-25\"><a href=\"#cb61-25\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> named_entity_list</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb62\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb62-1\"><a href=\"#cb62-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>named_entity_list <span class=\"op\">=</span> get_named_entity(exam_test_text,exam_prediction_label)</span>\n<span id=\"cb62-2\"><a href=\"#cb62-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(named_entity_list)</span></code></pre></div>\n<pre><code>[&#123;&#39;text&#39;: &#39;欧&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;美&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;港&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;台&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;]</code></pre>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"读书城南-在未来面前我们都是孩子\">👋 读书城南，🤔\n在未来面前，我们都是孩子～</h5>\n<ul>\n<li>📙\n一个热衷于探索学习新方向、新事物的智能产品经理，闲暇时间喜欢coding💻、画图🎨、音乐🎵、学习ing~</li>\n</ul>\n<h5 id=\"social-media\">👋 Social Media</h5>\n<ul>\n<li><p>🛠️ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>⚡ PM导航: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>☘️ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>🌱 AI PRJ自己部署的一些算法demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>📫 Email: 1450136519@qq.com</p></li>\n<li><p>💬 WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>💬 公众号: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"加入小组\">👋 加入小组~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"加入组织\" alt width=\"240\"></p>\n<h5 id=\"感谢打赏\">👋 感谢打赏~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"支付宝打赏\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"微信打赏\" alt width=\"140\"></p>\n","more":"<h2 id=\"基于lstmcrf的中文命名实体识别\">基于LSTM+CRF的中文命名实体识别</h2>\n<ul>\n<li><strong>任务描述</strong>：命名实体识别是指识别文本中具有特定意义的实体，主要包括人名、地名、机构名、专有名词等。\n<ul>\n<li>实现一个简单的命名实体识别方法，该方法通过BiLSTM+CRF模型预测出文本中文字所对应的标签，再根据标签提取出文本中的实体。</li>\n<li>从数据文件中加载数据并进行预处理、构建模型、训练模型、评估模型和测试模型。\n<ul>\n<li>说明：目前本文档仅作为示例，为了加快训练速度模型较为简单，词向量维度也比较低，因此导致模型准确率较低。</li>\n</ul></li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> tensorflow <span class=\"im\">as</span> tf</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> numpy <span class=\"im\">as</span> np</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> pandas <span class=\"im\">as</span> pd</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb2\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"im\">import</span> tensorflow_addons <span class=\"im\">as</span> tfa</span></code></pre></div>\n<ul>\n<li><p>tf 2.0 的新特性：eager execution</p>\n<ul>\n<li>可以用tf.executing_eargerly()查看Eager\nExecution当前的启动状态，返回True则是开启，False是关闭。</li>\n<li>可以用tf.compat.v1.enable_eager_execution()启动eager模式。</li>\n<li>关闭eager模式的函数是 tf.compat.v1.disable_eager_execution()</li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb3\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb3-1\"><a href=\"#cb3-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf.compat.v1.disable_eager_execution()</span></code></pre></div>\n<h3 id=\"文本数准备\">文本数准备</h3>\n<ul>\n<li>数据说明</li>\n<li>数据整理</li>\n<li>加载数据</li>\n</ul>\n<h4 id=\"数据说明\">数据说明</h4>\n<ul>\n<li><p>数据集共包含约2.7万中文文本，其中包括约2.08万训练集，0.23万验证集和0.46万测试集。</p></li>\n<li><p>数据集分别命名为example.train,example.dev,example.test,保存在datasets目录下。</p>\n<ul>\n<li>1.训练集：包含文本和对应的标签，用于模型训练。</li>\n<li>2.验证集：包含文本和对应的标签，用于模型训练和参数调试。</li>\n<li>3.测试集：包含文本和对应的标签，用于预测结果、验证效果。</li>\n</ul></li>\n<li><p>数据集中标注有三种实体，分别为人名、地名、机构名，标注集合为{'O','B-PER','I-PER','B-ORG','I-ORG','B-LOC','I-LOC'}。</p>\n<ul>\n<li>其中'O'表示非实体，</li>\n<li>'B-'表示实体的首字，</li>\n<li>'I-'表示实体的其他位置的字，</li>\n<li>'PER'表示人名，</li>\n<li>'ORG'表示机构名，</li>\n<li>'LOC'表示地名。IOB（Inside–outside–beginning）是用于标记标志的通用标记格式。</li>\n</ul></li>\n</ul>\n<h4 id=\"数据整理\">数据整理</h4>\n<p>根据数据集中的字符建立字典，并保存在datasets/vocab.txt中，\n标签根据数据集中字符建立字典，并保存在datasets/.txt中</p>\n<div class=\"sourceCode\" id=\"cb4\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb4-1\"><a href=\"#cb4-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_vocab_list(path_list):</span>\n<span id=\"cb4-2\"><a href=\"#cb4-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    vocab_set <span class=\"op\">=</span> <span class=\"bu\">set</span>()</span>\n<span id=\"cb4-3\"><a href=\"#cb4-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    vocab_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb4-4\"><a href=\"#cb4-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> path <span class=\"kw\">in</span> path_list:</span>\n<span id=\"cb4-5\"><a href=\"#cb4-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb4-6\"><a href=\"#cb4-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb4-7\"><a href=\"#cb4-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line.strip()) <span class=\"op\">==</span> <span class=\"dv\">0</span>:</span>\n<span id=\"cb4-8\"><a href=\"#cb4-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"cf\">continue</span></span>\n<span id=\"cb4-9\"><a href=\"#cb4-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> line[<span class=\"dv\">0</span>] <span class=\"kw\">not</span> <span class=\"kw\">in</span> vocab_set:</span>\n<span id=\"cb4-10\"><a href=\"#cb4-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    vocab_set.add(line[<span class=\"dv\">0</span>])</span>\n<span id=\"cb4-11\"><a href=\"#cb4-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    vocab_list.append(line[<span class=\"dv\">0</span>])</span>\n<span id=\"cb4-12\"><a href=\"#cb4-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> vocab_list</span>\n<span id=\"cb4-13\"><a href=\"#cb4-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb4-14\"><a href=\"#cb4-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> save_vocab(path,vocab_list):</span>\n<span id=\"cb4-15\"><a href=\"#cb4-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    output <span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span>.join([vocab <span class=\"op\">+</span> <span class=\"st\">&#39;</span><span class=\"ch\">\\n</span><span class=\"st\">&#39;</span> <span class=\"cf\">for</span> vocab <span class=\"kw\">in</span> vocab_list])</span>\n<span id=\"cb4-16\"><a href=\"#cb4-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;w&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb4-17\"><a href=\"#cb4-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>        f.write(output)</span>\n<span id=\"cb4-18\"><a href=\"#cb4-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb4-19\"><a href=\"#cb4-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab_list <span class=\"op\">=</span> get_vocab_list([<span class=\"st\">&#39;./datasets/example.train&#39;</span>,<span class=\"st\">&#39;./datasets/example.dev&#39;</span>,<span class=\"st\">&#39;./datasets/example.test&#39;</span>])</span>\n<span id=\"cb4-20\"><a href=\"#cb4-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>save_vocab(<span class=\"st\">&#39;./datasets/vocab.txt&#39;</span>,vocab_list)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb5\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb5-1\"><a href=\"#cb5-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab_list</span></code></pre></div>\n<pre><code>[&#39;海&#39;,\n &#39;钓&#39;,\n &#39;比&#39;,\n &#39;赛&#39;,\n &#39;地&#39;,\n &#39;点&#39;,\n &#39;在&#39;,\n &#39;厦&#39;,\n &#39;门&#39;,\n &#39;与&#39;,\n &#39;金&#39;,\n &#39;之&#39;,\n &#39;间&#39;,\n &#39;的&#39;,\n &#39;域&#39;,\n &#39;。&#39;,\n &#39;这&#39;,\n &#39;座&#39;,\n &#39;依&#39;,\n &#39;山&#39;,\n &#39;傍&#39;,\n &#39;水&#39;,\n &#39;博&#39;,\n &#39;物&#39;,\n &#39;馆&#39;,\n &#39;由&#39;,\n &#39;国&#39;,\n &#39;内&#39;,\n &#39;一&#39;,\n &#39;流&#39;,\n &#39;设&#39;,\n &#39;计&#39;,\n &#39;师&#39;,\n &#39;主&#39;,\n &#39;持&#39;,\n &#39;，&#39;,\n &#39;整&#39;,\n &#39;个&#39;,\n &#39;建&#39;,\n &#39;筑&#39;,\n &#39;群&#39;,\n &#39;精&#39;,\n &#39;美&#39;,\n &#39;而&#39;,\n &#39;恢&#39;,\n &#39;宏&#39;,\n &#39;但&#39;,\n &#39;作&#39;,\n &#39;为&#39;,\n &#39;共&#39;,\n &#39;产&#39;,\n &#39;党&#39;,\n &#39;员&#39;,\n &#39;、&#39;,\n &#39;人&#39;,\n &#39;民&#39;,\n &#39;公&#39;,\n &#39;仆&#39;,\n &#39;应&#39;,\n &#39;当&#39;,\n &#39;胸&#39;,\n &#39;怀&#39;,\n &#39;宽&#39;,\n &#39;阔&#39;,\n &#39;真&#39;,\n &#39;正&#39;,\n &#39;做&#39;,\n &#39;到&#39;,\n &#39;“&#39;,\n &#39;先&#39;,\n &#39;天&#39;,\n &#39;下&#39;,\n &#39;忧&#39;,\n &#39;后&#39;,\n &#39;乐&#39;,\n &#39;”&#39;,\n &#39;淡&#39;,\n &#39;化&#39;,\n &#39;名&#39;,\n &#39;利&#39;,\n &#39;得&#39;,\n &#39;失&#39;,\n &#39;和&#39;,\n &#39;宠&#39;,\n &#39;辱&#39;,\n &#39;悲&#39;,\n &#39;喜&#39;,\n &#39;把&#39;,\n &#39;改&#39;,\n &#39;革&#39;,\n &#39;大&#39;,\n &#39;业&#39;,\n &#39;摆&#39;,\n &#39;首&#39;,\n &#39;位&#39;,\n &#39;样&#39;,\n &#39;才&#39;,\n &#39;能&#39;,\n &#39;超&#39;,\n &#39;越&#39;,\n &#39;自&#39;,\n &#39;我&#39;,\n &#39;脱&#39;,\n &#39;世&#39;,\n &#39;俗&#39;,\n &#39;有&#39;,\n &#39;所&#39;,\n &#39;发&#39;,\n &#39;达&#39;,\n &#39;家&#39;,\n &#39;急&#39;,\n &#39;救&#39;,\n &#39;保&#39;,\n &#39;险&#39;,\n &#39;十&#39;,\n &#39;分&#39;,\n &#39;普&#39;,\n &#39;及&#39;,\n &#39;已&#39;,\n &#39;成&#39;,\n &#39;社&#39;,\n &#39;会&#39;,\n &#39;障&#39;,\n &#39;体&#39;,\n &#39;系&#39;,\n &#39;重&#39;,\n &#39;要&#39;,\n &#39;组&#39;,\n &#39;部&#39;,\n &#39;日&#39;,\n &#39;俄&#39;,\n &#39;两&#39;,\n &#39;政&#39;,\n &#39;局&#39;,\n &#39;都&#39;,\n &#39;充&#39;,\n &#39;满&#39;,\n &#39;变&#39;,\n &#39;数&#39;,\n &#39;尽&#39;,\n &#39;管&#39;,\n &#39;关&#39;,\n &#39;目&#39;,\n &#39;前&#39;,\n &#39;是&#39;,\n &#39;历&#39;,\n &#39;史&#39;,\n &#39;最&#39;,\n &#39;佳&#39;,\n &#39;时&#39;,\n &#39;期&#39;,\n &#39;其&#39;,\n &#39;脆&#39;,\n &#39;弱&#39;,\n &#39;性&#39;,\n &#39;不&#39;,\n &#39;言&#39;,\n &#39;明&#39;,\n &#39;克&#39;,\n &#39;马&#39;,\n &#39;尔&#39;,\n &#39;女&#39;,\n &#39;儿&#39;,\n &#39;让&#39;,\n &#39;娜&#39;,\n &#39;今&#39;,\n &#39;年&#39;,\n &#39;读&#39;,\n &#39;五&#39;,\n &#39;级&#39;,\n &#39;她&#39;,\n &#39;班&#39;,\n &#39;上&#39;,\n &#39;3&#39;,\n &#39;0&#39;,\n &#39;多&#39;,\n &#39;同&#39;,\n &#39;学&#39;,\n &#39;该&#39;,\n &#39;委&#39;,\n &#39;1&#39;,\n &#39;长&#39;,\n &#39;参&#39;,\n &#39;加&#39;,\n &#39;步&#39;,\n &#39;行&#39;,\n &#39;男&#39;,\n &#39;轻&#39;,\n &#39;也&#39;,\n &#39;中&#39;,\n &#39;沙&#39;,\n &#39;特&#39;,\n &#39;队&#39;,\n &#39;教&#39;,\n &#39;练&#39;,\n &#39;佩&#39;,\n &#39;雷&#39;,\n &#39;拉&#39;,\n &#39;：&#39;,\n &#39;支&#39;,\n &#39;想&#39;,\n &#39;胜&#39;,\n &#39;因&#39;,\n &#39;此&#39;,\n &#39;出&#39;,\n &#39;了&#39;,\n &#39;努&#39;,\n &#39;力&#39;,\n &#39;种&#39;,\n &#39;混&#39;,\n &#39;乱&#39;,\n &#39;面&#39;,\n &#39;导&#39;,\n &#39;致&#39;,\n &#39;些&#39;,\n &#39;使&#39;,\n &#39;用&#39;,\n &#39;者&#39;,\n &#39;合&#39;,\n &#39;法&#39;,\n &#39;权&#39;,\n &#39;益&#39;,\n &#39;难&#39;,\n &#39;以&#39;,\n &#39;维&#39;,\n &#39;护&#39;,\n &#39;鲁&#39;,\n &#39;宾&#39;,\n &#39;确&#39;,\n &#39;指&#39;,\n &#39;对&#39;,\n &#39;府&#39;,\n &#39;控&#39;,\n &#39;完&#39;,\n &#39;全&#39;,\n &#39;没&#39;,\n &#39;事&#39;,\n &#39;实&#39;,\n &#39;根&#39;,\n &#39;据&#39;,\n &#39;向&#39;,\n &#39;转&#39;,\n &#39;敏&#39;,\n &#39;感&#39;,\n &#39;技&#39;,\n &#39;术&#39;,\n &#39;相&#39;,\n &#39;总&#39;,\n &#39;白&#39;,\n &#39;于&#39;,\n &#39;；&#39;,\n &#39;众&#39;,\n &#39;议&#39;,\n &#39;院&#39;,\n &#39;令&#39;,\n &#39;非&#39;,\n &#39;常&#39;,\n &#39;望&#39;,\n &#39;将&#39;,\n &#39;商&#39;,\n &#39;卫&#39;,\n &#39;星&#39;,\n &#39;受&#39;,\n &#39;威&#39;,\n &#39;胁&#39;,\n &#39;竞&#39;,\n &#39;争&#39;,\n &#39;损&#39;,\n &#39;害&#39;,\n &#39;育&#39;,\n &#39;场&#39;,\n &#39;每&#39;,\n &#39;早&#39;,\n &#39;6&#39;,\n &#39;至&#39;,\n &#39;8&#39;,\n &#39;免&#39;,\n &#39;费&#39;,\n &#39;开&#39;,\n &#39;放&#39;,\n &#39;游&#39;,\n &#39;泳&#39;,\n &#39;等&#39;,\n &#39;则&#39;,\n &#39;增&#39;,\n &#39;综&#39;,\n &#39;服&#39;,\n &#39;务&#39;,\n &#39;延&#39;,\n &#39;采&#39;,\n &#39;取&#39;,\n &#39;灵&#39;,\n &#39;活&#39;,\n &#39;收&#39;,\n &#39;再&#39;,\n &#39;看&#39;,\n &#39;容&#39;,\n &#39;图&#39;,\n &#39;文&#39;,\n &#39;并&#39;,\n &#39;茂&#39;,\n &#39;简&#39;,\n &#39;短&#39;,\n &#39;字&#39;,\n &#39;准&#39;,\n &#39;反&#39;,\n &#39;映&#39;,\n &#39;六&#39;,\n &#39;族&#39;,\n &#39;风&#39;,\n &#39;土&#39;,\n &#39;情&#39;,\n &#39;传&#39;,\n &#39;统&#39;,\n &#39;各&#39;,\n &#39;讲&#39;,\n &#39;很&#39;,\n &#39;哥&#39;,\n &#39;伦&#39;,\n &#39;亚&#39;,\n &#39;号&#39;,\n &#39;航&#39;,\n &#39;飞&#39;,\n &#39;机&#39;,\n &#39;宇&#39;,\n &#39;边&#39;,\n &#39;进&#39;,\n &#39;验&#39;,\n &#39;继&#39;,\n &#39;续&#39;,\n &#39;抢&#39;,\n &#39;修&#39;,\n &#39;故&#39;,\n &#39;二&#39;,\n &#39;氧&#39;,\n &#39;碳&#39;,\n &#39;清&#39;,\n &#39;除&#39;,\n &#39;装&#39;,\n &#39;置&#39;,\n &#39;从&#39;,\n &#39;剥&#39;,\n &#39;削&#39;,\n &#39;阶&#39;,\n &#39;劳&#39;,\n &#39;动&#39;,\n &#39;生&#39;,\n &#39;率&#39;,\n &#39;低&#39;,\n &#39;况&#39;,\n &#39;占&#39;,\n &#39;限&#39;,\n &#39;剩&#39;,\n &#39;余&#39;,\n &#39;品&#39;,\n &#39;足&#39;,\n &#39;豪&#39;,\n &#39;华&#39;,\n &#39;需&#39;,\n &#39;量&#39;,\n &#39;扩&#39;,\n &#39;现&#39;,\n &#39;资&#39;,\n &#39;条&#39;,\n &#39;件&#39;,\n &#39;榨&#39;,\n &#39;价&#39;,\n &#39;值&#39;,\n &#39;供&#39;,\n &#39;身&#39;,\n &#39;求&#39;,\n &#39;外&#39;,\n &#39;又&#39;,\n &#39;本&#39;,\n &#39;新&#39;,\n &#39;雇&#39;,\n &#39;佣&#39;,\n &#39;私&#39;,\n &#39;来&#39;,\n &#39;料&#39;,\n &#39;集&#39;,\n &#39;代&#39;,\n &#39;表&#39;,\n &#39;澳&#39;,\n &#39;别&#39;,\n &#39;区&#39;,\n &#39;筹&#39;,\n &#39;备&#39;,\n &#39;第&#39;,\n &#39;次&#39;,\n &#39;午&#39;,\n &#39;北&#39;,\n &#39;京&#39;,\n &#39;堂&#39;,\n &#39;幕&#39;,\n &#39;副&#39;,\n &#39;理&#39;,\n &#39;任&#39;,\n &#39;钱&#39;,\n &#39;琛&#39;,\n &#39;词&#39;,\n &#39;工&#39;,\n &#39;经&#39;,\n &#39;启&#39;,\n &#39;临&#39;,\n &#39;紧&#39;,\n &#39;迫&#39;,\n &#39;们&#39;,\n &#39;道&#39;,\n &#39;远&#39;,\n &#39;希&#39;,\n &#39;齐&#39;,\n &#39;心&#39;,\n &#39;协&#39;,\n &#39;平&#39;,\n &#39;稳&#39;,\n &#39;过&#39;,\n &#39;渡&#39;,\n &#39;顺&#39;,\n &#39;交&#39;,\n &#39;接&#39;,\n &#39;贡&#39;,\n &#39;献&#39;,\n &#39;济&#39;,\n &#39;程&#39;,\n &#39;界&#39;,\n &#39;深&#39;,\n &#39;信&#39;,\n &#39;观&#39;,\n &#39;必&#39;,\n &#39;须&#39;,\n &#39;微&#39;,\n &#39;基&#39;,\n &#39;础&#39;,\n &#39;病&#39;,\n &#39;好&#39;,\n &#39;颈&#39;,\n &#39;背&#39;,\n &#39;躯&#39;,\n &#39;干&#39;,\n &#39;殖&#39;,\n &#39;器&#39;,\n &#39;可&#39;,\n &#39;见&#39;,\n &#39;龄&#39;,\n &#39;市&#39;,\n &#39;柔&#39;,\n &#39;县&#39;,\n &#39;试&#39;,\n &#39;遍&#39;,\n &#39;觉&#39;,\n &#39;四&#39;,\n &#39;节&#39;,\n &#39;课&#39;,\n &#39;饥&#39;,\n &#39;饿&#39;,\n &#39;消&#39;,\n &#39;川&#39;,\n &#39;省&#39;,\n &#39;江&#39;,\n &#39;油&#39;,\n &#39;丰&#39;,\n &#39;选&#39;,\n &#39;豆&#39;,\n &#39;奶&#39;,\n &#39;复&#39;,\n &#39;营&#39;,\n &#39;养&#39;,\n &#39;素&#39;,\n &#39;贫&#39;,\n &#39;血&#39;,\n &#39;降&#39;,\n &#39;百&#39;,\n &#39;照&#39;,\n &#39;只&#39;,\n &#39;．&#39;,\n &#39;4&#39;,\n &#39;宗&#39;,\n &#39;旨&#39;,\n &#39;决&#39;,\n &#39;定&#39;,\n &#39;奉&#39;,\n &#39;甘&#39;,\n &#39;愿&#39;,\n &#39;吃&#39;,\n &#39;亏&#39;,\n &#39;苦&#39;,\n &#39;享&#39;,\n &#39;困&#39;,\n &#39;危&#39;,\n &#39;留&#39;,\n &#39;给&#39;,\n &#39;己&#39;,\n &#39;方&#39;,\n &#39;便&#39;,\n &#39;安&#39;,\n &#39;初&#39;,\n &#39;央&#39;,\n &#39;形&#39;,\n &#39;势&#39;,\n &#39;快&#39;,\n &#39;速&#39;,\n &#39;策&#39;,\n &#39;立&#39;,\n &#39;研&#39;,\n &#39;究&#39;,\n &#39;派&#39;,\n &#39;就&#39;,\n &#39;提&#39;,\n &#39;许&#39;,\n &#39;富&#39;,\n &#39;意&#39;,\n &#39;味&#39;,\n &#39;论&#39;,\n &#39;话&#39;,\n &#39;题&#39;,\n &#39;书&#39;,\n &#39;记&#39;,\n &#39;粟&#39;,\n &#39;光&#39;,\n &#39;断&#39;,\n &#39;他&#39;,\n &#39;亲&#39;,\n &#39;兄&#39;,\n &#39;弟&#39;,\n &#39;签&#39;,\n &#39;！&#39;,\n &#39;熟&#39;,\n &#39;悉&#39;,\n &#39;运&#39;,\n &#39;士&#39;,\n &#39;说&#39;,\n &#39;贷&#39;,\n &#39;款&#39;,\n &#39;旦&#39;,\n &#39;被&#39;,\n &#39;推&#39;,\n &#39;迟&#39;,\n &#39;几&#39;,\n &#39;月&#39;,\n &#39;甚&#39;,\n &#39;更&#39;,\n &#39;考&#39;,\n &#39;虑&#39;,\n &#39;伍&#39;,\n &#39;义&#39;,\n &#39;气&#39;,\n &#39;原&#39;,\n &#39;惠&#39;,\n &#39;象&#39;,\n &#39;估&#39;,\n &#39;像&#39;,\n &#39;疤&#39;,\n &#39;痕&#39;,\n &#39;笨&#39;,\n &#39;拙&#39;,\n &#39;手&#39;,\n &#39;针&#39;,\n &#39;线&#39;,\n &#39;周&#39;,\n &#39;恩&#39;,\n &#39;那&#39;,\n &#39;送&#39;,\n &#39;株&#39;,\n &#39;万&#39;,\n &#39;古&#39;,\n &#39;青&#39;,\n &#39;友&#39;,\n &#39;谊&#39;,\n &#39;红&#39;,\n &#39;杉&#39;,\n &#39;吧&#39;,\n &#39;巴&#39;,\n &#39;谈&#39;,\n &#39;问&#39;,\n &#39;印&#39;,\n &#39;声&#39;,\n &#39;宣&#39;,\n &#39;称&#39;,\n &#39;何&#39;,\n &#39;三&#39;,\n &#39;介&#39;,\n &#39;入&#39;,\n &#39;久&#39;,\n &#39;赴&#39;,\n &#39;西&#39;,\n &#39;老&#39;,\n &#39;访&#39;,\n &#39;广&#39;,\n &#39;职&#39;,\n &#39;积&#39;,\n &#39;极&#39;,\n &#39;企&#39;,\n &#39;监&#39;,\n &#39;督&#39;,\n &#39;如&#39;,\n &#39;居&#39;,\n &#39;子&#39;,\n &#39;倘&#39;,\n &#39;若&#39;,\n &#39;客&#39;,\n &#39;环&#39;,\n &#39;境&#39;,\n &#39;钝&#39;,\n &#39;迅&#39;,\n &#39;判&#39;,\n &#39;陷&#39;,\n &#39;处&#39;,\n &#39;碰&#39;,\n &#39;壁&#39;,\n &#39;然&#39;,\n &#39;热&#39;,\n &#39;解&#39;,\n &#39;寻&#39;,\n &#39;找&#39;,\n &#39;联&#39;,\n &#39;邦&#39;,\n &#39;州&#39;,\n &#39;予&#39;,\n &#39;适&#39;,\n &#39;具&#39;,\n &#39;骤&#39;,\n &#39;吸&#39;,\n &#39;七&#39;,\n &#39;团&#39;,\n &#39;另&#39;,\n &#39;龙&#39;,\n &#39;口&#39;,\n &#39;科&#39;,\n &#39;投&#39;,\n &#39;视&#39;,\n &#39;息&#39;,\n &#39;创&#39;,\n &#39;跳&#39;,\n &#39;跃&#39;,\n &#39;式&#39;,\n &#39;展&#39;,\n &#39;强&#39;,\n &#39;调&#39;,\n &#39;高&#39;,\n &#39;培&#39;,\n &#39;训&#39;,\n &#39;认&#39;,\n &#39;识&#39;,\n &#39;密&#39;,\n &#39;结&#39;,\n &#39;小&#39;,\n &#39;九&#39;,\n &#39;升&#39;,\n &#39;或&#39;,\n &#39;段&#39;,\n &#39;少&#39;,\n &#39;懂&#39;,\n &#39;习&#39;,\n &#39;互&#39;,\n &#39;贵&#39;,\n &#39;贱&#39;,\n &#39;请&#39;,\n &#39;注&#39;,\n &#39;语&#39;,\n &#39;构&#39;,\n &#39;偏&#39;,\n &#39;孝&#39;,\n &#39;父&#39;,\n &#39;母&#39;,\n &#39;始&#39;,\n &#39;票&#39;,\n &#39;否&#39;,\n &#39;制&#39;,\n &#39;还&#39;,\n &#39;缺&#39;,\n &#39;乏&#39;,\n &#39;际&#39;,\n &#39;电&#39;,\n &#39;影&#39;,\n &#39;摄&#39;,\n &#39;录&#39;,\n &#39;音&#39;,\n &#39;剪&#39;,\n &#39;辑&#39;,\n &#39;诸&#39;,\n &#39;趋&#39;,\n &#39;激&#39;,\n &#39;烈&#39;,\n &#39;造&#39;,\n &#39;奇&#39;,\n &#39;夺&#39;,\n &#39;起&#39;,\n &#39;直&#39;,\n &#39;追&#39;,\n &#39;医&#39;,\n &#39;药&#39;,\n &#39;李&#39;,\n &#39;珍&#39;,\n &#39;闻&#39;,\n &#39;屡&#39;,\n &#39;仕&#39;,\n &#39;寄&#39;,\n &#39;托&#39;,\n &#39;八&#39;,\n &#39;股&#39;,\n &#39;兴&#39;,\n &#39;趣&#39;,\n &#39;酷&#39;,\n &#39;爱&#39;,\n &#39;召&#39;,\n &#39;吴&#39;,\n &#39;英&#39;,\n &#39;司&#39;,\n &#39;董&#39;,\n &#39;德&#39;,\n &#39;·&#39;,\n &#39;葛&#39;,\n &#39;夫&#39;,\n &#39;邀&#39;,\n &#39;席&#39;,\n &#39;车&#39;,\n &#39;闲&#39;,\n &#39;防&#39;,\n &#39;施&#39;,\n &#39;配&#39;,\n &#39;套&#39;,\n &#39;存&#39;,\n &#39;鹅&#39;,\n &#39;洲&#39;,\n &#39;源&#39;,\n &#39;终&#39;,\n &#39;连&#39;,\n &#39;串&#39;,\n &#39;井&#39;,\n &#39;序&#39;,\n &#39;顾&#39;,\n &#39;犯&#39;,\n &#39;罪&#39;,\n &#39;讳&#39;,\n &#39;审&#39;,\n &#39;死&#39;,\n &#39;刑&#39;,\n &#39;笔&#39;,\n &#39;融&#39;,\n &#39;农&#39;,\n &#39;假&#39;,\n &#39;币&#39;,\n &#39;知&#39;,\n &#39;巧&#39;,\n &#39;律&#39;,\n &#39;规&#39;,\n &#39;村&#39;,\n &#39;秩&#39;,\n &#39;『&#39;,\n &#39;范&#39;,\n &#39;茅&#39;,\n &#39;迹&#39;,\n &#39;览&#39;,\n &#39;』&#39;,\n &#39;磁&#39;,\n &#39;球&#39;,\n &#39;孩&#39;,\n &#39;格&#39;,\n &#39;散&#39;,\n &#39;着&#39;,\n &#39;独&#39;,\n &#39;魅&#39;,\n &#39;莱&#39;,\n &#39;坞&#39;,\n &#39;千&#39;,\n &#39;模&#39;,\n &#39;翻&#39;,\n &#39;版&#39;,\n &#39;？&#39;,\n &#39;燃&#39;,\n &#39;汽&#39;,\n &#39;仅&#39;,\n &#39;守&#39;,\n &#39;—&#39;,\n &#39;路&#39;,\n &#39;易&#39;,\n &#39;斯&#39;,\n &#39;切&#39;,\n &#39;迪&#39;,\n &#39;阿&#39;,\n &#39;塞&#39;,\n &#39;瓦&#39;,\n &#39;萨&#39;,\n &#39;卡&#39;,\n &#39;里&#39;,\n &#39;罗&#39;,\n &#39;弗&#39;,\n &#39;哈&#39;,\n &#39;丹&#39;,\n &#39;尼&#39;,\n &#39;扎&#39;,\n &#39;胡&#39;,\n &#39;埃&#39;,\n &#39;索&#39;,\n &#39;库&#39;,\n &#39;纳&#39;,\n &#39;吉&#39;,\n &#39;莫&#39;,\n &#39;帕&#39;,\n &#39;锋&#39;,\n &#39;米&#39;,\n &#39;贝&#39;,\n &#39;耶&#39;,\n &#39;冈&#39;,\n &#39;玻&#39;,\n &#39;乌&#39;,\n &#39;布&#39;,\n &#39;苏&#39;,\n &#39;念&#39;,\n &#39;案&#39;,\n &#39;罚&#39;,\n &#39;较&#39;,\n &#39;战&#39;,\n &#39;略&#39;,\n &#39;均&#39;,\n &#39;贸&#39;,\n &#39;拓&#39;,\n &#39;5&#39;,\n &#39;份&#39;,\n &#39;去&#39;,\n &#39;阅&#39;,\n &#39;室&#39;,\n &#39;刊&#39;,\n &#39;晚&#39;,\n &#39;智&#39;,\n &#39;藏&#39;,\n &#39;突&#39;,\n &#39;破&#39;,\n &#39;借&#39;,\n &#39;架&#39;,\n &#39;办&#39;,\n &#39;沃&#39;,\n &#39;盟&#39;,\n &#39;昨&#39;,\n &#39;约&#39;,\n &#39;南&#39;,\n &#39;举&#39;,\n &#39;空&#39;,\n &#39;军&#39;,\n &#39;演&#39;,\n &#39;示&#39;,\n &#39;欢&#39;,\n &#39;迎&#39;,\n &#39;帮&#39;,\n &#39;助&#39;,\n &#39;7&#39;,\n &#39;叫&#39;,\n &#39;迈&#39;,\n &#39;菲&#39;,\n &#39;查&#39;,\n &#39;奋&#39;,\n &#39;剂&#39;,\n &#39;通&#39;,\n &#39;未&#39;,\n &#39;勇&#39;,\n &#39;曲&#39;,\n &#39;绕&#39;,\n &#39;桥&#39;,\n &#39;绝&#39;,\n &#39;《&#39;,\n &#39;嫂&#39;,\n &#39;》&#39;,\n &#39;警&#39;,\n &#39;魂&#39;,\n &#39;片&#39;,\n &#39;获&#39;,\n &#39;房&#39;,\n &#39;石&#39;,\n &#39;香&#39;,\n &#39;港&#39;,\n &#39;朝&#39;,\n &#39;蓬&#39;,\n &#39;勃&#39;,\n &#39;拼&#39;,\n &#39;搏&#39;,\n &#39;斗&#39;,\n &#39;神&#39;,\n &#39;写&#39;,\n &#39;2&#39;,\n &#39;春&#39;,\n &#39;季&#39;,\n &#39;招&#39;,\n &#39;兵&#39;,\n &#39;募&#39;,\n &#39;既&#39;,\n &#39;食&#39;,\n &#39;预&#39;,\n &#39;止&#39;,\n &#39;癌&#39;,\n &#39;症&#39;,\n &#39;城&#39;,\n &#39;引&#39;,\n &#39;项&#39;,\n &#39;懈&#39;,\n &#39;液&#39;,\n &#39;尾&#39;,\n &#39;9&#39;,\n &#39;％&#39;,\n &#39;氢&#39;,\n &#39;减&#39;,\n &#39;污&#39;,\n &#39;染&#39;,\n &#39;双&#39;,\n &#39;网&#39;,\n &#39;抽&#39;,\n &#39;封&#39;,\n &#39;差&#39;,\n &#39;亟&#39;,\n &#39;待&#39;,\n &#39;单&#39;,\n &#39;麦&#39;,\n &#39;果&#39;,\n &#39;∶&#39;,\n &#39;松&#39;,\n &#39;赢&#39;,\n &#39;测&#39;,\n &#39;析&#39;,\n &#39;迷&#39;,\n &#39;叶&#39;,\n &#39;钦&#39;,\n &#39;岁&#39;,\n &#39;刻&#39;,\n &#39;哲&#39;,\n &#39;思&#39;,\n &#39;虽&#39;,\n &#39;担&#39;,\n &#39;负&#39;,\n &#39;领&#39;,\n &#39;责&#39;,\n &#39;专&#39;,\n &#39;却&#39;,\n &#39;爸&#39;,\n &#39;劲&#39;,\n &#39;抗&#39;,\n &#39;艰&#39;,\n &#39;聘&#39;,\n &#39;仍&#39;,\n &#39;治&#39;,\n &#39;洋&#39;,\n &#39;尊&#39;,\n &#39;庄&#39;,\n &#39;志&#39;,\n &#39;回&#39;,\n &#39;忆&#39;,\n &#39;淳&#39;,\n &#39;朴&#39;,\n &#39;报&#39;,\n &#39;届&#39;,\n &#39;张&#39;,\n &#39;君&#39;,\n &#39;秋&#39;,\n &#39;剧&#39;,\n &#39;角&#39;,\n &#39;艺&#39;,\n &#39;校&#39;,\n &#39;坚&#39;,\n &#39;质&#39;,\n &#39;围&#39;,\n &#39;侧&#39;,\n &#39;缓&#39;,\n &#39;财&#39;,\n &#39;状&#39;,\n &#39;聚&#39;,\n &#39;渠&#39;,\n &#39;逐&#39;,\n &#39;靠&#39;,\n &#39;优&#39;,\n &#39;征&#39;,\n &#39;稿&#39;,\n &#39;截&#39;,\n &#39;句&#39;,\n &#39;晤&#39;,\n &#39;纠&#39;,\n &#39;纷&#39;,\n &#39;朋&#39;,\n &#39;坏&#39;,\n &#39;它&#39;,\n &#39;促&#39;,\n &#39;岗&#39;,\n &#39;标&#39;,\n &#39;织&#39;,\n &#39;践&#39;,\n &#39;邓&#39;,\n &#39;按&#39;,\n &#39;署&#39;,\n &#39;挥&#39;,\n &#39;核&#39;,\n &#39;●&#39;,\n &#39;承&#39;,\n &#39;键&#39;,\n &#39;街&#39;,\n &#39;巷&#39;,\n &#39;横&#39;,\n &#39;幅&#39;,\n &#39;悬&#39;,\n &#39;画&#39;,\n &#39;头&#39;,\n &#39;欣&#39;,\n &#39;慰&#39;,\n ...]</code></pre>\n<div class=\"sourceCode\" id=\"cb7\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb7-1\"><a href=\"#cb7-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_label_list(path_list):</span>\n<span id=\"cb7-2\"><a href=\"#cb7-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    label_set <span class=\"op\">=</span> <span class=\"bu\">set</span>()</span>\n<span id=\"cb7-3\"><a href=\"#cb7-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    label_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb7-4\"><a href=\"#cb7-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> path <span class=\"kw\">in</span> path_list:</span>\n<span id=\"cb7-5\"><a href=\"#cb7-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb7-6\"><a href=\"#cb7-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb7-7\"><a href=\"#cb7-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line.strip()) <span class=\"op\">==</span> <span class=\"dv\">0</span>:</span>\n<span id=\"cb7-8\"><a href=\"#cb7-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"cf\">continue</span></span>\n<span id=\"cb7-9\"><a href=\"#cb7-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> line[<span class=\"dv\">2</span>:].strip() <span class=\"kw\">not</span> <span class=\"kw\">in</span> label_set:</span>\n<span id=\"cb7-10\"><a href=\"#cb7-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    label_set.add(line[<span class=\"dv\">2</span>:].strip())</span>\n<span id=\"cb7-11\"><a href=\"#cb7-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    label_list.append(line[<span class=\"dv\">2</span>:].strip())</span>\n<span id=\"cb7-12\"><a href=\"#cb7-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> label_list</span>\n<span id=\"cb7-13\"><a href=\"#cb7-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb7-14\"><a href=\"#cb7-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> save_label(path,label_list):</span>\n<span id=\"cb7-15\"><a href=\"#cb7-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    output <span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span>.join([label <span class=\"op\">+</span> <span class=\"st\">&#39;</span><span class=\"ch\">\\n</span><span class=\"st\">&#39;</span> <span class=\"cf\">for</span> label <span class=\"kw\">in</span> label_list])</span>\n<span id=\"cb7-16\"><a href=\"#cb7-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;w&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb7-17\"><a href=\"#cb7-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>        f.write(output)</span>\n<span id=\"cb7-18\"><a href=\"#cb7-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb7-19\"><a href=\"#cb7-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>label_list <span class=\"op\">=</span> get_label_list([<span class=\"st\">&#39;./datasets/example.train&#39;</span>,<span class=\"st\">&#39;./datasets/example.dev&#39;</span>,<span class=\"st\">&#39;./datasets/example.test&#39;</span>])</span>\n<span id=\"cb7-20\"><a href=\"#cb7-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>save_label(<span class=\"st\">&#39;./datasets/label.txt&#39;</span>,label_list)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb8\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb8-1\"><a href=\"#cb8-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>label_list</span></code></pre></div>\n<pre><code>[&#39;O&#39;, &#39;B-LOC&#39;, &#39;I-LOC&#39;, &#39;B-PER&#39;, &#39;I-PER&#39;, &#39;B-ORG&#39;, &#39;I-ORG&#39;]</code></pre>\n<h4 id=\"加载数据\">加载数据</h4>\n<p>分别获取vocab 和label与id的映射</p>\n<div class=\"sourceCode\" id=\"cb10\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb10-1\"><a href=\"#cb10-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_string2id(path):    string2id <span class=\"op\">=</span> &#123;&#125;    id2string <span class=\"op\">=</span> []    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:             string2id[line.strip()] <span class=\"op\">=</span> <span class=\"bu\">len</span>(string2id)            id2string.append(line.strip())    <span class=\"cf\">return</span> id2string,string2idid2label,label2id <span class=\"op\">=</span> get_string2id(<span class=\"st\">&quot;./datasets/label.txt&quot;</span>)id2vocab,vocab2id <span class=\"op\">=</span> get_string2id(<span class=\"st\">&quot;./datasets/vocab.txt&quot;</span>)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb11\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb11-1\"><a href=\"#cb11-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>id2label</span></code></pre></div>\n<pre><code>[&#39;O&#39;, &#39;B-LOC&#39;, &#39;I-LOC&#39;, &#39;B-PER&#39;, &#39;I-PER&#39;, &#39;B-ORG&#39;, &#39;I-ORG&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb13\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb13-1\"><a href=\"#cb13-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>label2id</span></code></pre></div>\n<pre><code>&#123;&#39;O&#39;: 0,\n &#39;B-LOC&#39;: 1,\n &#39;I-LOC&#39;: 2,\n &#39;B-PER&#39;: 3,\n &#39;I-PER&#39;: 4,\n &#39;B-ORG&#39;: 5,\n &#39;I-ORG&#39;: 6&#125;</code></pre>\n<div class=\"sourceCode\" id=\"cb15\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb15-1\"><a href=\"#cb15-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>id2vocab</span></code></pre></div>\n<pre><code>[&#39;海&#39;,\n &#39;钓&#39;,\n &#39;比&#39;,\n &#39;赛&#39;,\n &#39;地&#39;,\n &#39;点&#39;,\n &#39;在&#39;,\n &#39;厦&#39;,\n &#39;门&#39;,\n &#39;与&#39;,\n &#39;金&#39;,\n &#39;之&#39;,\n &#39;间&#39;,\n &#39;的&#39;,\n &#39;域&#39;,\n &#39;。&#39;,\n &#39;这&#39;,\n &#39;座&#39;,\n &#39;依&#39;,\n &#39;山&#39;,\n &#39;傍&#39;,\n &#39;水&#39;,\n &#39;博&#39;,\n &#39;物&#39;,\n &#39;馆&#39;,\n &#39;由&#39;,\n &#39;国&#39;,\n &#39;内&#39;,\n &#39;一&#39;,\n &#39;流&#39;,\n &#39;设&#39;,\n &#39;计&#39;,\n &#39;师&#39;,\n &#39;主&#39;,\n &#39;持&#39;,\n &#39;，&#39;,\n &#39;整&#39;,\n &#39;个&#39;,\n &#39;建&#39;,\n &#39;筑&#39;,\n &#39;群&#39;,\n &#39;精&#39;,\n &#39;美&#39;,\n &#39;而&#39;,\n &#39;恢&#39;,\n &#39;宏&#39;,\n &#39;但&#39;,\n &#39;作&#39;,\n &#39;为&#39;,\n &#39;共&#39;,\n &#39;产&#39;,\n &#39;党&#39;,\n &#39;员&#39;,\n &#39;、&#39;,\n &#39;人&#39;,\n &#39;民&#39;,\n &#39;公&#39;,\n &#39;仆&#39;,\n &#39;应&#39;,\n &#39;当&#39;,\n &#39;胸&#39;,\n &#39;怀&#39;,\n &#39;宽&#39;,\n &#39;阔&#39;,\n &#39;真&#39;,\n &#39;正&#39;,\n &#39;做&#39;,\n &#39;到&#39;,\n &#39;“&#39;,\n &#39;先&#39;,\n &#39;天&#39;,\n &#39;下&#39;,\n &#39;忧&#39;,\n &#39;后&#39;,\n &#39;乐&#39;,\n &#39;”&#39;,\n &#39;淡&#39;,\n &#39;化&#39;,\n &#39;名&#39;,\n &#39;利&#39;,\n &#39;得&#39;,\n &#39;失&#39;,\n &#39;和&#39;,\n &#39;宠&#39;,\n &#39;辱&#39;,\n &#39;悲&#39;,\n &#39;喜&#39;,\n &#39;把&#39;,\n &#39;改&#39;,\n &#39;革&#39;,\n &#39;大&#39;,\n &#39;业&#39;,\n &#39;摆&#39;,\n &#39;首&#39;,\n &#39;位&#39;,\n &#39;样&#39;,\n &#39;才&#39;,\n &#39;能&#39;,\n &#39;超&#39;,\n &#39;越&#39;,\n &#39;自&#39;,\n &#39;我&#39;,\n &#39;脱&#39;,\n &#39;世&#39;,\n &#39;俗&#39;,\n &#39;有&#39;,\n &#39;所&#39;,\n &#39;发&#39;,\n &#39;达&#39;,\n &#39;家&#39;,\n &#39;急&#39;,\n &#39;救&#39;,\n &#39;保&#39;,\n &#39;险&#39;,\n &#39;十&#39;,\n &#39;分&#39;,\n &#39;普&#39;,\n &#39;及&#39;,\n &#39;已&#39;,\n &#39;成&#39;,\n &#39;社&#39;,\n &#39;会&#39;,\n &#39;障&#39;,\n &#39;体&#39;,\n &#39;系&#39;,\n &#39;重&#39;,\n &#39;要&#39;,\n &#39;组&#39;,\n &#39;部&#39;,\n &#39;日&#39;,\n &#39;俄&#39;,\n &#39;两&#39;,\n &#39;政&#39;,\n &#39;局&#39;,\n &#39;都&#39;,\n &#39;充&#39;,\n &#39;满&#39;,\n &#39;变&#39;,\n &#39;数&#39;,\n &#39;尽&#39;,\n &#39;管&#39;,\n &#39;关&#39;,\n &#39;目&#39;,\n &#39;前&#39;,\n &#39;是&#39;,\n &#39;历&#39;,\n &#39;史&#39;,\n &#39;最&#39;,\n &#39;佳&#39;,\n &#39;时&#39;,\n &#39;期&#39;,\n &#39;其&#39;,\n &#39;脆&#39;,\n &#39;弱&#39;,\n &#39;性&#39;,\n &#39;不&#39;,\n &#39;言&#39;,\n &#39;明&#39;,\n &#39;克&#39;,\n &#39;马&#39;,\n &#39;尔&#39;,\n &#39;女&#39;,\n &#39;儿&#39;,\n &#39;让&#39;,\n &#39;娜&#39;,\n &#39;今&#39;,\n &#39;年&#39;,\n &#39;读&#39;,\n &#39;五&#39;,\n &#39;级&#39;,\n &#39;她&#39;,\n &#39;班&#39;,\n &#39;上&#39;,\n &#39;3&#39;,\n &#39;0&#39;,\n &#39;多&#39;,\n &#39;同&#39;,\n &#39;学&#39;,\n &#39;该&#39;,\n &#39;委&#39;,\n &#39;1&#39;,\n &#39;长&#39;,\n &#39;参&#39;,\n &#39;加&#39;,\n &#39;步&#39;,\n &#39;行&#39;,\n &#39;男&#39;,\n &#39;轻&#39;,\n &#39;也&#39;,\n &#39;中&#39;,\n &#39;沙&#39;,\n &#39;特&#39;,\n &#39;队&#39;,\n &#39;教&#39;,\n &#39;练&#39;,\n &#39;佩&#39;,\n &#39;雷&#39;,\n &#39;拉&#39;,\n &#39;：&#39;,\n &#39;支&#39;,\n &#39;想&#39;,\n &#39;胜&#39;,\n &#39;因&#39;,\n &#39;此&#39;,\n &#39;出&#39;,\n &#39;了&#39;,\n &#39;努&#39;,\n &#39;力&#39;,\n &#39;种&#39;,\n &#39;混&#39;,\n &#39;乱&#39;,\n &#39;面&#39;,\n &#39;导&#39;,\n &#39;致&#39;,\n &#39;些&#39;,\n &#39;使&#39;,\n &#39;用&#39;,\n &#39;者&#39;,\n &#39;合&#39;,\n &#39;法&#39;,\n &#39;权&#39;,\n &#39;益&#39;,\n &#39;难&#39;,\n &#39;以&#39;,\n &#39;维&#39;,\n &#39;护&#39;,\n &#39;鲁&#39;,\n &#39;宾&#39;,\n &#39;确&#39;,\n &#39;指&#39;,\n &#39;对&#39;,\n &#39;府&#39;,\n &#39;控&#39;,\n &#39;完&#39;,\n &#39;全&#39;,\n &#39;没&#39;,\n &#39;事&#39;,\n &#39;实&#39;,\n &#39;根&#39;,\n &#39;据&#39;,\n &#39;向&#39;,\n &#39;转&#39;,\n &#39;敏&#39;,\n &#39;感&#39;,\n &#39;技&#39;,\n &#39;术&#39;,\n &#39;相&#39;,\n &#39;总&#39;,\n &#39;白&#39;,\n &#39;于&#39;,\n &#39;；&#39;,\n &#39;众&#39;,\n &#39;议&#39;,\n &#39;院&#39;,\n &#39;令&#39;,\n &#39;非&#39;,\n &#39;常&#39;,\n &#39;望&#39;,\n &#39;将&#39;,\n &#39;商&#39;,\n &#39;卫&#39;,\n &#39;星&#39;,\n &#39;受&#39;,\n &#39;威&#39;,\n &#39;胁&#39;,\n &#39;竞&#39;,\n &#39;争&#39;,\n &#39;损&#39;,\n &#39;害&#39;,\n &#39;育&#39;,\n &#39;场&#39;,\n &#39;每&#39;,\n &#39;早&#39;,\n &#39;6&#39;,\n &#39;至&#39;,\n &#39;8&#39;,\n &#39;免&#39;,\n &#39;费&#39;,\n &#39;开&#39;,\n &#39;放&#39;,\n &#39;游&#39;,\n &#39;泳&#39;,\n &#39;等&#39;,\n &#39;则&#39;,\n &#39;增&#39;,\n &#39;综&#39;,\n &#39;服&#39;,\n &#39;务&#39;,\n &#39;延&#39;,\n &#39;采&#39;,\n &#39;取&#39;,\n &#39;灵&#39;,\n &#39;活&#39;,\n &#39;收&#39;,\n &#39;再&#39;,\n &#39;看&#39;,\n &#39;容&#39;,\n &#39;图&#39;,\n &#39;文&#39;,\n &#39;并&#39;,\n &#39;茂&#39;,\n &#39;简&#39;,\n &#39;短&#39;,\n &#39;字&#39;,\n &#39;准&#39;,\n &#39;反&#39;,\n &#39;映&#39;,\n &#39;六&#39;,\n &#39;族&#39;,\n &#39;风&#39;,\n &#39;土&#39;,\n &#39;情&#39;,\n &#39;传&#39;,\n &#39;统&#39;,\n &#39;各&#39;,\n &#39;讲&#39;,\n &#39;很&#39;,\n &#39;哥&#39;,\n &#39;伦&#39;,\n &#39;亚&#39;,\n &#39;号&#39;,\n &#39;航&#39;,\n &#39;飞&#39;,\n &#39;机&#39;,\n &#39;宇&#39;,\n &#39;边&#39;,\n &#39;进&#39;,\n &#39;验&#39;,\n &#39;继&#39;,\n &#39;续&#39;,\n &#39;抢&#39;,\n &#39;修&#39;,\n &#39;故&#39;,\n &#39;二&#39;,\n &#39;氧&#39;,\n &#39;碳&#39;,\n &#39;清&#39;,\n &#39;除&#39;,\n &#39;装&#39;,\n &#39;置&#39;,\n &#39;从&#39;,\n &#39;剥&#39;,\n &#39;削&#39;,\n &#39;阶&#39;,\n &#39;劳&#39;,\n &#39;动&#39;,\n &#39;生&#39;,\n &#39;率&#39;,\n &#39;低&#39;,\n &#39;况&#39;,\n &#39;占&#39;,\n &#39;限&#39;,\n &#39;剩&#39;,\n &#39;余&#39;,\n &#39;品&#39;,\n &#39;足&#39;,\n &#39;豪&#39;,\n &#39;华&#39;,\n &#39;需&#39;,\n &#39;量&#39;,\n &#39;扩&#39;,\n &#39;现&#39;,\n &#39;资&#39;,\n &#39;条&#39;,\n &#39;件&#39;,\n &#39;榨&#39;,\n &#39;价&#39;,\n &#39;值&#39;,\n &#39;供&#39;,\n &#39;身&#39;,\n &#39;求&#39;,\n &#39;外&#39;,\n &#39;又&#39;,\n &#39;本&#39;,\n &#39;新&#39;,\n &#39;雇&#39;,\n &#39;佣&#39;,\n &#39;私&#39;,\n &#39;来&#39;,\n &#39;料&#39;,\n &#39;集&#39;,\n &#39;代&#39;,\n &#39;表&#39;,\n &#39;澳&#39;,\n &#39;别&#39;,\n &#39;区&#39;,\n &#39;筹&#39;,\n &#39;备&#39;,\n &#39;第&#39;,\n &#39;次&#39;,\n &#39;午&#39;,\n &#39;北&#39;,\n &#39;京&#39;,\n &#39;堂&#39;,\n &#39;幕&#39;,\n &#39;副&#39;,\n &#39;理&#39;,\n &#39;任&#39;,\n &#39;钱&#39;,\n &#39;琛&#39;,\n &#39;词&#39;,\n &#39;工&#39;,\n &#39;经&#39;,\n &#39;启&#39;,\n &#39;临&#39;,\n &#39;紧&#39;,\n &#39;迫&#39;,\n &#39;们&#39;,\n &#39;道&#39;,\n &#39;远&#39;,\n &#39;希&#39;,\n &#39;齐&#39;,\n &#39;心&#39;,\n &#39;协&#39;,\n &#39;平&#39;,\n &#39;稳&#39;,\n &#39;过&#39;,\n &#39;渡&#39;,\n &#39;顺&#39;,\n &#39;交&#39;,\n &#39;接&#39;,\n &#39;贡&#39;,\n &#39;献&#39;,\n &#39;济&#39;,\n &#39;程&#39;,\n &#39;界&#39;,\n &#39;深&#39;,\n &#39;信&#39;,\n &#39;观&#39;,\n &#39;必&#39;,\n &#39;须&#39;,\n &#39;微&#39;,\n &#39;基&#39;,\n &#39;础&#39;,\n &#39;病&#39;,\n &#39;好&#39;,\n &#39;颈&#39;,\n &#39;背&#39;,\n &#39;躯&#39;,\n &#39;干&#39;,\n &#39;殖&#39;,\n &#39;器&#39;,\n &#39;可&#39;,\n &#39;见&#39;,\n &#39;龄&#39;,\n &#39;市&#39;,\n &#39;柔&#39;,\n &#39;县&#39;,\n &#39;试&#39;,\n &#39;遍&#39;,\n &#39;觉&#39;,\n &#39;四&#39;,\n &#39;节&#39;,\n &#39;课&#39;,\n &#39;饥&#39;,\n &#39;饿&#39;,\n &#39;消&#39;,\n &#39;川&#39;,\n &#39;省&#39;,\n &#39;江&#39;,\n &#39;油&#39;,\n &#39;丰&#39;,\n &#39;选&#39;,\n &#39;豆&#39;,\n &#39;奶&#39;,\n &#39;复&#39;,\n &#39;营&#39;,\n &#39;养&#39;,\n &#39;素&#39;,\n &#39;贫&#39;,\n &#39;血&#39;,\n &#39;降&#39;,\n &#39;百&#39;,\n &#39;照&#39;,\n &#39;只&#39;,\n &#39;．&#39;,\n &#39;4&#39;,\n &#39;宗&#39;,\n &#39;旨&#39;,\n &#39;决&#39;,\n &#39;定&#39;,\n &#39;奉&#39;,\n &#39;甘&#39;,\n &#39;愿&#39;,\n &#39;吃&#39;,\n &#39;亏&#39;,\n &#39;苦&#39;,\n &#39;享&#39;,\n &#39;困&#39;,\n &#39;危&#39;,\n &#39;留&#39;,\n &#39;给&#39;,\n &#39;己&#39;,\n &#39;方&#39;,\n &#39;便&#39;,\n &#39;安&#39;,\n &#39;初&#39;,\n &#39;央&#39;,\n &#39;形&#39;,\n &#39;势&#39;,\n &#39;快&#39;,\n &#39;速&#39;,\n &#39;策&#39;,\n &#39;立&#39;,\n &#39;研&#39;,\n &#39;究&#39;,\n &#39;派&#39;,\n &#39;就&#39;,\n &#39;提&#39;,\n &#39;许&#39;,\n &#39;富&#39;,\n &#39;意&#39;,\n &#39;味&#39;,\n &#39;论&#39;,\n &#39;话&#39;,\n &#39;题&#39;,\n &#39;书&#39;,\n &#39;记&#39;,\n &#39;粟&#39;,\n &#39;光&#39;,\n &#39;断&#39;,\n &#39;他&#39;,\n &#39;亲&#39;,\n &#39;兄&#39;,\n &#39;弟&#39;,\n &#39;签&#39;,\n &#39;！&#39;,\n &#39;熟&#39;,\n &#39;悉&#39;,\n &#39;运&#39;,\n &#39;士&#39;,\n &#39;说&#39;,\n &#39;贷&#39;,\n &#39;款&#39;,\n &#39;旦&#39;,\n &#39;被&#39;,\n &#39;推&#39;,\n &#39;迟&#39;,\n &#39;几&#39;,\n &#39;月&#39;,\n &#39;甚&#39;,\n &#39;更&#39;,\n &#39;考&#39;,\n &#39;虑&#39;,\n &#39;伍&#39;,\n &#39;义&#39;,\n &#39;气&#39;,\n &#39;原&#39;,\n &#39;惠&#39;,\n &#39;象&#39;,\n &#39;估&#39;,\n &#39;像&#39;,\n &#39;疤&#39;,\n &#39;痕&#39;,\n &#39;笨&#39;,\n &#39;拙&#39;,\n &#39;手&#39;,\n &#39;针&#39;,\n &#39;线&#39;,\n &#39;周&#39;,\n &#39;恩&#39;,\n &#39;那&#39;,\n &#39;送&#39;,\n &#39;株&#39;,\n &#39;万&#39;,\n &#39;古&#39;,\n &#39;青&#39;,\n &#39;友&#39;,\n &#39;谊&#39;,\n &#39;红&#39;,\n &#39;杉&#39;,\n &#39;吧&#39;,\n &#39;巴&#39;,\n &#39;谈&#39;,\n &#39;问&#39;,\n &#39;印&#39;,\n &#39;声&#39;,\n &#39;宣&#39;,\n &#39;称&#39;,\n &#39;何&#39;,\n &#39;三&#39;,\n &#39;介&#39;,\n &#39;入&#39;,\n &#39;久&#39;,\n &#39;赴&#39;,\n &#39;西&#39;,\n &#39;老&#39;,\n &#39;访&#39;,\n &#39;广&#39;,\n &#39;职&#39;,\n &#39;积&#39;,\n &#39;极&#39;,\n &#39;企&#39;,\n &#39;监&#39;,\n &#39;督&#39;,\n &#39;如&#39;,\n &#39;居&#39;,\n &#39;子&#39;,\n &#39;倘&#39;,\n &#39;若&#39;,\n &#39;客&#39;,\n &#39;环&#39;,\n &#39;境&#39;,\n &#39;钝&#39;,\n &#39;迅&#39;,\n &#39;判&#39;,\n &#39;陷&#39;,\n &#39;处&#39;,\n &#39;碰&#39;,\n &#39;壁&#39;,\n &#39;然&#39;,\n &#39;热&#39;,\n &#39;解&#39;,\n &#39;寻&#39;,\n &#39;找&#39;,\n &#39;联&#39;,\n &#39;邦&#39;,\n &#39;州&#39;,\n &#39;予&#39;,\n &#39;适&#39;,\n &#39;具&#39;,\n &#39;骤&#39;,\n &#39;吸&#39;,\n &#39;七&#39;,\n &#39;团&#39;,\n &#39;另&#39;,\n &#39;龙&#39;,\n &#39;口&#39;,\n &#39;科&#39;,\n &#39;投&#39;,\n &#39;视&#39;,\n &#39;息&#39;,\n &#39;创&#39;,\n &#39;跳&#39;,\n &#39;跃&#39;,\n &#39;式&#39;,\n &#39;展&#39;,\n &#39;强&#39;,\n &#39;调&#39;,\n &#39;高&#39;,\n &#39;培&#39;,\n &#39;训&#39;,\n &#39;认&#39;,\n &#39;识&#39;,\n &#39;密&#39;,\n &#39;结&#39;,\n &#39;小&#39;,\n &#39;九&#39;,\n &#39;升&#39;,\n &#39;或&#39;,\n &#39;段&#39;,\n &#39;少&#39;,\n &#39;懂&#39;,\n &#39;习&#39;,\n &#39;互&#39;,\n &#39;贵&#39;,\n &#39;贱&#39;,\n &#39;请&#39;,\n &#39;注&#39;,\n &#39;语&#39;,\n &#39;构&#39;,\n &#39;偏&#39;,\n &#39;孝&#39;,\n &#39;父&#39;,\n &#39;母&#39;,\n &#39;始&#39;,\n &#39;票&#39;,\n &#39;否&#39;,\n &#39;制&#39;,\n &#39;还&#39;,\n &#39;缺&#39;,\n &#39;乏&#39;,\n &#39;际&#39;,\n &#39;电&#39;,\n &#39;影&#39;,\n &#39;摄&#39;,\n &#39;录&#39;,\n &#39;音&#39;,\n &#39;剪&#39;,\n &#39;辑&#39;,\n &#39;诸&#39;,\n &#39;趋&#39;,\n &#39;激&#39;,\n &#39;烈&#39;,\n &#39;造&#39;,\n &#39;奇&#39;,\n &#39;夺&#39;,\n &#39;起&#39;,\n &#39;直&#39;,\n &#39;追&#39;,\n &#39;医&#39;,\n &#39;药&#39;,\n &#39;李&#39;,\n &#39;珍&#39;,\n &#39;闻&#39;,\n &#39;屡&#39;,\n &#39;仕&#39;,\n &#39;寄&#39;,\n &#39;托&#39;,\n &#39;八&#39;,\n &#39;股&#39;,\n &#39;兴&#39;,\n &#39;趣&#39;,\n &#39;酷&#39;,\n &#39;爱&#39;,\n &#39;召&#39;,\n &#39;吴&#39;,\n &#39;英&#39;,\n &#39;司&#39;,\n &#39;董&#39;,\n &#39;德&#39;,\n &#39;·&#39;,\n &#39;葛&#39;,\n &#39;夫&#39;,\n &#39;邀&#39;,\n &#39;席&#39;,\n &#39;车&#39;,\n &#39;闲&#39;,\n &#39;防&#39;,\n &#39;施&#39;,\n &#39;配&#39;,\n &#39;套&#39;,\n &#39;存&#39;,\n &#39;鹅&#39;,\n &#39;洲&#39;,\n &#39;源&#39;,\n &#39;终&#39;,\n &#39;连&#39;,\n &#39;串&#39;,\n &#39;井&#39;,\n &#39;序&#39;,\n &#39;顾&#39;,\n &#39;犯&#39;,\n &#39;罪&#39;,\n &#39;讳&#39;,\n &#39;审&#39;,\n &#39;死&#39;,\n &#39;刑&#39;,\n &#39;笔&#39;,\n &#39;融&#39;,\n &#39;农&#39;,\n &#39;假&#39;,\n &#39;币&#39;,\n &#39;知&#39;,\n &#39;巧&#39;,\n &#39;律&#39;,\n &#39;规&#39;,\n &#39;村&#39;,\n &#39;秩&#39;,\n &#39;『&#39;,\n &#39;范&#39;,\n &#39;茅&#39;,\n &#39;迹&#39;,\n &#39;览&#39;,\n &#39;』&#39;,\n &#39;磁&#39;,\n &#39;球&#39;,\n &#39;孩&#39;,\n &#39;格&#39;,\n &#39;散&#39;,\n &#39;着&#39;,\n &#39;独&#39;,\n &#39;魅&#39;,\n &#39;莱&#39;,\n &#39;坞&#39;,\n &#39;千&#39;,\n &#39;模&#39;,\n &#39;翻&#39;,\n &#39;版&#39;,\n &#39;？&#39;,\n &#39;燃&#39;,\n &#39;汽&#39;,\n &#39;仅&#39;,\n &#39;守&#39;,\n &#39;—&#39;,\n &#39;路&#39;,\n &#39;易&#39;,\n &#39;斯&#39;,\n &#39;切&#39;,\n &#39;迪&#39;,\n &#39;阿&#39;,\n &#39;塞&#39;,\n &#39;瓦&#39;,\n &#39;萨&#39;,\n &#39;卡&#39;,\n &#39;里&#39;,\n &#39;罗&#39;,\n &#39;弗&#39;,\n &#39;哈&#39;,\n &#39;丹&#39;,\n &#39;尼&#39;,\n &#39;扎&#39;,\n &#39;胡&#39;,\n &#39;埃&#39;,\n &#39;索&#39;,\n &#39;库&#39;,\n &#39;纳&#39;,\n &#39;吉&#39;,\n &#39;莫&#39;,\n &#39;帕&#39;,\n &#39;锋&#39;,\n &#39;米&#39;,\n &#39;贝&#39;,\n &#39;耶&#39;,\n &#39;冈&#39;,\n &#39;玻&#39;,\n &#39;乌&#39;,\n &#39;布&#39;,\n &#39;苏&#39;,\n &#39;念&#39;,\n &#39;案&#39;,\n &#39;罚&#39;,\n &#39;较&#39;,\n &#39;战&#39;,\n &#39;略&#39;,\n &#39;均&#39;,\n &#39;贸&#39;,\n &#39;拓&#39;,\n &#39;5&#39;,\n &#39;份&#39;,\n &#39;去&#39;,\n &#39;阅&#39;,\n &#39;室&#39;,\n &#39;刊&#39;,\n &#39;晚&#39;,\n &#39;智&#39;,\n &#39;藏&#39;,\n &#39;突&#39;,\n &#39;破&#39;,\n &#39;借&#39;,\n &#39;架&#39;,\n &#39;办&#39;,\n &#39;沃&#39;,\n &#39;盟&#39;,\n &#39;昨&#39;,\n &#39;约&#39;,\n &#39;南&#39;,\n &#39;举&#39;,\n &#39;空&#39;,\n &#39;军&#39;,\n &#39;演&#39;,\n &#39;示&#39;,\n &#39;欢&#39;,\n &#39;迎&#39;,\n &#39;帮&#39;,\n &#39;助&#39;,\n &#39;7&#39;,\n &#39;叫&#39;,\n &#39;迈&#39;,\n &#39;菲&#39;,\n &#39;查&#39;,\n &#39;奋&#39;,\n &#39;剂&#39;,\n &#39;通&#39;,\n &#39;未&#39;,\n &#39;勇&#39;,\n &#39;曲&#39;,\n &#39;绕&#39;,\n &#39;桥&#39;,\n &#39;绝&#39;,\n &#39;《&#39;,\n &#39;嫂&#39;,\n &#39;》&#39;,\n &#39;警&#39;,\n &#39;魂&#39;,\n &#39;片&#39;,\n &#39;获&#39;,\n &#39;房&#39;,\n &#39;石&#39;,\n &#39;香&#39;,\n &#39;港&#39;,\n &#39;朝&#39;,\n &#39;蓬&#39;,\n &#39;勃&#39;,\n &#39;拼&#39;,\n &#39;搏&#39;,\n &#39;斗&#39;,\n &#39;神&#39;,\n &#39;写&#39;,\n &#39;2&#39;,\n &#39;春&#39;,\n &#39;季&#39;,\n &#39;招&#39;,\n &#39;兵&#39;,\n &#39;募&#39;,\n &#39;既&#39;,\n &#39;食&#39;,\n &#39;预&#39;,\n &#39;止&#39;,\n &#39;癌&#39;,\n &#39;症&#39;,\n &#39;城&#39;,\n &#39;引&#39;,\n &#39;项&#39;,\n &#39;懈&#39;,\n &#39;液&#39;,\n &#39;尾&#39;,\n &#39;9&#39;,\n &#39;％&#39;,\n &#39;氢&#39;,\n &#39;减&#39;,\n &#39;污&#39;,\n &#39;染&#39;,\n &#39;双&#39;,\n &#39;网&#39;,\n &#39;抽&#39;,\n &#39;封&#39;,\n &#39;差&#39;,\n &#39;亟&#39;,\n &#39;待&#39;,\n &#39;单&#39;,\n &#39;麦&#39;,\n &#39;果&#39;,\n &#39;∶&#39;,\n &#39;松&#39;,\n &#39;赢&#39;,\n &#39;测&#39;,\n &#39;析&#39;,\n &#39;迷&#39;,\n &#39;叶&#39;,\n &#39;钦&#39;,\n &#39;岁&#39;,\n &#39;刻&#39;,\n &#39;哲&#39;,\n &#39;思&#39;,\n &#39;虽&#39;,\n &#39;担&#39;,\n &#39;负&#39;,\n &#39;领&#39;,\n &#39;责&#39;,\n &#39;专&#39;,\n &#39;却&#39;,\n &#39;爸&#39;,\n &#39;劲&#39;,\n &#39;抗&#39;,\n &#39;艰&#39;,\n &#39;聘&#39;,\n &#39;仍&#39;,\n &#39;治&#39;,\n &#39;洋&#39;,\n &#39;尊&#39;,\n &#39;庄&#39;,\n &#39;志&#39;,\n &#39;回&#39;,\n &#39;忆&#39;,\n &#39;淳&#39;,\n &#39;朴&#39;,\n &#39;报&#39;,\n &#39;届&#39;,\n &#39;张&#39;,\n &#39;君&#39;,\n &#39;秋&#39;,\n &#39;剧&#39;,\n &#39;角&#39;,\n &#39;艺&#39;,\n &#39;校&#39;,\n &#39;坚&#39;,\n &#39;质&#39;,\n &#39;围&#39;,\n &#39;侧&#39;,\n &#39;缓&#39;,\n &#39;财&#39;,\n &#39;状&#39;,\n &#39;聚&#39;,\n &#39;渠&#39;,\n &#39;逐&#39;,\n &#39;靠&#39;,\n &#39;优&#39;,\n &#39;征&#39;,\n &#39;稿&#39;,\n &#39;截&#39;,\n &#39;句&#39;,\n &#39;晤&#39;,\n &#39;纠&#39;,\n &#39;纷&#39;,\n &#39;朋&#39;,\n &#39;坏&#39;,\n &#39;它&#39;,\n &#39;促&#39;,\n &#39;岗&#39;,\n &#39;标&#39;,\n &#39;织&#39;,\n &#39;践&#39;,\n &#39;邓&#39;,\n &#39;按&#39;,\n &#39;署&#39;,\n &#39;挥&#39;,\n &#39;核&#39;,\n &#39;●&#39;,\n &#39;承&#39;,\n &#39;键&#39;,\n &#39;街&#39;,\n &#39;巷&#39;,\n &#39;横&#39;,\n &#39;幅&#39;,\n &#39;悬&#39;,\n &#39;画&#39;,\n &#39;头&#39;,\n &#39;欣&#39;,\n &#39;慰&#39;,\n ...]</code></pre>\n<div class=\"sourceCode\" id=\"cb17\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb17-1\"><a href=\"#cb17-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>vocab2id</span></code></pre></div>\n<pre><code>&#123;&#39;海&#39;: 0,\n &#39;钓&#39;: 1,\n &#39;比&#39;: 2,\n &#39;赛&#39;: 3,\n &#39;地&#39;: 4,\n &#39;点&#39;: 5,\n &#39;在&#39;: 6,\n &#39;厦&#39;: 7,\n &#39;门&#39;: 8,\n &#39;与&#39;: 9,\n &#39;金&#39;: 10,\n &#39;之&#39;: 11,\n &#39;间&#39;: 12,\n &#39;的&#39;: 13,\n &#39;域&#39;: 14,\n &#39;。&#39;: 15,\n &#39;这&#39;: 16,\n &#39;座&#39;: 17,\n &#39;依&#39;: 18,\n &#39;山&#39;: 19,\n &#39;傍&#39;: 20,\n &#39;水&#39;: 21,\n &#39;博&#39;: 22,\n &#39;物&#39;: 23,\n &#39;馆&#39;: 24,\n &#39;由&#39;: 25,\n &#39;国&#39;: 26,\n &#39;内&#39;: 27,\n &#39;一&#39;: 28,\n &#39;流&#39;: 29,\n &#39;设&#39;: 30,\n &#39;计&#39;: 31,\n &#39;师&#39;: 32,\n &#39;主&#39;: 33,\n &#39;持&#39;: 34,\n &#39;，&#39;: 35,\n &#39;整&#39;: 36,\n &#39;个&#39;: 37,\n &#39;建&#39;: 38,\n &#39;筑&#39;: 39,\n &#39;群&#39;: 40,\n &#39;精&#39;: 41,\n &#39;美&#39;: 42,\n &#39;而&#39;: 43,\n &#39;恢&#39;: 44,\n &#39;宏&#39;: 45,\n &#39;但&#39;: 46,\n &#39;作&#39;: 47,\n &#39;为&#39;: 48,\n &#39;共&#39;: 49,\n &#39;产&#39;: 50,\n &#39;党&#39;: 51,\n &#39;员&#39;: 52,\n &#39;、&#39;: 53,\n &#39;人&#39;: 54,\n &#39;民&#39;: 55,\n &#39;公&#39;: 56,\n &#39;仆&#39;: 57,\n &#39;应&#39;: 58,\n &#39;当&#39;: 59,\n &#39;胸&#39;: 60,\n &#39;怀&#39;: 61,\n &#39;宽&#39;: 62,\n &#39;阔&#39;: 63,\n &#39;真&#39;: 64,\n &#39;正&#39;: 65,\n &#39;做&#39;: 66,\n &#39;到&#39;: 67,\n &#39;“&#39;: 68,\n &#39;先&#39;: 69,\n &#39;天&#39;: 70,\n &#39;下&#39;: 71,\n &#39;忧&#39;: 72,\n &#39;后&#39;: 73,\n &#39;乐&#39;: 74,\n &#39;”&#39;: 75,\n &#39;淡&#39;: 76,\n &#39;化&#39;: 77,\n &#39;名&#39;: 78,\n &#39;利&#39;: 79,\n &#39;得&#39;: 80,\n &#39;失&#39;: 81,\n &#39;和&#39;: 82,\n &#39;宠&#39;: 83,\n &#39;辱&#39;: 84,\n &#39;悲&#39;: 85,\n &#39;喜&#39;: 86,\n &#39;把&#39;: 87,\n &#39;改&#39;: 88,\n &#39;革&#39;: 89,\n &#39;大&#39;: 90,\n &#39;业&#39;: 91,\n &#39;摆&#39;: 92,\n &#39;首&#39;: 93,\n &#39;位&#39;: 94,\n &#39;样&#39;: 95,\n &#39;才&#39;: 96,\n &#39;能&#39;: 97,\n &#39;超&#39;: 98,\n &#39;越&#39;: 99,\n &#39;自&#39;: 100,\n &#39;我&#39;: 101,\n &#39;脱&#39;: 102,\n &#39;世&#39;: 103,\n &#39;俗&#39;: 104,\n &#39;有&#39;: 105,\n &#39;所&#39;: 106,\n &#39;发&#39;: 107,\n &#39;达&#39;: 108,\n &#39;家&#39;: 109,\n &#39;急&#39;: 110,\n &#39;救&#39;: 111,\n &#39;保&#39;: 112,\n &#39;险&#39;: 113,\n &#39;十&#39;: 114,\n &#39;分&#39;: 115,\n &#39;普&#39;: 116,\n &#39;及&#39;: 117,\n &#39;已&#39;: 118,\n &#39;成&#39;: 119,\n &#39;社&#39;: 120,\n &#39;会&#39;: 121,\n &#39;障&#39;: 122,\n &#39;体&#39;: 123,\n &#39;系&#39;: 124,\n &#39;重&#39;: 125,\n &#39;要&#39;: 126,\n &#39;组&#39;: 127,\n &#39;部&#39;: 128,\n &#39;日&#39;: 129,\n &#39;俄&#39;: 130,\n &#39;两&#39;: 131,\n &#39;政&#39;: 132,\n &#39;局&#39;: 133,\n &#39;都&#39;: 134,\n &#39;充&#39;: 135,\n &#39;满&#39;: 136,\n &#39;变&#39;: 137,\n &#39;数&#39;: 138,\n &#39;尽&#39;: 139,\n &#39;管&#39;: 140,\n &#39;关&#39;: 141,\n &#39;目&#39;: 142,\n &#39;前&#39;: 143,\n &#39;是&#39;: 144,\n &#39;历&#39;: 145,\n &#39;史&#39;: 146,\n &#39;最&#39;: 147,\n &#39;佳&#39;: 148,\n &#39;时&#39;: 149,\n &#39;期&#39;: 150,\n &#39;其&#39;: 151,\n &#39;脆&#39;: 152,\n &#39;弱&#39;: 153,\n &#39;性&#39;: 154,\n &#39;不&#39;: 155,\n &#39;言&#39;: 156,\n &#39;明&#39;: 157,\n &#39;克&#39;: 158,\n &#39;马&#39;: 159,\n &#39;尔&#39;: 160,\n &#39;女&#39;: 161,\n &#39;儿&#39;: 162,\n &#39;让&#39;: 163,\n &#39;娜&#39;: 164,\n &#39;今&#39;: 165,\n &#39;年&#39;: 166,\n &#39;读&#39;: 167,\n &#39;五&#39;: 168,\n &#39;级&#39;: 169,\n &#39;她&#39;: 170,\n &#39;班&#39;: 171,\n &#39;上&#39;: 172,\n &#39;3&#39;: 173,\n &#39;0&#39;: 174,\n &#39;多&#39;: 175,\n &#39;同&#39;: 176,\n &#39;学&#39;: 177,\n &#39;该&#39;: 178,\n &#39;委&#39;: 179,\n &#39;1&#39;: 180,\n &#39;长&#39;: 181,\n &#39;参&#39;: 182,\n &#39;加&#39;: 183,\n &#39;步&#39;: 184,\n &#39;行&#39;: 185,\n &#39;男&#39;: 186,\n &#39;轻&#39;: 187,\n &#39;也&#39;: 188,\n &#39;中&#39;: 189,\n &#39;沙&#39;: 190,\n &#39;特&#39;: 191,\n &#39;队&#39;: 192,\n &#39;教&#39;: 193,\n &#39;练&#39;: 194,\n &#39;佩&#39;: 195,\n &#39;雷&#39;: 196,\n &#39;拉&#39;: 197,\n &#39;：&#39;: 198,\n &#39;支&#39;: 199,\n &#39;想&#39;: 200,\n &#39;胜&#39;: 201,\n &#39;因&#39;: 202,\n &#39;此&#39;: 203,\n &#39;出&#39;: 204,\n &#39;了&#39;: 205,\n &#39;努&#39;: 206,\n &#39;力&#39;: 207,\n &#39;种&#39;: 208,\n &#39;混&#39;: 209,\n &#39;乱&#39;: 210,\n &#39;面&#39;: 211,\n &#39;导&#39;: 212,\n &#39;致&#39;: 213,\n &#39;些&#39;: 214,\n &#39;使&#39;: 215,\n &#39;用&#39;: 216,\n &#39;者&#39;: 217,\n &#39;合&#39;: 218,\n &#39;法&#39;: 219,\n &#39;权&#39;: 220,\n &#39;益&#39;: 221,\n &#39;难&#39;: 222,\n &#39;以&#39;: 223,\n &#39;维&#39;: 224,\n &#39;护&#39;: 225,\n &#39;鲁&#39;: 226,\n &#39;宾&#39;: 227,\n &#39;确&#39;: 228,\n &#39;指&#39;: 229,\n &#39;对&#39;: 230,\n &#39;府&#39;: 231,\n &#39;控&#39;: 232,\n &#39;完&#39;: 233,\n &#39;全&#39;: 234,\n &#39;没&#39;: 235,\n &#39;事&#39;: 236,\n &#39;实&#39;: 237,\n &#39;根&#39;: 238,\n &#39;据&#39;: 239,\n &#39;向&#39;: 240,\n &#39;转&#39;: 241,\n &#39;敏&#39;: 242,\n &#39;感&#39;: 243,\n &#39;技&#39;: 244,\n &#39;术&#39;: 245,\n &#39;相&#39;: 246,\n &#39;总&#39;: 247,\n &#39;白&#39;: 248,\n &#39;于&#39;: 249,\n &#39;；&#39;: 250,\n &#39;众&#39;: 251,\n &#39;议&#39;: 252,\n &#39;院&#39;: 253,\n &#39;令&#39;: 254,\n &#39;非&#39;: 255,\n &#39;常&#39;: 256,\n &#39;望&#39;: 257,\n &#39;将&#39;: 258,\n &#39;商&#39;: 259,\n &#39;卫&#39;: 260,\n &#39;星&#39;: 261,\n &#39;受&#39;: 262,\n &#39;威&#39;: 263,\n &#39;胁&#39;: 264,\n &#39;竞&#39;: 265,\n &#39;争&#39;: 266,\n &#39;损&#39;: 267,\n &#39;害&#39;: 268,\n &#39;育&#39;: 269,\n &#39;场&#39;: 270,\n &#39;每&#39;: 271,\n &#39;早&#39;: 272,\n &#39;6&#39;: 273,\n &#39;至&#39;: 274,\n &#39;8&#39;: 275,\n &#39;免&#39;: 276,\n &#39;费&#39;: 277,\n &#39;开&#39;: 278,\n &#39;放&#39;: 279,\n &#39;游&#39;: 280,\n &#39;泳&#39;: 281,\n &#39;等&#39;: 282,\n &#39;则&#39;: 283,\n &#39;增&#39;: 284,\n &#39;综&#39;: 285,\n &#39;服&#39;: 286,\n &#39;务&#39;: 287,\n &#39;延&#39;: 288,\n &#39;采&#39;: 289,\n &#39;取&#39;: 290,\n &#39;灵&#39;: 291,\n &#39;活&#39;: 292,\n &#39;收&#39;: 293,\n &#39;再&#39;: 294,\n &#39;看&#39;: 295,\n &#39;容&#39;: 296,\n &#39;图&#39;: 297,\n &#39;文&#39;: 298,\n &#39;并&#39;: 299,\n &#39;茂&#39;: 300,\n &#39;简&#39;: 301,\n &#39;短&#39;: 302,\n &#39;字&#39;: 303,\n &#39;准&#39;: 304,\n &#39;反&#39;: 305,\n &#39;映&#39;: 306,\n &#39;六&#39;: 307,\n &#39;族&#39;: 308,\n &#39;风&#39;: 309,\n &#39;土&#39;: 310,\n &#39;情&#39;: 311,\n &#39;传&#39;: 312,\n &#39;统&#39;: 313,\n &#39;各&#39;: 314,\n &#39;讲&#39;: 315,\n &#39;很&#39;: 316,\n &#39;哥&#39;: 317,\n &#39;伦&#39;: 318,\n &#39;亚&#39;: 319,\n &#39;号&#39;: 320,\n &#39;航&#39;: 321,\n &#39;飞&#39;: 322,\n &#39;机&#39;: 323,\n &#39;宇&#39;: 324,\n &#39;边&#39;: 325,\n &#39;进&#39;: 326,\n &#39;验&#39;: 327,\n &#39;继&#39;: 328,\n &#39;续&#39;: 329,\n &#39;抢&#39;: 330,\n &#39;修&#39;: 331,\n &#39;故&#39;: 332,\n &#39;二&#39;: 333,\n &#39;氧&#39;: 334,\n &#39;碳&#39;: 335,\n &#39;清&#39;: 336,\n &#39;除&#39;: 337,\n &#39;装&#39;: 338,\n &#39;置&#39;: 339,\n &#39;从&#39;: 340,\n &#39;剥&#39;: 341,\n &#39;削&#39;: 342,\n &#39;阶&#39;: 343,\n &#39;劳&#39;: 344,\n &#39;动&#39;: 345,\n &#39;生&#39;: 346,\n &#39;率&#39;: 347,\n &#39;低&#39;: 348,\n &#39;况&#39;: 349,\n &#39;占&#39;: 350,\n &#39;限&#39;: 351,\n &#39;剩&#39;: 352,\n &#39;余&#39;: 353,\n &#39;品&#39;: 354,\n &#39;足&#39;: 355,\n &#39;豪&#39;: 356,\n &#39;华&#39;: 357,\n &#39;需&#39;: 358,\n &#39;量&#39;: 359,\n &#39;扩&#39;: 360,\n &#39;现&#39;: 361,\n &#39;资&#39;: 362,\n &#39;条&#39;: 363,\n &#39;件&#39;: 364,\n &#39;榨&#39;: 365,\n &#39;价&#39;: 366,\n &#39;值&#39;: 367,\n &#39;供&#39;: 368,\n &#39;身&#39;: 369,\n &#39;求&#39;: 370,\n &#39;外&#39;: 371,\n &#39;又&#39;: 372,\n &#39;本&#39;: 373,\n &#39;新&#39;: 374,\n &#39;雇&#39;: 375,\n &#39;佣&#39;: 376,\n &#39;私&#39;: 377,\n &#39;来&#39;: 378,\n &#39;料&#39;: 379,\n &#39;集&#39;: 380,\n &#39;代&#39;: 381,\n &#39;表&#39;: 382,\n &#39;澳&#39;: 383,\n &#39;别&#39;: 384,\n &#39;区&#39;: 385,\n &#39;筹&#39;: 386,\n &#39;备&#39;: 387,\n &#39;第&#39;: 388,\n &#39;次&#39;: 389,\n &#39;午&#39;: 390,\n &#39;北&#39;: 391,\n &#39;京&#39;: 392,\n &#39;堂&#39;: 393,\n &#39;幕&#39;: 394,\n &#39;副&#39;: 395,\n &#39;理&#39;: 396,\n &#39;任&#39;: 397,\n &#39;钱&#39;: 398,\n &#39;琛&#39;: 399,\n &#39;词&#39;: 400,\n &#39;工&#39;: 401,\n &#39;经&#39;: 402,\n &#39;启&#39;: 403,\n &#39;临&#39;: 404,\n &#39;紧&#39;: 405,\n &#39;迫&#39;: 406,\n &#39;们&#39;: 407,\n &#39;道&#39;: 408,\n &#39;远&#39;: 409,\n &#39;希&#39;: 410,\n &#39;齐&#39;: 411,\n &#39;心&#39;: 412,\n &#39;协&#39;: 413,\n &#39;平&#39;: 414,\n &#39;稳&#39;: 415,\n &#39;过&#39;: 416,\n &#39;渡&#39;: 417,\n &#39;顺&#39;: 418,\n &#39;交&#39;: 419,\n &#39;接&#39;: 420,\n &#39;贡&#39;: 421,\n &#39;献&#39;: 422,\n &#39;济&#39;: 423,\n &#39;程&#39;: 424,\n &#39;界&#39;: 425,\n &#39;深&#39;: 426,\n &#39;信&#39;: 427,\n &#39;观&#39;: 428,\n &#39;必&#39;: 429,\n &#39;须&#39;: 430,\n &#39;微&#39;: 431,\n &#39;基&#39;: 432,\n &#39;础&#39;: 433,\n &#39;病&#39;: 434,\n &#39;好&#39;: 435,\n &#39;颈&#39;: 436,\n &#39;背&#39;: 437,\n &#39;躯&#39;: 438,\n &#39;干&#39;: 439,\n &#39;殖&#39;: 440,\n &#39;器&#39;: 441,\n &#39;可&#39;: 442,\n &#39;见&#39;: 443,\n &#39;龄&#39;: 444,\n &#39;市&#39;: 445,\n &#39;柔&#39;: 446,\n &#39;县&#39;: 447,\n &#39;试&#39;: 448,\n &#39;遍&#39;: 449,\n &#39;觉&#39;: 450,\n &#39;四&#39;: 451,\n &#39;节&#39;: 452,\n &#39;课&#39;: 453,\n &#39;饥&#39;: 454,\n &#39;饿&#39;: 455,\n &#39;消&#39;: 456,\n &#39;川&#39;: 457,\n &#39;省&#39;: 458,\n &#39;江&#39;: 459,\n &#39;油&#39;: 460,\n &#39;丰&#39;: 461,\n &#39;选&#39;: 462,\n &#39;豆&#39;: 463,\n &#39;奶&#39;: 464,\n &#39;复&#39;: 465,\n &#39;营&#39;: 466,\n &#39;养&#39;: 467,\n &#39;素&#39;: 468,\n &#39;贫&#39;: 469,\n &#39;血&#39;: 470,\n &#39;降&#39;: 471,\n &#39;百&#39;: 472,\n &#39;照&#39;: 473,\n &#39;只&#39;: 474,\n &#39;．&#39;: 475,\n &#39;4&#39;: 476,\n &#39;宗&#39;: 477,\n &#39;旨&#39;: 478,\n &#39;决&#39;: 479,\n &#39;定&#39;: 480,\n &#39;奉&#39;: 481,\n &#39;甘&#39;: 482,\n &#39;愿&#39;: 483,\n &#39;吃&#39;: 484,\n &#39;亏&#39;: 485,\n &#39;苦&#39;: 486,\n &#39;享&#39;: 487,\n &#39;困&#39;: 488,\n &#39;危&#39;: 489,\n &#39;留&#39;: 490,\n &#39;给&#39;: 491,\n &#39;己&#39;: 492,\n &#39;方&#39;: 493,\n &#39;便&#39;: 494,\n &#39;安&#39;: 495,\n &#39;初&#39;: 496,\n &#39;央&#39;: 497,\n &#39;形&#39;: 498,\n &#39;势&#39;: 499,\n &#39;快&#39;: 500,\n &#39;速&#39;: 501,\n &#39;策&#39;: 502,\n &#39;立&#39;: 503,\n &#39;研&#39;: 504,\n &#39;究&#39;: 505,\n &#39;派&#39;: 506,\n &#39;就&#39;: 507,\n &#39;提&#39;: 508,\n &#39;许&#39;: 509,\n &#39;富&#39;: 510,\n &#39;意&#39;: 511,\n &#39;味&#39;: 512,\n &#39;论&#39;: 513,\n &#39;话&#39;: 514,\n &#39;题&#39;: 515,\n &#39;书&#39;: 516,\n &#39;记&#39;: 517,\n &#39;粟&#39;: 518,\n &#39;光&#39;: 519,\n &#39;断&#39;: 520,\n &#39;他&#39;: 521,\n &#39;亲&#39;: 522,\n &#39;兄&#39;: 523,\n &#39;弟&#39;: 524,\n &#39;签&#39;: 525,\n &#39;！&#39;: 526,\n &#39;熟&#39;: 527,\n &#39;悉&#39;: 528,\n &#39;运&#39;: 529,\n &#39;士&#39;: 530,\n &#39;说&#39;: 531,\n &#39;贷&#39;: 532,\n &#39;款&#39;: 533,\n &#39;旦&#39;: 534,\n &#39;被&#39;: 535,\n &#39;推&#39;: 536,\n &#39;迟&#39;: 537,\n &#39;几&#39;: 538,\n &#39;月&#39;: 539,\n &#39;甚&#39;: 540,\n &#39;更&#39;: 541,\n &#39;考&#39;: 542,\n &#39;虑&#39;: 543,\n &#39;伍&#39;: 544,\n &#39;义&#39;: 545,\n &#39;气&#39;: 546,\n &#39;原&#39;: 547,\n &#39;惠&#39;: 548,\n &#39;象&#39;: 549,\n &#39;估&#39;: 550,\n &#39;像&#39;: 551,\n &#39;疤&#39;: 552,\n &#39;痕&#39;: 553,\n &#39;笨&#39;: 554,\n &#39;拙&#39;: 555,\n &#39;手&#39;: 556,\n &#39;针&#39;: 557,\n &#39;线&#39;: 558,\n &#39;周&#39;: 559,\n &#39;恩&#39;: 560,\n &#39;那&#39;: 561,\n &#39;送&#39;: 562,\n &#39;株&#39;: 563,\n &#39;万&#39;: 564,\n &#39;古&#39;: 565,\n &#39;青&#39;: 566,\n &#39;友&#39;: 567,\n &#39;谊&#39;: 568,\n &#39;红&#39;: 569,\n &#39;杉&#39;: 570,\n &#39;吧&#39;: 571,\n &#39;巴&#39;: 572,\n &#39;谈&#39;: 573,\n &#39;问&#39;: 574,\n &#39;印&#39;: 575,\n &#39;声&#39;: 576,\n &#39;宣&#39;: 577,\n &#39;称&#39;: 578,\n &#39;何&#39;: 579,\n &#39;三&#39;: 580,\n &#39;介&#39;: 581,\n &#39;入&#39;: 582,\n &#39;久&#39;: 583,\n &#39;赴&#39;: 584,\n &#39;西&#39;: 585,\n &#39;老&#39;: 586,\n &#39;访&#39;: 587,\n &#39;广&#39;: 588,\n &#39;职&#39;: 589,\n &#39;积&#39;: 590,\n &#39;极&#39;: 591,\n &#39;企&#39;: 592,\n &#39;监&#39;: 593,\n &#39;督&#39;: 594,\n &#39;如&#39;: 595,\n &#39;居&#39;: 596,\n &#39;子&#39;: 597,\n &#39;倘&#39;: 598,\n &#39;若&#39;: 599,\n &#39;客&#39;: 600,\n &#39;环&#39;: 601,\n &#39;境&#39;: 602,\n &#39;钝&#39;: 603,\n &#39;迅&#39;: 604,\n &#39;判&#39;: 605,\n &#39;陷&#39;: 606,\n &#39;处&#39;: 607,\n &#39;碰&#39;: 608,\n &#39;壁&#39;: 609,\n &#39;然&#39;: 610,\n &#39;热&#39;: 611,\n &#39;解&#39;: 612,\n &#39;寻&#39;: 613,\n &#39;找&#39;: 614,\n &#39;联&#39;: 615,\n &#39;邦&#39;: 616,\n &#39;州&#39;: 617,\n &#39;予&#39;: 618,\n &#39;适&#39;: 619,\n &#39;具&#39;: 620,\n &#39;骤&#39;: 621,\n &#39;吸&#39;: 622,\n &#39;七&#39;: 623,\n &#39;团&#39;: 624,\n &#39;另&#39;: 625,\n &#39;龙&#39;: 626,\n &#39;口&#39;: 627,\n &#39;科&#39;: 628,\n &#39;投&#39;: 629,\n &#39;视&#39;: 630,\n &#39;息&#39;: 631,\n &#39;创&#39;: 632,\n &#39;跳&#39;: 633,\n &#39;跃&#39;: 634,\n &#39;式&#39;: 635,\n &#39;展&#39;: 636,\n &#39;强&#39;: 637,\n &#39;调&#39;: 638,\n &#39;高&#39;: 639,\n &#39;培&#39;: 640,\n &#39;训&#39;: 641,\n &#39;认&#39;: 642,\n &#39;识&#39;: 643,\n &#39;密&#39;: 644,\n &#39;结&#39;: 645,\n &#39;小&#39;: 646,\n &#39;九&#39;: 647,\n &#39;升&#39;: 648,\n &#39;或&#39;: 649,\n &#39;段&#39;: 650,\n &#39;少&#39;: 651,\n &#39;懂&#39;: 652,\n &#39;习&#39;: 653,\n &#39;互&#39;: 654,\n &#39;贵&#39;: 655,\n &#39;贱&#39;: 656,\n &#39;请&#39;: 657,\n &#39;注&#39;: 658,\n &#39;语&#39;: 659,\n &#39;构&#39;: 660,\n &#39;偏&#39;: 661,\n &#39;孝&#39;: 662,\n &#39;父&#39;: 663,\n &#39;母&#39;: 664,\n &#39;始&#39;: 665,\n &#39;票&#39;: 666,\n &#39;否&#39;: 667,\n &#39;制&#39;: 668,\n &#39;还&#39;: 669,\n &#39;缺&#39;: 670,\n &#39;乏&#39;: 671,\n &#39;际&#39;: 672,\n &#39;电&#39;: 673,\n &#39;影&#39;: 674,\n &#39;摄&#39;: 675,\n &#39;录&#39;: 676,\n &#39;音&#39;: 677,\n &#39;剪&#39;: 678,\n &#39;辑&#39;: 679,\n &#39;诸&#39;: 680,\n &#39;趋&#39;: 681,\n &#39;激&#39;: 682,\n &#39;烈&#39;: 683,\n &#39;造&#39;: 684,\n &#39;奇&#39;: 685,\n &#39;夺&#39;: 686,\n &#39;起&#39;: 687,\n &#39;直&#39;: 688,\n &#39;追&#39;: 689,\n &#39;医&#39;: 690,\n &#39;药&#39;: 691,\n &#39;李&#39;: 692,\n &#39;珍&#39;: 693,\n &#39;闻&#39;: 694,\n &#39;屡&#39;: 695,\n &#39;仕&#39;: 696,\n &#39;寄&#39;: 697,\n &#39;托&#39;: 698,\n &#39;八&#39;: 699,\n &#39;股&#39;: 700,\n &#39;兴&#39;: 701,\n &#39;趣&#39;: 702,\n &#39;酷&#39;: 703,\n &#39;爱&#39;: 704,\n &#39;召&#39;: 705,\n &#39;吴&#39;: 706,\n &#39;英&#39;: 707,\n &#39;司&#39;: 708,\n &#39;董&#39;: 709,\n &#39;德&#39;: 710,\n &#39;·&#39;: 711,\n &#39;葛&#39;: 712,\n &#39;夫&#39;: 713,\n &#39;邀&#39;: 714,\n &#39;席&#39;: 715,\n &#39;车&#39;: 716,\n &#39;闲&#39;: 717,\n &#39;防&#39;: 718,\n &#39;施&#39;: 719,\n &#39;配&#39;: 720,\n &#39;套&#39;: 721,\n &#39;存&#39;: 722,\n &#39;鹅&#39;: 723,\n &#39;洲&#39;: 724,\n &#39;源&#39;: 725,\n &#39;终&#39;: 726,\n &#39;连&#39;: 727,\n &#39;串&#39;: 728,\n &#39;井&#39;: 729,\n &#39;序&#39;: 730,\n &#39;顾&#39;: 731,\n &#39;犯&#39;: 732,\n &#39;罪&#39;: 733,\n &#39;讳&#39;: 734,\n &#39;审&#39;: 735,\n &#39;死&#39;: 736,\n &#39;刑&#39;: 737,\n &#39;笔&#39;: 738,\n &#39;融&#39;: 739,\n &#39;农&#39;: 740,\n &#39;假&#39;: 741,\n &#39;币&#39;: 742,\n &#39;知&#39;: 743,\n &#39;巧&#39;: 744,\n &#39;律&#39;: 745,\n &#39;规&#39;: 746,\n &#39;村&#39;: 747,\n &#39;秩&#39;: 748,\n &#39;『&#39;: 749,\n &#39;范&#39;: 750,\n &#39;茅&#39;: 751,\n &#39;迹&#39;: 752,\n &#39;览&#39;: 753,\n &#39;』&#39;: 754,\n &#39;磁&#39;: 755,\n &#39;球&#39;: 756,\n &#39;孩&#39;: 757,\n &#39;格&#39;: 758,\n &#39;散&#39;: 759,\n &#39;着&#39;: 760,\n &#39;独&#39;: 761,\n &#39;魅&#39;: 762,\n &#39;莱&#39;: 763,\n &#39;坞&#39;: 764,\n &#39;千&#39;: 765,\n &#39;模&#39;: 766,\n &#39;翻&#39;: 767,\n &#39;版&#39;: 768,\n &#39;？&#39;: 769,\n &#39;燃&#39;: 770,\n &#39;汽&#39;: 771,\n &#39;仅&#39;: 772,\n &#39;守&#39;: 773,\n &#39;—&#39;: 774,\n &#39;路&#39;: 775,\n &#39;易&#39;: 776,\n &#39;斯&#39;: 777,\n &#39;切&#39;: 778,\n &#39;迪&#39;: 779,\n &#39;阿&#39;: 780,\n &#39;塞&#39;: 781,\n &#39;瓦&#39;: 782,\n &#39;萨&#39;: 783,\n &#39;卡&#39;: 784,\n &#39;里&#39;: 785,\n &#39;罗&#39;: 786,\n &#39;弗&#39;: 787,\n &#39;哈&#39;: 788,\n &#39;丹&#39;: 789,\n &#39;尼&#39;: 790,\n &#39;扎&#39;: 791,\n &#39;胡&#39;: 792,\n &#39;埃&#39;: 793,\n &#39;索&#39;: 794,\n &#39;库&#39;: 795,\n &#39;纳&#39;: 796,\n &#39;吉&#39;: 797,\n &#39;莫&#39;: 798,\n &#39;帕&#39;: 799,\n &#39;锋&#39;: 800,\n &#39;米&#39;: 801,\n &#39;贝&#39;: 802,\n &#39;耶&#39;: 803,\n &#39;冈&#39;: 804,\n &#39;玻&#39;: 805,\n &#39;乌&#39;: 806,\n &#39;布&#39;: 807,\n &#39;苏&#39;: 808,\n &#39;念&#39;: 809,\n &#39;案&#39;: 810,\n &#39;罚&#39;: 811,\n &#39;较&#39;: 812,\n &#39;战&#39;: 813,\n &#39;略&#39;: 814,\n &#39;均&#39;: 815,\n &#39;贸&#39;: 816,\n &#39;拓&#39;: 817,\n &#39;5&#39;: 818,\n &#39;份&#39;: 819,\n &#39;去&#39;: 820,\n &#39;阅&#39;: 821,\n &#39;室&#39;: 822,\n &#39;刊&#39;: 823,\n &#39;晚&#39;: 824,\n &#39;智&#39;: 825,\n &#39;藏&#39;: 826,\n &#39;突&#39;: 827,\n &#39;破&#39;: 828,\n &#39;借&#39;: 829,\n &#39;架&#39;: 830,\n &#39;办&#39;: 831,\n &#39;沃&#39;: 832,\n &#39;盟&#39;: 833,\n &#39;昨&#39;: 834,\n &#39;约&#39;: 835,\n &#39;南&#39;: 836,\n &#39;举&#39;: 837,\n &#39;空&#39;: 838,\n &#39;军&#39;: 839,\n &#39;演&#39;: 840,\n &#39;示&#39;: 841,\n &#39;欢&#39;: 842,\n &#39;迎&#39;: 843,\n &#39;帮&#39;: 844,\n &#39;助&#39;: 845,\n &#39;7&#39;: 846,\n &#39;叫&#39;: 847,\n &#39;迈&#39;: 848,\n &#39;菲&#39;: 849,\n &#39;查&#39;: 850,\n &#39;奋&#39;: 851,\n &#39;剂&#39;: 852,\n &#39;通&#39;: 853,\n &#39;未&#39;: 854,\n &#39;勇&#39;: 855,\n &#39;曲&#39;: 856,\n &#39;绕&#39;: 857,\n &#39;桥&#39;: 858,\n &#39;绝&#39;: 859,\n &#39;《&#39;: 860,\n &#39;嫂&#39;: 861,\n &#39;》&#39;: 862,\n &#39;警&#39;: 863,\n &#39;魂&#39;: 864,\n &#39;片&#39;: 865,\n &#39;获&#39;: 866,\n &#39;房&#39;: 867,\n &#39;石&#39;: 868,\n &#39;香&#39;: 869,\n &#39;港&#39;: 870,\n &#39;朝&#39;: 871,\n &#39;蓬&#39;: 872,\n &#39;勃&#39;: 873,\n &#39;拼&#39;: 874,\n &#39;搏&#39;: 875,\n &#39;斗&#39;: 876,\n &#39;神&#39;: 877,\n &#39;写&#39;: 878,\n &#39;2&#39;: 879,\n &#39;春&#39;: 880,\n &#39;季&#39;: 881,\n &#39;招&#39;: 882,\n &#39;兵&#39;: 883,\n &#39;募&#39;: 884,\n &#39;既&#39;: 885,\n &#39;食&#39;: 886,\n &#39;预&#39;: 887,\n &#39;止&#39;: 888,\n &#39;癌&#39;: 889,\n &#39;症&#39;: 890,\n &#39;城&#39;: 891,\n &#39;引&#39;: 892,\n &#39;项&#39;: 893,\n &#39;懈&#39;: 894,\n &#39;液&#39;: 895,\n &#39;尾&#39;: 896,\n &#39;9&#39;: 897,\n &#39;％&#39;: 898,\n &#39;氢&#39;: 899,\n &#39;减&#39;: 900,\n &#39;污&#39;: 901,\n &#39;染&#39;: 902,\n &#39;双&#39;: 903,\n &#39;网&#39;: 904,\n &#39;抽&#39;: 905,\n &#39;封&#39;: 906,\n &#39;差&#39;: 907,\n &#39;亟&#39;: 908,\n &#39;待&#39;: 909,\n &#39;单&#39;: 910,\n &#39;麦&#39;: 911,\n &#39;果&#39;: 912,\n &#39;∶&#39;: 913,\n &#39;松&#39;: 914,\n &#39;赢&#39;: 915,\n &#39;测&#39;: 916,\n &#39;析&#39;: 917,\n &#39;迷&#39;: 918,\n &#39;叶&#39;: 919,\n &#39;钦&#39;: 920,\n &#39;岁&#39;: 921,\n &#39;刻&#39;: 922,\n &#39;哲&#39;: 923,\n &#39;思&#39;: 924,\n &#39;虽&#39;: 925,\n &#39;担&#39;: 926,\n &#39;负&#39;: 927,\n &#39;领&#39;: 928,\n &#39;责&#39;: 929,\n &#39;专&#39;: 930,\n &#39;却&#39;: 931,\n &#39;爸&#39;: 932,\n &#39;劲&#39;: 933,\n &#39;抗&#39;: 934,\n &#39;艰&#39;: 935,\n &#39;聘&#39;: 936,\n &#39;仍&#39;: 937,\n &#39;治&#39;: 938,\n &#39;洋&#39;: 939,\n &#39;尊&#39;: 940,\n &#39;庄&#39;: 941,\n &#39;志&#39;: 942,\n &#39;回&#39;: 943,\n &#39;忆&#39;: 944,\n &#39;淳&#39;: 945,\n &#39;朴&#39;: 946,\n &#39;报&#39;: 947,\n &#39;届&#39;: 948,\n &#39;张&#39;: 949,\n &#39;君&#39;: 950,\n &#39;秋&#39;: 951,\n &#39;剧&#39;: 952,\n &#39;角&#39;: 953,\n &#39;艺&#39;: 954,\n &#39;校&#39;: 955,\n &#39;坚&#39;: 956,\n &#39;质&#39;: 957,\n &#39;围&#39;: 958,\n &#39;侧&#39;: 959,\n &#39;缓&#39;: 960,\n &#39;财&#39;: 961,\n &#39;状&#39;: 962,\n &#39;聚&#39;: 963,\n &#39;渠&#39;: 964,\n &#39;逐&#39;: 965,\n &#39;靠&#39;: 966,\n &#39;优&#39;: 967,\n &#39;征&#39;: 968,\n &#39;稿&#39;: 969,\n &#39;截&#39;: 970,\n &#39;句&#39;: 971,\n &#39;晤&#39;: 972,\n &#39;纠&#39;: 973,\n &#39;纷&#39;: 974,\n &#39;朋&#39;: 975,\n &#39;坏&#39;: 976,\n &#39;它&#39;: 977,\n &#39;促&#39;: 978,\n &#39;岗&#39;: 979,\n &#39;标&#39;: 980,\n &#39;织&#39;: 981,\n &#39;践&#39;: 982,\n &#39;邓&#39;: 983,\n &#39;按&#39;: 984,\n &#39;署&#39;: 985,\n &#39;挥&#39;: 986,\n &#39;核&#39;: 987,\n &#39;●&#39;: 988,\n &#39;承&#39;: 989,\n &#39;键&#39;: 990,\n &#39;街&#39;: 991,\n &#39;巷&#39;: 992,\n &#39;横&#39;: 993,\n &#39;幅&#39;: 994,\n &#39;悬&#39;: 995,\n &#39;画&#39;: 996,\n &#39;头&#39;: 997,\n &#39;欣&#39;: 998,\n &#39;慰&#39;: 999,\n ...&#125;</code></pre>\n<h4 id=\"获取每个句子的长度并得到最大长度\">获取每个句子的长度，并得到最大长度</h4>\n<div class=\"sourceCode\" id=\"cb19\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb19-1\"><a href=\"#cb19-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_sequence_len(path):</span>\n<span id=\"cb19-2\"><a href=\"#cb19-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    sequence_len <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb19-3\"><a href=\"#cb19-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    tmp_len <span class=\"op\">=</span> <span class=\"dv\">0</span></span>\n<span id=\"cb19-4\"><a href=\"#cb19-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>,encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:</span>\n<span id=\"cb19-5\"><a href=\"#cb19-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:</span>\n<span id=\"cb19-6\"><a href=\"#cb19-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            line <span class=\"op\">=</span> line.strip()</span>\n<span id=\"cb19-7\"><a href=\"#cb19-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line) <span class=\"op\">==</span> <span class=\"dv\">0</span> :</span>\n<span id=\"cb19-8\"><a href=\"#cb19-8\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#                 print(tmp_len)</span></span>\n<span id=\"cb19-9\"><a href=\"#cb19-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>                sequence_len.append(tmp_len)</span>\n<span id=\"cb19-10\"><a href=\"#cb19-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_len <span class=\"op\">=</span> <span class=\"dv\">0</span></span>\n<span id=\"cb19-11\"><a href=\"#cb19-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">else</span>:</span>\n<span id=\"cb19-12\"><a href=\"#cb19-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_len <span class=\"op\">+=</span><span class=\"dv\">1</span></span>\n<span id=\"cb19-13\"><a href=\"#cb19-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> np.array(sequence_len)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb20\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb20-1\"><a href=\"#cb20-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.train&#39;</span>)dev_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.dev&#39;</span>)test_sequence_len<span class=\"op\">=</span> get_sequence_len(<span class=\"st\">&#39;./datasets/example.test&#39;</span>)</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb21\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb21-1\"><a href=\"#cb21-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_sequence_len,dev_sequence_len,test_sequence_len</span></code></pre></div>\n<pre><code>(array([18, 35, 88, ..., 53, 65, 41]), array([69, 35, 54, ..., 46, 38, 29]), array([40, 39, 43, ..., 42, 29, 52]))</code></pre>\n<div class=\"sourceCode\" id=\"cb23\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb23-1\"><a href=\"#cb23-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>max_length <span class=\"op\">=</span> <span class=\"bu\">max</span>(<span class=\"bu\">max</span>(train_sequence_len),<span class=\"bu\">max</span>(dev_sequence_len),<span class=\"bu\">max</span>(test_sequence_len))</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb24\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb24-1\"><a href=\"#cb24-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>max_length</span></code></pre></div>\n<pre><code>577</code></pre>\n<h4 id=\"读取数据对不足最大长度的句子进行padding\">读取数据，对不足最大长度的句子进行padding</h4>\n<div class=\"sourceCode\" id=\"cb26\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb26-1\"><a href=\"#cb26-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> read_data(path,vocab2id,label2id,max_len):    data_x <span class=\"op\">=</span> <span class=\"bu\">list</span>()    data_y <span class=\"op\">=</span> <span class=\"bu\">list</span>()    tmp_text <span class=\"op\">=</span> <span class=\"bu\">list</span>()    tmp_label <span class=\"op\">=</span> <span class=\"bu\">list</span>()        <span class=\"cf\">with</span> <span class=\"bu\">open</span>(path,<span class=\"st\">&#39;r&#39;</span>, encoding<span class=\"op\">=</span><span class=\"st\">&#39;utf-8&#39;</span>) <span class=\"im\">as</span> f:        <span class=\"cf\">for</span> line <span class=\"kw\">in</span> f:            line <span class=\"op\">=</span> line.strip()            <span class=\"cf\">if</span> <span class=\"bu\">len</span>(line) <span class=\"op\">==</span><span class=\"dv\">0</span>:                <span class=\"co\"># 数据集中以空行作为句子分隔符，说明前一个句子已经结束，tmp_text为vocab（id），tmp_label为label(id)                # padding 至max_len                tmp_text += [len(vocab2id)] * (max_len - len(tmp_text))                tmp_label += [0] * (max_len - len(tmp_label))                                # 保存已经结束的句子并清空tmp                data_x.append(tmp_text)                data_y.append(tmp_label)                tmp_text = list()                tmp_label = list()            else:                # 将字符和标签转换为相应的id放入tmp                # 根据数据格式，line[0]为vocab,line[1]为空格                # line[2:]为label                tmp_text.append(vocab2id[line[0]])                tmp_label.append(label2id[line[2:]])    print(&#39;&#123;&#125; include sequences &#123;&#125;&#39;.format(path,len(data_x)))    return np.array(data_x), np.array(data_y)</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb27\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb27-1\"><a href=\"#cb27-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_text,train_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.train&quot;</span>,vocab2id,label2id,max_length)dev_text,dev_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.dev&quot;</span>,vocab2id,label2id,max_length)test_text,test_label <span class=\"op\">=</span> read_data(<span class=\"st\">&quot;./datasets/example.test&quot;</span>,vocab2id,label2id,max_length)</span></code></pre></div>\n<pre><code>./datasets/example.train include sequences 20864./datasets/example.dev include sequences 2318./datasets/example.test include sequences 4636</code></pre>\n<div class=\"sourceCode\" id=\"cb29\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb29-1\"><a href=\"#cb29-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_text[<span class=\"dv\">0</span>],train_label[<span class=\"dv\">0</span>]</span></code></pre></div>\n<pre><code>(array([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,   10,\n           8,   11,   12,   13,    0,   14,   15, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465, 4465,\n        4465, 4465, 4465, 4465, 4465]),\n array([0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0]))</code></pre>\n<h4 id=\"讲数据通过tf.data.dataset加载\">讲数据通过tf.data.Dataset加载</h4>\n<p>Dataset可以看作是相同类型“元素”的有序列表，可以通过Iterator对其中的元素进行读取，通过初始化不同的initializer实现读取不同的数据</p>\n<div class=\"sourceCode\" id=\"cb31\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb31-1\"><a href=\"#cb31-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((train_text,train_label,train_sequence_len))</span>\n<span id=\"cb31-2\"><a href=\"#cb31-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_dataset <span class=\"op\">=</span> train_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb32\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb32-1\"><a href=\"#cb32-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>dev_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((dev_text,dev_label,dev_sequence_len))dev_dataset <span class=\"op\">=</span> dev_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb33\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb33-1\"><a href=\"#cb33-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>test_dataset <span class=\"op\">=</span> tf.compat.v1.data.Dataset.from_tensor_slices((test_text,test_label,test_sequence_len))test_dataset <span class=\"op\">=</span> test_dataset.batch(<span class=\"dv\">1</span>)  <span class=\"co\">#指定读取数据时的batch_size</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb34\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb34-1\"><a href=\"#cb34-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>iterator <span class=\"op\">=</span> tf.compat.v1.data.Iterator.from_structure(train_dataset.output_types,                                                     train_dataset.output_shapes)</span></code></pre></div>\n<pre><code>WARNING:tensorflow:From &lt;ipython-input-24-248b28ede763&gt;:1: DatasetV1.output_types (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_types(dataset)`.\nWARNING:tensorflow:From &lt;ipython-input-24-248b28ede763&gt;:2: DatasetV1.output_shapes (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_shapes(dataset)`.</code></pre>\n<div class=\"sourceCode\" id=\"cb36\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb36-1\"><a href=\"#cb36-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#初始化不同的initializer，从X,Y,S读取的数据不同</span></span>\n<span id=\"cb36-2\"><a href=\"#cb36-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_initializer <span class=\"op\">=</span> iterator.make_initializer(train_dataset)</span>\n<span id=\"cb36-3\"><a href=\"#cb36-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>dev_initializer <span class=\"op\">=</span> iterator.make_initializer(dev_dataset)</span>\n<span id=\"cb36-4\"><a href=\"#cb36-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>test_initializer <span class=\"op\">=</span> iterator.make_initializer(test_dataset)</span>\n<span id=\"cb36-5\"><a href=\"#cb36-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>X,Y,S <span class=\"op\">=</span> iterator.get_next() <span class=\"co\">#运行时每次读取一个batch_size的text,label和sequence_len</span></span></code></pre></div>\n<pre><code>WARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:336: Iterator.output_types (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_types(iterator)`.\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:337: Iterator.output_shapes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_shapes(iterator)`.\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py:339: Iterator.output_classes (from tensorflow.python.data.ops.iterator_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse `tf.compat.v1.data.get_output_classes(iterator)`.</code></pre>\n<h3 id=\"命名实体识别模型构建\">命名实体识别模型构建</h3>\n<ul>\n<li>输入文本经过预处理后得到字符的id，</li>\n<li>首先经过Embedding层得到字符向量，</li>\n<li>然后经过BiLSTM层得到句子表示，</li>\n<li>再经过CRF计算每个字符的标签得分，</li>\n<li>对于每个字符，选取得分最高的标签作为该字符的类别。</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb38\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb38-1\"><a href=\"#cb38-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>embedding_size <span class=\"op\">=</span> <span class=\"dv\">5</span></span>\n<span id=\"cb38-2\"><a href=\"#cb38-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>hidden_dim <span class=\"op\">=</span> <span class=\"dv\">4</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb39\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb39-1\"><a href=\"#cb39-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># embedding层</span></span>\n<span id=\"cb39-2\"><a href=\"#cb39-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;embedding&#39;</span>): <span class=\"co\">#随机生成字符向量</span></span>\n<span id=\"cb39-3\"><a href=\"#cb39-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    embedding <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb39-4\"><a href=\"#cb39-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf.compat.v1.random_normal([<span class=\"bu\">len</span>(vocab2id)<span class=\"op\">+</span><span class=\"dv\">1</span>, embedding_size]),</span>\n<span id=\"cb39-5\"><a href=\"#cb39-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span> tf.compat.v1.float32</span>\n<span id=\"cb39-6\"><a href=\"#cb39-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    )</span>\n<span id=\"cb39-7\"><a href=\"#cb39-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>inputs <span class=\"op\">=</span> tf.compat.v1.nn.embedding_lookup(embedding,X) <span class=\"co\">#将X中vocab的id转换为对应的字符向量</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb40\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb40-1\"><a href=\"#cb40-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># BiLSTM隐藏层</span></span>\n<span id=\"cb40-2\"><a href=\"#cb40-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 前向lstm</span></span>\n<span id=\"cb40-3\"><a href=\"#cb40-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>lstm_fw_cell <span class=\"op\">=</span> tf.compat.v1.nn.rnn_cell.LSTMCell(hidden_dim,reuse <span class=\"op\">=</span> tf.compat.v1.AUTO_REUSE)</span>\n<span id=\"cb40-4\"><a href=\"#cb40-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 后向lstm</span></span>\n<span id=\"cb40-5\"><a href=\"#cb40-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>lstm_bw_cell <span class=\"op\">=</span> tf.compat.v1.nn.rnn_cell.LSTMCell(hidden_dim,reuse <span class=\"op\">=</span> tf.compat.v1.AUTO_REUSE)</span>\n<span id=\"cb40-6\"><a href=\"#cb40-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 组合成双向lstm</span></span>\n<span id=\"cb40-7\"><a href=\"#cb40-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>(output,output_states) <span class=\"op\">=</span> tf.compat.v1.nn.bidirectional_dynamic_rnn(</span>\n<span id=\"cb40-8\"><a href=\"#cb40-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    lstm_fw_cell,</span>\n<span id=\"cb40-9\"><a href=\"#cb40-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>    lstm_bw_cell,</span>\n<span id=\"cb40-10\"><a href=\"#cb40-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    inputs,</span>\n<span id=\"cb40-11\"><a href=\"#cb40-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>    S,</span>\n<span id=\"cb40-12\"><a href=\"#cb40-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    dtype<span class=\"op\">=</span>tf.compat.v1.float32</span>\n<span id=\"cb40-13\"><a href=\"#cb40-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb40-14\"><a href=\"#cb40-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#list -&gt; tensor [batch_size,max_len,hidden_dim * 2]</span></span>\n<span id=\"cb40-15\"><a href=\"#cb40-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>output <span class=\"op\">=</span> tf.stack(output,axis<span class=\"op\">=</span><span class=\"dv\">1</span>)</span>\n<span id=\"cb40-16\"><a href=\"#cb40-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># -&gt; [batch_size * max_len,hidden_dim * 2]</span></span>\n<span id=\"cb40-17\"><a href=\"#cb40-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>output <span class=\"op\">=</span> tf.reshape(output,[<span class=\"op\">-</span><span class=\"dv\">1</span>,hidden_dim <span class=\"op\">*</span><span class=\"dv\">2</span>])</span></code></pre></div>\n<pre><code>WARNING:tensorflow:From &lt;ipython-input-28-215bd7d8a5e9&gt;:12: bidirectional_dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use `keras.layers.Bidirectional(keras.layers.RNN(cell))`, which is equivalent to this API\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\tensorflow\\python\\ops\\rnn.py:447: dynamic_rnn (from tensorflow.python.ops.rnn) is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use `keras.layers.RNN(cell)`, which is equivalent to this API\nWARNING:tensorflow:From c:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\layers\\legacy_rnn\\rnn_cell_impl.py:979: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.\nInstructions for updating:\nCall initializer instance with the dtype argument instead of passing it to the constructor\n\n\nc:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\layers\\legacy_rnn\\rnn_cell_impl.py:901: UserWarning: `tf.nn.rnn_cell.LSTMCell` is deprecated and will be removed in a future version. This class is equivalent as `tf.keras.layers.LSTMCell`, and will be replaced by that in Tensorflow 2.0.\n  warnings.warn(&quot;`tf.nn.rnn_cell.LSTMCell` is deprecated and will be &quot;\nc:\\users\\ysilhouette\\documents\\pyenv\\py_365_tf_2\\lib\\site-packages\\keras\\engine\\base_layer_v1.py:1684: UserWarning: `layer.add_variable` is deprecated and will be removed in a future version. Please use `layer.add_weight` method instead.\n  warnings.warn(&#39;`layer.add_variable` is deprecated and &#39;</code></pre>\n<div class=\"sourceCode\" id=\"cb42\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb42-1\"><a href=\"#cb42-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># BiLSTM输出层</span></span>\n<span id=\"cb42-2\"><a href=\"#cb42-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;output&#39;</span>):</span>\n<span id=\"cb42-3\"><a href=\"#cb42-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    W <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb42-4\"><a href=\"#cb42-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf.compat.v1.truncated_normal(</span>\n<span id=\"cb42-5\"><a href=\"#cb42-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>            shape<span class=\"op\">=</span>[hidden_dim <span class=\"op\">*</span><span class=\"dv\">2</span> , <span class=\"bu\">len</span>(label2id)],</span>\n<span id=\"cb42-6\"><a href=\"#cb42-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>            mean<span class=\"op\">=</span><span class=\"dv\">0</span>,</span>\n<span id=\"cb42-7\"><a href=\"#cb42-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            stddev<span class=\"op\">=</span><span class=\"fl\">0.1</span>),</span>\n<span id=\"cb42-8\"><a href=\"#cb42-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span>tf.compat.v1.float32</span>\n<span id=\"cb42-9\"><a href=\"#cb42-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>    )</span>\n<span id=\"cb42-10\"><a href=\"#cb42-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    B <span class=\"op\">=</span> tf.compat.v1.Variable(</span>\n<span id=\"cb42-11\"><a href=\"#cb42-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>        np.zeros(<span class=\"bu\">len</span>(label2id)),</span>\n<span id=\"cb42-12\"><a href=\"#cb42-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>        dtype<span class=\"op\">=</span>tf.compat.v1.float32)</span>\n<span id=\"cb42-13\"><a href=\"#cb42-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">#[batch_size * max_len,label_size]</span></span>\n<span id=\"cb42-14\"><a href=\"#cb42-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>    Y_out <span class=\"op\">=</span> tf.matmul(output,W) <span class=\"op\">+</span> B </span>\n<span id=\"cb42-15\"><a href=\"#cb42-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>scores <span class=\"op\">=</span> tf.reshape(Y_out,[<span class=\"op\">-</span><span class=\"dv\">1</span>, max_length,<span class=\"bu\">len</span>(label2id)])  <span class=\"co\">#[batch_size,max_len,label_size]</span></span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb43\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb43-1\"><a href=\"#cb43-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>scores</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;Reshape_1:0&#39; shape=(None, 577, 7) dtype=float32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb45\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb45-1\"><a href=\"#cb45-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>Y</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;IteratorGetNext:1&#39; shape=(None, 577) dtype=int32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb47\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb47-1\"><a href=\"#cb47-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>S</span></code></pre></div>\n<pre><code>&lt;tf.Tensor &#39;IteratorGetNext:2&#39; shape=(None,) dtype=int32&gt;</code></pre>\n<div class=\"sourceCode\" id=\"cb49\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb49-1\"><a href=\"#cb49-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># CRF层</span></span>\n<span id=\"cb49-2\"><a href=\"#cb49-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">with</span> tf.compat.v1.variable_scope(<span class=\"st\">&#39;crf&#39;</span>,reuse<span class=\"op\">=</span>tf.compat.v1.AUTO_REUSE):</span>\n<span id=\"cb49-3\"><a href=\"#cb49-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    trans_matrix <span class=\"op\">=</span> tf.compat.v1.get_variable(<span class=\"st\">&#39;transition&#39;</span>, [<span class=\"bu\">len</span>(label2id),<span class=\"bu\">len</span>(label2id)])</span>\n<span id=\"cb49-4\"><a href=\"#cb49-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>log_likelihood,_ <span class=\"op\">=</span>tfa.text.crf_log_likelihood(scores,Y,S,trans_matrix)</span>\n<span id=\"cb49-5\"><a href=\"#cb49-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>loss<span class=\"op\">=</span>tf.reduce_mean(<span class=\"op\">-</span>log_likelihood)</span>\n<span id=\"cb49-6\"><a href=\"#cb49-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># optimizer = tf.keras.optimizers.SGD(learning_rate=0.5)</span></span>\n<span id=\"cb49-7\"><a href=\"#cb49-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># train_op =optimizer.minimize(loss)#梯度下降法，学习率0.1</span></span>\n<span id=\"cb49-8\"><a href=\"#cb49-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>train_op <span class=\"op\">=</span> tf.compat.v1.train.GradientDescentOptimizer(<span class=\"fl\">0.1</span>).minimize(loss)<span class=\"co\">#梯度下降法，学习率0.1</span></span>\n<span id=\"cb49-9\"><a href=\"#cb49-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>saver <span class=\"op\">=</span> tf.compat.v1.train.Saver() <span class=\"co\">#用来保存和加载模型</span></span>\n<span id=\"cb49-10\"><a href=\"#cb49-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>min_Loss <span class=\"op\">=</span> <span class=\"bu\">int</span>(<span class=\"fl\">1e8</span>) <span class=\"co\">#维护当前最小的Loss,初始化为一个较大的值</span></span></code></pre></div>\n<h3 id=\"命名实体识别模型训练\">命名实体识别模型训练</h3>\n<ul>\n<li>通过训练集训练，并保存当前loss值最小的模型。</li>\n<li>构建的模型抽象出来是一个包含计算和变量的图。定义变量时不会进行运算，也没有具体的值，变量在Session中进行初始化后才有值。</li>\n<li>在Session中通过run可以执行图，进行相应的计算或取出对应的值。通过训练改变变量的值，最终可以得到模型需要的参数。</li>\n<li>变量的值仅在一个Session中有效，通过saver保存变量后，可以在新的Session中通过saver加载变量，就无需再重新训练模型。</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb50\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb50-1\"><a href=\"#cb50-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess <span class=\"op\">=</span> tf.compat.v1.Session() <span class=\"co\"># 创建一个Session</span></span>\n<span id=\"cb50-2\"><a href=\"#cb50-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(tf.compat.v1.global_variables_initializer()) <span class=\"co\"># 初始化所有变量</span></span>\n<span id=\"cb50-3\"><a href=\"#cb50-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"cf\">for</span> epoch <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"dv\">100</span>):</span>\n<span id=\"cb50-4\"><a href=\"#cb50-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    sess.run(train_initializer) <span class=\"co\">#初始化训练集和initializer</span></span>\n<span id=\"cb50-5\"><a href=\"#cb50-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> step <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"dv\">10</span>): <span class=\"co\">#使用了10个batch的数据</span></span>\n<span id=\"cb50-6\"><a href=\"#cb50-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>        tf_train_scores,tf_trans_matrix,Loss,_ <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb50-7\"><a href=\"#cb50-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>            [scores,trans_matrix,loss,train_op]</span>\n<span id=\"cb50-8\"><a href=\"#cb50-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>        ) <span class=\"co\"># 执行训练过程</span></span>\n<span id=\"cb50-9\"><a href=\"#cb50-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>        </span>\n<span id=\"cb50-10\"><a href=\"#cb50-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">if</span> Loss <span class=\"op\">&lt;</span>min_Loss:</span>\n<span id=\"cb50-11\"><a href=\"#cb50-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>        saver.save(sess,<span class=\"st\">&#39;model/my_model&#39;</span>) <span class=\"co\"># 保存当前loss最小的model</span></span>\n<span id=\"cb50-12\"><a href=\"#cb50-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>        min_Loss <span class=\"op\">=</span> Loss</span>\n<span id=\"cb50-13\"><a href=\"#cb50-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"bu\">print</span>(<span class=\"st\">&quot;** epoch&quot;</span>,epoch<span class=\"op\">+</span><span class=\"dv\">1</span>,<span class=\"st\">&quot;Loss&quot;</span>,Loss)</span></code></pre></div>\n<pre><code>** epoch 1 Loss 58.72455\n** epoch 2 Loss 53.927124\n** epoch 3 Loss 50.51535\n** epoch 4 Loss 49.02472\n** epoch 5 Loss 50.43283\n** epoch 6 Loss 50.08667\n** epoch 7 Loss 46.792816\n** epoch 8 Loss 44.00418\n** epoch 9 Loss 42.740723\n** epoch 10 Loss 38.633057\n** epoch 11 Loss 34.638123\n** epoch 12 Loss 30.238342\n** epoch 13 Loss 31.892944\n** epoch 14 Loss 28.726074\n** epoch 15 Loss 27.086182\n** epoch 16 Loss 25.640747\n** epoch 17 Loss 24.253967\n** epoch 18 Loss 23.045715\n** epoch 19 Loss 22.389526\n** epoch 20 Loss 21.917236\n** epoch 21 Loss 21.551575\n** epoch 22 Loss 21.257202\n** epoch 23 Loss 21.010925\n** epoch 24 Loss 20.801147\n** epoch 25 Loss 20.622559\n** epoch 26 Loss 20.46753\n** epoch 27 Loss 20.330994\n** epoch 28 Loss 20.209717\n** epoch 29 Loss 20.09906\n** epoch 30 Loss 20.002686\n** epoch 31 Loss 19.913574\n** epoch 32 Loss 19.83197\n** epoch 33 Loss 19.756409\n** epoch 34 Loss 19.690308\n** epoch 35 Loss 19.62616\n** epoch 36 Loss 19.563904\n** epoch 37 Loss 19.511597\n** epoch 38 Loss 19.460754\n** epoch 39 Loss 19.409851\n** epoch 40 Loss 19.362366\n** epoch 41 Loss 19.32257\n** epoch 42 Loss 19.281921\n** epoch 43 Loss 19.241943\n** epoch 44 Loss 19.204895\n** epoch 45 Loss 19.17163\n** epoch 46 Loss 19.14154\n** epoch 47 Loss 19.10846\n** epoch 48 Loss 19.077393\n** epoch 49 Loss 19.050842\n** epoch 50 Loss 19.02295\n** epoch 51 Loss 18.999817\n** epoch 52 Loss 18.973328\n** epoch 53 Loss 18.948425\n** epoch 54 Loss 18.927612\n** epoch 55 Loss 18.903809\n** epoch 56 Loss 18.88678\n** epoch 57 Loss 18.864624\n** epoch 58 Loss 18.844116\n** epoch 59 Loss 18.824219\n** epoch 60 Loss 18.807495\n** epoch 61 Loss 18.79132\n** epoch 62 Loss 18.773804\n** epoch 63 Loss 18.757812\n** epoch 64 Loss 18.743103\n** epoch 65 Loss 18.72815\n** epoch 66 Loss 18.71283\n** epoch 67 Loss 18.69812\n** epoch 68 Loss 18.68335\n** epoch 69 Loss 18.670227\n** epoch 70 Loss 18.656555\n** epoch 71 Loss 18.646484\n** epoch 72 Loss 18.633667\n** epoch 73 Loss 18.621033\n** epoch 74 Loss 18.611145\n** epoch 75 Loss 18.603027\n** epoch 76 Loss 18.591614\n** epoch 77 Loss 18.577148\n** epoch 78 Loss 18.568176\n** epoch 79 Loss 18.558899\n** epoch 80 Loss 18.550049\n** epoch 81 Loss 18.5401\n** epoch 82 Loss 18.531128\n** epoch 83 Loss 18.52301\n** epoch 84 Loss 18.51294\n** epoch 85 Loss 18.504944\n** epoch 86 Loss 18.495544\n** epoch 87 Loss 18.486633\n** epoch 88 Loss 18.481384\n** epoch 89 Loss 18.473328\n** epoch 90 Loss 18.466125\n** epoch 91 Loss 18.459839\n** epoch 92 Loss 18.45227\n** epoch 93 Loss 18.444885\n** epoch 94 Loss 18.435303\n** epoch 95 Loss 18.432373\n** epoch 96 Loss 18.423462\n** epoch 97 Loss 18.418274\n** epoch 98 Loss 18.411194\n** epoch 99 Loss 18.403381\n** epoch 100 Loss 18.400818</code></pre>\n<h3 id=\"命名实体识别模型评估\">命名实体识别模型评估</h3>\n<h4 id=\"计算验证集f1_score并查看验证集预测结果\">计算验证集f1_score并查看验证集预测结果。</h4>\n<ul>\n<li><strong>精确率pression、召回率recall和f1_score</strong></li>\n<li>对于结果仅包括“正负”的二分类问题，\n<ul>\n<li>“预测为正，实际也为正”被称为真阳性，“预测为正，实际为负”被称为假阳性，“预测为负，实际为正”被称为假阴性，</li>\n<li>精确率定义为<span class=\"math inline\">\\(\\frac\n{真阳性}{真阳性+假阳性}\\)</span>，召回率定义为<span class=\"math inline\">\\(\\frac{真阳性}{真阳性+假阴性}\\)</span>，f1_score可以看作是精确率和召回率的一种加权平均，定义为$\n2*$。</li>\n</ul></li>\n<li>对于多分类问题\n<ul>\n<li>既可以分别计算出每一类的精确率、召回率和f1_score\n<ul>\n<li>计算某一类时可认为该类为“正”，其他所有类为“负”，以此得到每一类的真阳性、假阳性和假阴性数量），再计算出f1_score的平均值，这种f1_score被称为macro-f1。</li>\n</ul></li>\n<li>也可以计算出总的精确率和召回率\n<ul>\n<li>得到每一类的真阳性、假阳性和假阴性数量，分别求和得到总的数量），再计算出f1_score，这种f1_score被称为micro-f1</li>\n</ul></li>\n<li>当预测结果未出现错误类别（即未包含在类别集合的类别）时，这种方式计算得到的精确率、召回率和f1_score都相等，值为$\n$。</li>\n</ul></li>\n</ul>\n<div class=\"sourceCode\" id=\"cb52\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb52-1\"><a href=\"#cb52-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(dev_initializer) <span class=\"co\"># 初始化验证集的 initializer</span></span>\n<span id=\"cb52-2\"><a href=\"#cb52-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_scores,tf_trans_matrix,tf_dev_text,tf_dev_label,tf_dev_sequence_len <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb52-3\"><a href=\"#cb52-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    [scores,trans_matrix,X,Y,S]</span>\n<span id=\"cb52-4\"><a href=\"#cb52-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb52-5\"><a href=\"#cb52-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># viterbi_decode每次处理一个句子，这里因为我们设定的batch_size为1，可以直接通过reshape将该维去掉</span></span>\n<span id=\"cb52-6\"><a href=\"#cb52-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># 同时去掉句子的padding部分</span></span>\n<span id=\"cb52-7\"><a href=\"#cb52-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_sequence_len <span class=\"op\">=</span> <span class=\"bu\">int</span>(tf_dev_sequence_len)</span>\n<span id=\"cb52-8\"><a href=\"#cb52-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_text <span class=\"op\">=</span> tf_dev_text.reshape(max_length)[:tf_dev_sequence_len]</span>\n<span id=\"cb52-9\"><a href=\"#cb52-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-10\"><a href=\"#cb52-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_scores <span class=\"op\">=</span> tf_dev_scores.reshape(max_length,<span class=\"bu\">len</span>(label2id))[:tf_dev_sequence_len]</span>\n<span id=\"cb52-11\"><a href=\"#cb52-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_dev_label <span class=\"op\">=</span> tf_dev_label.reshape(max_length)[:tf_dev_sequence_len]</span>\n<span id=\"cb52-12\"><a href=\"#cb52-12\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-13\"><a href=\"#cb52-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># viterbi_decode传入的scores参数的shape应为[sequence_length,label_size],trans_matix应为[label_size，label_size]</span></span>\n<span id=\"cb52-14\"><a href=\"#cb52-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>viterbi_sequence,_ <span class=\"op\">=</span> tfa.text.viterbi_decode(tf_dev_scores,tf_trans_matrix)</span>\n<span id=\"cb52-15\"><a href=\"#cb52-15\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb52-16\"><a href=\"#cb52-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>correct_labels <span class=\"op\">=</span> np.<span class=\"bu\">sum</span>(np.equal(viterbi_sequence,tf_dev_label)) <span class=\"co\"># 预测正确的标签数</span></span>\n<span id=\"cb52-17\"><a href=\"#cb52-17\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(<span class=\"st\">&quot;f1_score:</span><span class=\"sc\">&#123;&#125;</span><span class=\"st\">&quot;</span>.<span class=\"bu\">format</span>(correct_labels <span class=\"op\">/</span> tf_dev_sequence_len))</span>\n<span id=\"cb52-18\"><a href=\"#cb52-18\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(viterbi_sequence)</span></code></pre></div>\n<pre><code>f1_score:0.463768115942029\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 0]</code></pre>\n<h4 id=\"命名实体识别模型预测\">命名实体识别模型预测</h4>\n<h5 id=\"加载模型\">加载模型</h5>\n<div class=\"sourceCode\" id=\"cb54\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb54-1\"><a href=\"#cb54-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess <span class=\"op\">=</span> tf.compat.v1.Session()</span>\n<span id=\"cb54-2\"><a href=\"#cb54-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>saver.restore(sess,<span class=\"st\">&quot;model/my_model&quot;</span>) <span class=\"co\">#加载模型参数</span></span>\n<span id=\"cb54-3\"><a href=\"#cb54-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.run(test_initializer)  <span class=\"co\"># 初始化测试集的initializer</span></span>\n<span id=\"cb54-4\"><a href=\"#cb54-4\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-5\"><a href=\"#cb54-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_scores,tf_test_matrix,tf_test_text,tf_test_label,tf_test_sequence_len <span class=\"op\">=</span> sess.run(</span>\n<span id=\"cb54-6\"><a href=\"#cb54-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    [scores,trans_matrix,X,Y,S]</span>\n<span id=\"cb54-7\"><a href=\"#cb54-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>)</span>\n<span id=\"cb54-8\"><a href=\"#cb54-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_sequence_len <span class=\"op\">=</span> <span class=\"bu\">int</span>(tf_test_sequence_len)</span>\n<span id=\"cb54-9\"><a href=\"#cb54-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_text <span class=\"op\">=</span> tf_test_text.reshape(max_length)[:tf_test_sequence_len]</span>\n<span id=\"cb54-10\"><a href=\"#cb54-10\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-11\"><a href=\"#cb54-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_scores <span class=\"op\">=</span> tf_test_scores.reshape(max_length,<span class=\"bu\">len</span>(label2id))[:tf_test_sequence_len]</span>\n<span id=\"cb54-12\"><a href=\"#cb54-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>tf_test_label <span class=\"op\">=</span> tf_test_label.reshape(max_length)[:tf_test_sequence_len]</span>\n<span id=\"cb54-13\"><a href=\"#cb54-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-14\"><a href=\"#cb54-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>viterbi_sequence,_ <span class=\"op\">=</span> tfa.text.viterbi_decode(tf_test_scores,tf_trans_matrix)</span>\n<span id=\"cb54-15\"><a href=\"#cb54-15\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-16\"><a href=\"#cb54-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_test_text <span class=\"op\">=</span> [id2vocab[vocab] <span class=\"cf\">for</span> vocab <span class=\"kw\">in</span> tf_test_text] <span class=\"co\"># id转换为vocab</span></span>\n<span id=\"cb54-17\"><a href=\"#cb54-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_prediction_label <span class=\"op\">=</span> [id2label[label] <span class=\"cf\">for</span> label <span class=\"kw\">in</span> viterbi_sequence] <span class=\"co\"># id转换为label</span></span>\n<span id=\"cb54-18\"><a href=\"#cb54-18\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb54-19\"><a href=\"#cb54-19\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>([id2vocab[tf_test_text[index]] <span class=\"op\">+</span> <span class=\"st\">&#39;&#39;</span> <span class=\"op\">+</span> id2label[viterbi_sequence[index]] <span class=\"cf\">for</span> index <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"bu\">len</span>(tf_test_text))])</span>\n<span id=\"cb54-20\"><a href=\"#cb54-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>sess.close()</span></code></pre></div>\n<pre><code>INFO:tensorflow:Restoring parameters from model/my_model\n[&#39;我I-ORG&#39;, &#39;们I-ORG&#39;, &#39;变I-ORG&#39;, &#39;而O&#39;, &#39;以O&#39;, &#39;书O&#39;, &#39;会O&#39;, &#39;友O&#39;, &#39;，O&#39;, &#39;以O&#39;, &#39;书O&#39;, &#39;结O&#39;, &#39;缘O&#39;, &#39;，O&#39;, &#39;把O&#39;, &#39;欧O&#39;, &#39;美O&#39;, &#39;、O&#39;, &#39;港O&#39;, &#39;台O&#39;, &#39;流B-ORG&#39;, &#39;行I-ORG&#39;, &#39;的I-ORG&#39;, &#39;食I-ORG&#39;, &#39;品I-ORG&#39;, &#39;类I-ORG&#39;, &#39;图I-ORG&#39;, &#39;谱I-ORG&#39;, &#39;、I-ORG&#39;, &#39;画I-ORG&#39;, &#39;册I-ORG&#39;, &#39;、I-ORG&#39;, &#39;工I-ORG&#39;, &#39;具I-ORG&#39;, &#39;书I-ORG&#39;, &#39;汇I-ORG&#39;, &#39;集I-ORG&#39;, &#39;一I-ORG&#39;, &#39;堂I-ORG&#39;, &#39;。O&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb56\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb56-1\"><a href=\"#cb56-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_test_text</span></code></pre></div>\n<pre><code>[&#39;我&#39;,\n &#39;们&#39;,\n &#39;变&#39;,\n &#39;而&#39;,\n &#39;以&#39;,\n &#39;书&#39;,\n &#39;会&#39;,\n &#39;友&#39;,\n &#39;，&#39;,\n &#39;以&#39;,\n &#39;书&#39;,\n &#39;结&#39;,\n &#39;缘&#39;,\n &#39;，&#39;,\n &#39;把&#39;,\n &#39;欧&#39;,\n &#39;美&#39;,\n &#39;、&#39;,\n &#39;港&#39;,\n &#39;台&#39;,\n &#39;流&#39;,\n &#39;行&#39;,\n &#39;的&#39;,\n &#39;食&#39;,\n &#39;品&#39;,\n &#39;类&#39;,\n &#39;图&#39;,\n &#39;谱&#39;,\n &#39;、&#39;,\n &#39;画&#39;,\n &#39;册&#39;,\n &#39;、&#39;,\n &#39;工&#39;,\n &#39;具&#39;,\n &#39;书&#39;,\n &#39;汇&#39;,\n &#39;集&#39;,\n &#39;一&#39;,\n &#39;堂&#39;,\n &#39;。&#39;]</code></pre>\n<div class=\"sourceCode\" id=\"cb58\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb58-1\"><a href=\"#cb58-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>example_prediction_label </span></code></pre></div>\n<pre><code>[&#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;O&#39;,\n &#39;B-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;I-ORG&#39;,\n &#39;O&#39;]</code></pre>\n<h4 id=\"结果展示\">结果展示</h4>\n<div class=\"sourceCode\" id=\"cb60\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb60-1\"><a href=\"#cb60-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>exam_test_text <span class=\"op\">=</span> [<span class=\"st\">&#39;我&#39;</span>,<span class=\"st\">&#39;们&#39;</span>,<span class=\"st\">&#39;变&#39;</span>,<span class=\"st\">&#39;而&#39;</span>,<span class=\"st\">&#39;以&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;会&#39;</span>,<span class=\"st\">&#39;友&#39;</span>,<span class=\"st\">&#39;，&#39;</span>,<span class=\"st\">&#39;以&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;结&#39;</span>,<span class=\"st\">&#39;缘&#39;</span>,<span class=\"st\">&#39;，&#39;</span>,</span>\n<span id=\"cb60-2\"><a href=\"#cb60-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>                     <span class=\"st\">&#39;把&#39;</span>,<span class=\"st\">&#39;欧&#39;</span>,<span class=\"st\">&#39;美&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,<span class=\"st\">&#39;港&#39;</span>,<span class=\"st\">&#39;台&#39;</span>,<span class=\"st\">&#39;流&#39;</span>,<span class=\"st\">&#39;行&#39;</span>,<span class=\"st\">&#39;的&#39;</span>,<span class=\"st\">&#39;食&#39;</span>,<span class=\"st\">&#39;品&#39;</span>,<span class=\"st\">&#39;类&#39;</span>,<span class=\"st\">&#39;图&#39;</span>,<span class=\"st\">&#39;谱&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,</span>\n<span id=\"cb60-3\"><a href=\"#cb60-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>                     <span class=\"st\">&#39;画&#39;</span>,<span class=\"st\">&#39;册&#39;</span>,<span class=\"st\">&#39;、&#39;</span>,<span class=\"st\">&#39;工&#39;</span>,<span class=\"st\">&#39;具&#39;</span>,<span class=\"st\">&#39;书&#39;</span>,<span class=\"st\">&#39;汇&#39;</span>,<span class=\"st\">&#39;集&#39;</span>,<span class=\"st\">&#39;一&#39;</span>,<span class=\"st\">&#39;堂&#39;</span>,<span class=\"st\">&#39;。&#39;</span>]</span>\n<span id=\"cb60-4\"><a href=\"#cb60-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>exam_prediction_label <span class=\"op\">=</span> [<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,</span>\n<span id=\"cb60-5\"><a href=\"#cb60-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>                            <span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;B-LOC&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,</span>\n<span id=\"cb60-6\"><a href=\"#cb60-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>                            <span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>,<span class=\"st\">&#39;O&#39;</span>]</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb61\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb61-1\"><a href=\"#cb61-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">def</span> get_named_entity(text,labels):</span>\n<span id=\"cb61-2\"><a href=\"#cb61-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    named_entity_set <span class=\"op\">=</span> <span class=\"bu\">set</span>() <span class=\"co\">#去重，同一个实体只记录一次</span></span>\n<span id=\"cb61-3\"><a href=\"#cb61-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    named_entity_list <span class=\"op\">=</span> <span class=\"bu\">list</span>()</span>\n<span id=\"cb61-4\"><a href=\"#cb61-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    cur_type<span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-5\"><a href=\"#cb61-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>    is_entity <span class=\"op\">=</span> <span class=\"va\">False</span></span>\n<span id=\"cb61-6\"><a href=\"#cb61-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    tmp_named_entity<span class=\"op\">=</span> <span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-7\"><a href=\"#cb61-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>    </span>\n<span id=\"cb61-8\"><a href=\"#cb61-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">for</span> index <span class=\"kw\">in</span> <span class=\"bu\">range</span>(<span class=\"bu\">len</span>(text)):</span>\n<span id=\"cb61-9\"><a href=\"#cb61-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>        label <span class=\"op\">=</span> labels[index]</span>\n<span id=\"cb61-10\"><a href=\"#cb61-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> label <span class=\"op\">==</span><span class=\"st\">&#39;O&#39;</span> <span class=\"kw\">or</span> label[:<span class=\"dv\">2</span>] <span class=\"op\">==</span> <span class=\"st\">&#39;B-&#39;</span>: <span class=\"co\"># 可能是前一个实体的结束</span></span>\n<span id=\"cb61-11\"><a href=\"#cb61-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> is_entity <span class=\"op\">==</span> <span class=\"va\">True</span>: <span class=\"co\"># 一个实体的结束</span></span>\n<span id=\"cb61-12\"><a href=\"#cb61-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> tmp_named_entity <span class=\"kw\">not</span> <span class=\"kw\">in</span> named_entity_set:</span>\n<span id=\"cb61-13\"><a href=\"#cb61-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    named_entity_set.add(tmp_named_entity)</span>\n<span id=\"cb61-14\"><a href=\"#cb61-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    named_entity_list.append(&#123;<span class=\"st\">&#39;text&#39;</span>:tmp_named_entity,<span class=\"st\">&#39;type&#39;</span>:cur_type&#125;)</span>\n<span id=\"cb61-15\"><a href=\"#cb61-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>                </span>\n<span id=\"cb61-16\"><a href=\"#cb61-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>                is_entity <span class=\"op\">=</span><span class=\"va\">False</span></span>\n<span id=\"cb61-17\"><a href=\"#cb61-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>                tmp_named_entity <span class=\"op\">=</span><span class=\"st\">&#39;&#39;</span></span>\n<span id=\"cb61-18\"><a href=\"#cb61-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">if</span> label <span class=\"op\">==</span> <span class=\"st\">&#39;O&#39;</span>:</span>\n<span id=\"cb61-19\"><a href=\"#cb61-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">continue</span></span>\n<span id=\"cb61-20\"><a href=\"#cb61-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>            cur_type <span class=\"op\">=</span> label[<span class=\"dv\">2</span>:] <span class=\"co\"># 若为&#39;B-&#39;,说明此时是回一个实体的开头</span></span>\n<span id=\"cb61-21\"><a href=\"#cb61-21\" aria-hidden=\"true\" tabindex=\"-1\"></a>            is_entity <span class=\"op\">=</span><span class=\"va\">True</span></span>\n<span id=\"cb61-22\"><a href=\"#cb61-22\" aria-hidden=\"true\" tabindex=\"-1\"></a>            tmp_named_entity <span class=\"op\">+=</span> text[index]</span>\n<span id=\"cb61-23\"><a href=\"#cb61-23\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">else</span>: <span class=\"co\"># &#39;I-&#39;</span></span>\n<span id=\"cb61-24\"><a href=\"#cb61-24\" aria-hidden=\"true\" tabindex=\"-1\"></a>            tmp_named_entity <span class=\"op\">+=</span> text[index]</span>\n<span id=\"cb61-25\"><a href=\"#cb61-25\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"cf\">return</span> named_entity_list</span></code></pre></div>\n<div class=\"sourceCode\" id=\"cb62\"><pre class=\"sourceCode python\"><code class=\"sourceCode python\"><span id=\"cb62-1\"><a href=\"#cb62-1\" aria-hidden=\"true\" tabindex=\"-1\"></a>named_entity_list <span class=\"op\">=</span> get_named_entity(exam_test_text,exam_prediction_label)</span>\n<span id=\"cb62-2\"><a href=\"#cb62-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"bu\">print</span>(named_entity_list)</span></code></pre></div>\n<pre><code>[&#123;&#39;text&#39;: &#39;欧&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;美&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;港&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;, &#123;&#39;text&#39;: &#39;台&#39;, &#39;type&#39;: &#39;LOC&#39;&#125;]</code></pre>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"读书城南-在未来面前我们都是孩子\">👋 读书城南，🤔\n在未来面前，我们都是孩子～</h5>\n<ul>\n<li>📙\n一个热衷于探索学习新方向、新事物的智能产品经理，闲暇时间喜欢coding💻、画图🎨、音乐🎵、学习ing~</li>\n</ul>\n<h5 id=\"social-media\">👋 Social Media</h5>\n<ul>\n<li><p>🛠️ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>⚡ PM导航: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>☘️ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>🌱 AI PRJ自己部署的一些算法demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>📫 Email: 1450136519@qq.com</p></li>\n<li><p>💬 WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>💬 公众号: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"加入小组\">👋 加入小组~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"加入组织\" alt width=\"240\"></p>\n<h5 id=\"感谢打赏\">👋 感谢打赏~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"支付宝打赏\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"微信打赏\" alt width=\"140\"></p>\n","categories":[{"name":"Artificial Intelligence","path":"api/categories/Artificial Intelligence.json"},{"name":"Machine Learning","path":"api/categories/Machine Learning.json"},{"name":"Algorithm","path":"api/categories/Algorithm.json"}],"tags":[{"name":"Machine Learning","path":"api/tags/Machine Learning.json"},{"name":"Algorithm","path":"api/tags/Algorithm.json"},{"name":"NLP","path":"api/tags/NLP.json"},{"name":"LSTM","path":"api/tags/LSTM.json"},{"name":"NER","path":"api/tags/NER.json"},{"name":"CRF","path":"api/tags/CRF.json"},{"name":"tensorflow","path":"api/tags/tensorflow.json"}]}