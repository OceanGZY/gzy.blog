{"title":"直播类产品全接触","slug":"直播类产品全接触","date":"2019-01-17T13:30:00.000Z","updated":"2022-09-30T06:56:37.202Z","comments":true,"path":"api/articles/直播类产品全接触.json","excerpt":null,"covers":["https://oceaneyes.top/img/zhishigroup.jpg","https://oceaneyes.top/img/alipay.jpg","https://oceaneyes.top/img/wechatpay.jpg"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>直播基础知识</p>\n<ul>\n<li><p>直播基础知识</p>\n<ul>\n<li><p>直播为什么火</p>\n<ul>\n<li><p>基础条件成熟</p>\n<ul>\n<li>4G+wifi</li>\n<li>软硬件水平提升</li>\n<li>游戏行业的培养</li>\n<li>弹幕文化</li>\n</ul></li>\n<li><p>实时互动</p>\n<ul>\n<li>文字</li>\n<li>图片</li>\n<li>视频</li>\n</ul></li>\n<li><p>人性的驱动</p>\n<ul>\n<li>窥探欲</li>\n<li>炫耀</li>\n<li>虚荣</li>\n<li>色</li>\n</ul></li>\n</ul></li>\n<li><p>直播的特点</p></li>\n<li><ul>\n<li><p>点播</p>\n<ul>\n<li>视频网站看电视剧</li>\n<li>文件存在服务器上</li>\n<li>指定节目播放</li>\n</ul></li>\n<li><p>直播</p>\n<ul>\n<li>直播网站看主播</li>\n<li>数据实时发送</li>\n<li>内容可以更改</li>\n</ul></li>\n</ul></li>\n<li><p>直播的流程</p>\n<ul>\n<li><p>推流端</p>\n<ul>\n<li><p>采集 8000**2<em>16</em>0.02 = bit /8 = byte</p>\n<ul>\n<li><p>音频采集</p>\n<ul>\n<li><p>采样率</p>\n<ul>\n<li>模拟信号 转化为 数字的过程</li>\n<li>越大 音频质量越高</li>\n<li>例如 8kHz</li>\n</ul></li>\n<li><p>位宽</p>\n<ul>\n<li>一般8位</li>\n<li>例如 16bit</li>\n</ul></li>\n<li><p>声道数</p>\n<ul>\n<li>单/双</li>\n<li>例如：双</li>\n</ul></li>\n<li><p>音频帧</p>\n<ul>\n<li>2.5ms-60ms 约为一帧</li>\n<li>例如20ms</li>\n</ul></li>\n</ul></li>\n<li><p>图像采集</p>\n<ul>\n<li><p>分辨率</p>\n<ul>\n<li>长*宽</li>\n</ul></li>\n<li><p>采样频率</p></li>\n<li><p>采集格式</p></li>\n<li><p>传输通道</p></li>\n</ul></li>\n<li><p>采集源</p>\n<ul>\n<li>摄像头</li>\n<li>屏幕录制</li>\n<li>文件推流</li>\n</ul></li>\n<li><p>android采集</p>\n<ul>\n<li>setPreviewCallback</li>\n<li>MediaRecorder</li>\n<li>机型适配</li>\n</ul></li>\n<li><p>ios采集</p>\n<ul>\n<li>AVFoundation.framework</li>\n</ul></li>\n<li><p>pc采集</p>\n<ul>\n<li>mjpeg-streamer</li>\n<li>摄像头</li>\n</ul></li>\n</ul></li>\n<li><p>前处理</p>\n<ul>\n<li><p>视频处理</p>\n<ul>\n<li><p>美颜</p>\n<ul>\n<li>美白——算法识别皮肤轮廓，调整色值</li>\n<li>磨皮——模糊处理 均值模糊、高斯模糊、中值模糊</li>\n</ul></li>\n<li><p>滤镜</p>\n<ul>\n<li>GPUImage</li>\n</ul></li>\n<li><p>水印</p>\n<ul>\n<li>图像与水印图片的合并</li>\n</ul></li>\n</ul></li>\n<li><p>音频处理</p>\n<ul>\n<li><p>混音</p>\n<ul>\n<li>伴奏</li>\n<li>音频信号的叠加，采样值溢出的处理</li>\n</ul></li>\n<li><p>降噪</p>\n<ul>\n<li>20Hz - 2000Hz</li>\n<li>傅里叶变换、滤波法</li>\n</ul></li>\n<li><p>特效</p>\n<ul>\n<li>变声</li>\n<li>改变音色、色调， SoundTouch</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li><p>编码</p>\n<ul>\n<li><p>必要性</p>\n<ul>\n<li>压缩数据</li>\n<li>减少传输时间</li>\n</ul></li>\n<li><p>编码原理</p>\n<ul>\n<li><p>空间冗余</p>\n<ul>\n<li>相邻元素之间的相关性</li>\n</ul></li>\n<li><p>时间冗余</p>\n<ul>\n<li>相邻图像之间的内容相似</li>\n</ul></li>\n<li><p>编码冗余</p>\n<ul>\n<li>像素值出现的概率不同</li>\n</ul></li>\n<li><p>视觉冗余</p>\n<ul>\n<li>视觉对细节的不敏感性</li>\n</ul></li>\n<li><p>H264 编码</p>\n<ul>\n<li>NALU:网络提取层单元</li>\n<li>SPS：包括了一个图像序列的所有信息</li>\n<li>PPS：包含了一个图像序列所有片的信息</li>\n<li>I帧：帧内编码帧</li>\n<li>P帧：前向预测编码帧</li>\n<li>B帧：双向预测编码帧</li>\n</ul></li>\n<li><p>AAC 音频</p></li>\n<li><p>FLV，TS封装格式</p></li>\n</ul></li>\n</ul></li>\n<li><p>推流</p>\n<ul>\n<li><p>推流协议</p>\n<ul>\n<li><p>RTMP</p>\n<ul>\n<li><p>优点</p>\n<ul>\n<li>CDN支持良好</li>\n<li>协议简单易实现</li>\n</ul></li>\n<li><p>缺点</p>\n<ul>\n<li>基于TCP，传输成本高</li>\n<li>不支持浏览器推送</li>\n<li>Adobe私有协议</li>\n</ul></li>\n</ul></li>\n<li><p>WebRTC</p>\n<ul>\n<li>W3C标准</li>\n<li>基于udp</li>\n<li>CDN支持较差</li>\n</ul></li>\n<li><p>UDP自定义协议</p>\n<ul>\n<li>定制化空间大</li>\n<li>协议私有化</li>\n<li>开发成本高</li>\n<li>CDN支持不太好</li>\n</ul></li>\n</ul></li>\n<li><p>推流优化思路</p>\n<ul>\n<li>保证音频的传输</li>\n<li>调整码率、FPS、分辨率</li>\n<li>减少传输的数据</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li><p>服务端</p>\n<ul>\n<li><p>转码</p>\n<ul>\n<li>适应不同网络带宽</li>\n<li>适应不同终端处理</li>\n<li>适应不同的用户需求</li>\n<li>为直播平台提供增值服务</li>\n<li>直播为实时转码，对图像计算要求较高，保证音画同步</li>\n</ul></li>\n<li><p>录制</p></li>\n<li><p>截图</p>\n<ul>\n<li>制作封面</li>\n</ul></li>\n<li><p>鉴黄</p></li>\n</ul></li>\n<li><p>播放端</p>\n<ul>\n<li><p>拉流</p>\n<ul>\n<li>HTTP-FLV 即时性较高，互动性需求</li>\n<li>HLS 回放需求，跨平台需求</li>\n<li>RTMP 即时性较高，互动性需求</li>\n</ul></li>\n<li><p>解码</p>\n<ul>\n<li><p>编码的逆过程</p></li>\n<li><p>从音频数据提取原始数据</p></li>\n<li><p>硬解码</p>\n<ul>\n<li>速度快</li>\n<li>不易发热</li>\n</ul></li>\n<li><p>软解码</p></li>\n</ul></li>\n<li><p>渲染</p>\n<ul>\n<li>视频画面的显示</li>\n<li>声音的播放</li>\n<li>音画一致</li>\n</ul></li>\n</ul></li>\n<li><p>互动系统</p>\n<ul>\n<li><p>聊天</p>\n<ul>\n<li>弹幕</li>\n</ul></li>\n<li><p>礼物</p>\n<ul>\n<li>平台收入来源</li>\n<li>增加画面感，提高互动效果</li>\n<li>自定义消息</li>\n</ul></li>\n<li><p>关注</p></li>\n<li><p>点赞</p></li>\n</ul></li>\n</ul></li>\n<li><p>直播开发的辅助工具</p>\n<ul>\n<li><p>推流端OBS Studio</p></li>\n<li><p>播放端 CUTV测试工具</p>\n<ul>\n<li>流信息展示丰富</li>\n<li>可设置缓冲时间</li>\n<li>网页版</li>\n</ul></li>\n<li><p>softe AAC Converter 转化为aac音频</p></li>\n<li><p>H264BSAnalyzer 分析H264视频格式</p></li>\n<li><p>FlvParse -分析FLV</p></li>\n<li><p>yuvplayer -播放yuv文件</p></li>\n</ul></li>\n</ul></li>\n</ul>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"读书城南-在未来面前我们都是孩子\">👋 读书城南，🤔\n在未来面前，我们都是孩子～</h5>\n<ul>\n<li>📙\n一个热衷于探索学习新方向、新事物的智能产品经理，闲暇时间喜欢coding💻、画图🎨、音乐🎵、学习ing~</li>\n</ul>\n<h5 id=\"social-media\">👋 Social Media</h5>\n<ul>\n<li><p>🛠️ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>⚡ PM导航: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>☘️ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>🌱 AI PRJ自己部署的一些算法demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>📫 Email: 1450136519@qq.com</p></li>\n<li><p>💬 WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>💬 公众号: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"加入小组\">👋 加入小组~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"加入组织\" alt width=\"240\"></p>\n<h5 id=\"感谢打赏\">👋 感谢打赏~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"支付宝打赏\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"微信打赏\" alt width=\"140\"></p>\n","more":"<p>直播基础知识</p>\n<ul>\n<li><p>直播基础知识</p>\n<ul>\n<li><p>直播为什么火</p>\n<ul>\n<li><p>基础条件成熟</p>\n<ul>\n<li>4G+wifi</li>\n<li>软硬件水平提升</li>\n<li>游戏行业的培养</li>\n<li>弹幕文化</li>\n</ul></li>\n<li><p>实时互动</p>\n<ul>\n<li>文字</li>\n<li>图片</li>\n<li>视频</li>\n</ul></li>\n<li><p>人性的驱动</p>\n<ul>\n<li>窥探欲</li>\n<li>炫耀</li>\n<li>虚荣</li>\n<li>色</li>\n</ul></li>\n</ul></li>\n<li><p>直播的特点</p></li>\n<li><ul>\n<li><p>点播</p>\n<ul>\n<li>视频网站看电视剧</li>\n<li>文件存在服务器上</li>\n<li>指定节目播放</li>\n</ul></li>\n<li><p>直播</p>\n<ul>\n<li>直播网站看主播</li>\n<li>数据实时发送</li>\n<li>内容可以更改</li>\n</ul></li>\n</ul></li>\n<li><p>直播的流程</p>\n<ul>\n<li><p>推流端</p>\n<ul>\n<li><p>采集 8000**2<em>16</em>0.02 = bit /8 = byte</p>\n<ul>\n<li><p>音频采集</p>\n<ul>\n<li><p>采样率</p>\n<ul>\n<li>模拟信号 转化为 数字的过程</li>\n<li>越大 音频质量越高</li>\n<li>例如 8kHz</li>\n</ul></li>\n<li><p>位宽</p>\n<ul>\n<li>一般8位</li>\n<li>例如 16bit</li>\n</ul></li>\n<li><p>声道数</p>\n<ul>\n<li>单/双</li>\n<li>例如：双</li>\n</ul></li>\n<li><p>音频帧</p>\n<ul>\n<li>2.5ms-60ms 约为一帧</li>\n<li>例如20ms</li>\n</ul></li>\n</ul></li>\n<li><p>图像采集</p>\n<ul>\n<li><p>分辨率</p>\n<ul>\n<li>长*宽</li>\n</ul></li>\n<li><p>采样频率</p></li>\n<li><p>采集格式</p></li>\n<li><p>传输通道</p></li>\n</ul></li>\n<li><p>采集源</p>\n<ul>\n<li>摄像头</li>\n<li>屏幕录制</li>\n<li>文件推流</li>\n</ul></li>\n<li><p>android采集</p>\n<ul>\n<li>setPreviewCallback</li>\n<li>MediaRecorder</li>\n<li>机型适配</li>\n</ul></li>\n<li><p>ios采集</p>\n<ul>\n<li>AVFoundation.framework</li>\n</ul></li>\n<li><p>pc采集</p>\n<ul>\n<li>mjpeg-streamer</li>\n<li>摄像头</li>\n</ul></li>\n</ul></li>\n<li><p>前处理</p>\n<ul>\n<li><p>视频处理</p>\n<ul>\n<li><p>美颜</p>\n<ul>\n<li>美白——算法识别皮肤轮廓，调整色值</li>\n<li>磨皮——模糊处理 均值模糊、高斯模糊、中值模糊</li>\n</ul></li>\n<li><p>滤镜</p>\n<ul>\n<li>GPUImage</li>\n</ul></li>\n<li><p>水印</p>\n<ul>\n<li>图像与水印图片的合并</li>\n</ul></li>\n</ul></li>\n<li><p>音频处理</p>\n<ul>\n<li><p>混音</p>\n<ul>\n<li>伴奏</li>\n<li>音频信号的叠加，采样值溢出的处理</li>\n</ul></li>\n<li><p>降噪</p>\n<ul>\n<li>20Hz - 2000Hz</li>\n<li>傅里叶变换、滤波法</li>\n</ul></li>\n<li><p>特效</p>\n<ul>\n<li>变声</li>\n<li>改变音色、色调， SoundTouch</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li><p>编码</p>\n<ul>\n<li><p>必要性</p>\n<ul>\n<li>压缩数据</li>\n<li>减少传输时间</li>\n</ul></li>\n<li><p>编码原理</p>\n<ul>\n<li><p>空间冗余</p>\n<ul>\n<li>相邻元素之间的相关性</li>\n</ul></li>\n<li><p>时间冗余</p>\n<ul>\n<li>相邻图像之间的内容相似</li>\n</ul></li>\n<li><p>编码冗余</p>\n<ul>\n<li>像素值出现的概率不同</li>\n</ul></li>\n<li><p>视觉冗余</p>\n<ul>\n<li>视觉对细节的不敏感性</li>\n</ul></li>\n<li><p>H264 编码</p>\n<ul>\n<li>NALU:网络提取层单元</li>\n<li>SPS：包括了一个图像序列的所有信息</li>\n<li>PPS：包含了一个图像序列所有片的信息</li>\n<li>I帧：帧内编码帧</li>\n<li>P帧：前向预测编码帧</li>\n<li>B帧：双向预测编码帧</li>\n</ul></li>\n<li><p>AAC 音频</p></li>\n<li><p>FLV，TS封装格式</p></li>\n</ul></li>\n</ul></li>\n<li><p>推流</p>\n<ul>\n<li><p>推流协议</p>\n<ul>\n<li><p>RTMP</p>\n<ul>\n<li><p>优点</p>\n<ul>\n<li>CDN支持良好</li>\n<li>协议简单易实现</li>\n</ul></li>\n<li><p>缺点</p>\n<ul>\n<li>基于TCP，传输成本高</li>\n<li>不支持浏览器推送</li>\n<li>Adobe私有协议</li>\n</ul></li>\n</ul></li>\n<li><p>WebRTC</p>\n<ul>\n<li>W3C标准</li>\n<li>基于udp</li>\n<li>CDN支持较差</li>\n</ul></li>\n<li><p>UDP自定义协议</p>\n<ul>\n<li>定制化空间大</li>\n<li>协议私有化</li>\n<li>开发成本高</li>\n<li>CDN支持不太好</li>\n</ul></li>\n</ul></li>\n<li><p>推流优化思路</p>\n<ul>\n<li>保证音频的传输</li>\n<li>调整码率、FPS、分辨率</li>\n<li>减少传输的数据</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li><p>服务端</p>\n<ul>\n<li><p>转码</p>\n<ul>\n<li>适应不同网络带宽</li>\n<li>适应不同终端处理</li>\n<li>适应不同的用户需求</li>\n<li>为直播平台提供增值服务</li>\n<li>直播为实时转码，对图像计算要求较高，保证音画同步</li>\n</ul></li>\n<li><p>录制</p></li>\n<li><p>截图</p>\n<ul>\n<li>制作封面</li>\n</ul></li>\n<li><p>鉴黄</p></li>\n</ul></li>\n<li><p>播放端</p>\n<ul>\n<li><p>拉流</p>\n<ul>\n<li>HTTP-FLV 即时性较高，互动性需求</li>\n<li>HLS 回放需求，跨平台需求</li>\n<li>RTMP 即时性较高，互动性需求</li>\n</ul></li>\n<li><p>解码</p>\n<ul>\n<li><p>编码的逆过程</p></li>\n<li><p>从音频数据提取原始数据</p></li>\n<li><p>硬解码</p>\n<ul>\n<li>速度快</li>\n<li>不易发热</li>\n</ul></li>\n<li><p>软解码</p></li>\n</ul></li>\n<li><p>渲染</p>\n<ul>\n<li>视频画面的显示</li>\n<li>声音的播放</li>\n<li>音画一致</li>\n</ul></li>\n</ul></li>\n<li><p>互动系统</p>\n<ul>\n<li><p>聊天</p>\n<ul>\n<li>弹幕</li>\n</ul></li>\n<li><p>礼物</p>\n<ul>\n<li>平台收入来源</li>\n<li>增加画面感，提高互动效果</li>\n<li>自定义消息</li>\n</ul></li>\n<li><p>关注</p></li>\n<li><p>点赞</p></li>\n</ul></li>\n</ul></li>\n<li><p>直播开发的辅助工具</p>\n<ul>\n<li><p>推流端OBS Studio</p></li>\n<li><p>播放端 CUTV测试工具</p>\n<ul>\n<li>流信息展示丰富</li>\n<li>可设置缓冲时间</li>\n<li>网页版</li>\n</ul></li>\n<li><p>softe AAC Converter 转化为aac音频</p></li>\n<li><p>H264BSAnalyzer 分析H264视频格式</p></li>\n<li><p>FlvParse -分析FLV</p></li>\n<li><p>yuvplayer -播放yuv文件</p></li>\n</ul></li>\n</ul></li>\n</ul>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"读书城南-在未来面前我们都是孩子\">👋 读书城南，🤔\n在未来面前，我们都是孩子～</h5>\n<ul>\n<li>📙\n一个热衷于探索学习新方向、新事物的智能产品经理，闲暇时间喜欢coding💻、画图🎨、音乐🎵、学习ing~</li>\n</ul>\n<h5 id=\"social-media\">👋 Social Media</h5>\n<ul>\n<li><p>🛠️ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>⚡ PM导航: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>☘️ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>🌱 AI PRJ自己部署的一些算法demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>📫 Email: 1450136519@qq.com</p></li>\n<li><p>💬 WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>💬 公众号: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"加入小组\">👋 加入小组~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"加入组织\" alt width=\"240\"></p>\n<h5 id=\"感谢打赏\">👋 感谢打赏~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"支付宝打赏\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"微信打赏\" alt width=\"140\"></p>\n","categories":[{"name":"产品","path":"api/categories/产品.json"},{"name":"内容产品","path":"api/categories/内容产品.json"},{"name":"直播","path":"api/categories/直播.json"}],"tags":[{"name":"直播","path":"api/tags/直播.json"},{"name":"视频","path":"api/tags/视频.json"}]}