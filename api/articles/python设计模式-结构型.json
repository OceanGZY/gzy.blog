{"title":"Pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹","slug":"pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹","date":"2022-06-01T15:33:00.000Z","updated":"2022-09-30T06:56:37.181Z","comments":true,"path":"api/articles/pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹.json","excerpt":null,"covers":["https://oceaneyes.top/img/zhishigroup.jpg","https://oceaneyes.top/img/alipay.jpg","https://oceaneyes.top/img/wechatpay.jpg"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹é€‚é…å™¨æ¨¡å¼è£…é¥°è€…æ¨¡å¼ä»£ç†æ¨¡å¼ç»„åˆæ¨¡å¼å¤–è§‚æ¨¡å¼\">Pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹ï¼šé€‚é…å™¨æ¨¡å¼,è£…é¥°è€…æ¨¡å¼,ä»£ç†æ¨¡å¼,ç»„åˆæ¨¡å¼,å¤–è§‚æ¨¡å¼</h2>\n<ul>\n<li>é€‚é…å™¨æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>è£…é¥°è€…æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>ä»£ç†æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>ç»„åˆæ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>å¤–è§‚æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n</ul>\n<h3 id=\"é€‚é…å™¨æ¨¡å¼-adapter\">é€‚é…å™¨æ¨¡å¼ adapter</h3>\n<p>ç”µå­äº§å“çš„ç”µæºæ’å¤´æ’åœ¨è½¬æ¢æ’å¤´ä¸Šï¼Œç„¶åè½¬æ¢æ’å¤´æ’ä¸Šç”µæºï¼Œç”µå­äº§å“å°±èƒ½æ­£å¸¸å·¥ä½œäº†ã€‚è¿™å°±æ˜¯é€‚é…å™¨æ¨¡å¼</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nclass OldCourse(object):\n    &quot;&quot;&quot;\n    è€çš„è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n\n    def show(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå…³äºæœ¬è¯¾ç¨‹çš„æ‰€æœ‰ä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show description&quot;)\n        print(&quot;show teacher of course&quot;)\n        print(&quot;show labs&quot;)\n\n\nclass Page(object):\n    &quot;&quot;&quot;\n    ä½¿ç”¨è¯¾ç¨‹å¯¹è±¡çš„å®¢æˆ·ç«¯\n    &quot;&quot;&quot;\n\n    def __init__(self, course):\n        self.course = course\n\n    def render(self):\n        self.course.show()\n\n\nclass NewCourse(object):\n    &quot;&quot;&quot;\n    æ–°çš„è¯¾ç¨‹ç±», ä¸ºäº†æ¨¡å—åŒ–æ˜¾ç¤ºè¯¾ç¨‹ä¿¡æ¯ï¼Œå®ç°äº†æ–°çš„è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n    def show_desc(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºæè¿°ä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show description&quot;)\n\n    def show_teacher(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºè€å¸ˆä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show teacher of course&quot;)\n\n    def show_labs(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå®éªŒ\n        &quot;&quot;&quot;\n        print(&quot;show labs&quot;)\n\n\nclass Adapter(object):\n    &quot;&quot;&quot;\n    é€‚é…å™¨, å°½ç®¡å®ç°äº†æ–°çš„è¯¾ç¨‹ç±»ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šä»£ç ä¸­è¿˜æ˜¯éœ€è¦ä½¿ç”¨ OldCourse.show() æ–¹æ³•\n    &quot;&quot;&quot;\n\n    def __init__(self, course):\n        self.course = course\n\n    def show(self):\n        &quot;&quot;&quot;\n        é€‚é…æ–¹æ³•ï¼Œè°ƒç”¨çœŸæ­£çš„æ“ä½œ\n        &quot;&quot;&quot;\n        self.course.show_desc()\n        self.course.show_teacher()\n        self.course.show_labs()\n\n\nif __name__ == &#39;__main__&#39;:\n    old_course = OldCourse()\n    page = Page(old_course)\n    page.render()\n    print(&quot;&quot;)\n    new_course = NewCourse()\n    # æ–°è¯¾ç¨‹ç±»æ²¡æœ‰ show æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€‚é…å™¨è¿›è¡Œé€‚é…\n    adapter = Adapter(new_course)\n    page = Page(adapter)\n    page.render()</code></pre>\n<p><strong>é€‚é…å™¨æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªç±»çš„æ¥å£å˜æ¢æˆå®¢æˆ·ç«¯æ‰€æœŸå¾…çš„å¦ä¸€ç§æ¥å£ï¼Œä½¿åŸæœ¬å› æ¥å£ä¸å…¼å®¹è€Œæ— æ³•åœ¨ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œã€‚</strong></p>\n<h3 id=\"è£…é¥°è€…æ¨¡å¼-decorator\">è£…é¥°è€…æ¨¡å¼ Decorator</h3>\n<p>è£…é¥°è€…æ¨¡å¼èƒ½åŠ¨æ€çš„ç»™å¯¹è±¡æ·»åŠ è¡Œä¸ºã€‚å¦‚æœä½ å¯¹ Flask\næ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼Œåº”è¯¥çŸ¥é“åœ¨ä½¿ç”¨ Flask-Login çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ login_required\nè£…é¥°å™¨åŒ…è£…ä¸€ä¸ªéœ€è¦ç”¨æˆ·ç™»å½•è®¿é—®çš„view</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nfrom functools import wraps\n\nHOST_DOCKER = 0\n\n\ndef docker_host_required(f):\n    &quot;&quot;&quot;\n    è£…é¥°å™¨ï¼Œå¿…é¡»è¦æ±‚ host ç±»å‹æ˜¯ HOST_DOCKER\n    &quot;&quot;&quot;\n    @wraps(f)\n    def wrapper(*args, **kwargs):\n        if args[0].type != HOST_DOCKER:\n            raise Exception(&quot;Not docker host&quot;)\n        else:\n            return f(*args, **kwargs)\n    return wrapper\n\n\nclass Host(object):\n    &quot;&quot;&quot;\n    host ç±»\n    &quot;&quot;&quot;\n\n    def __init__(self, type):\n        self.type = type\n\n    # è£…é¥°è¿™ä¸€æ–¹æ³•\n    @docker_host_required\n    def create_container(self):\n        print(&quot;create container&quot;)\n\n\nif __name__ == &#39;__main__&#39;:\n    # åˆå§‹åŒ– Host\n    host = Host(HOST_DOCKER)\n    host.create_container()\n    print(&quot;&quot;)\n    # å†æ¬¡åˆå§‹åŒ– Host\n    host = Host(1)\n    host.create_container()</code></pre>\n<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒHostæœ‰ä¸€ä¸ªæ–¹æ³•Host.create_containerï¼Œåªæœ‰å½“Hostå®ä¾‹çš„ç±»å‹æ˜¯DOCKER_HOSTçš„æ—¶å€™æ‰èƒ½æ‰§è¡Œè¯¥æ–¹æ³•ã€‚ä¸ºäº†åŠ ä¸Šè¿™ä¸€è¡Œä¸ºï¼Œæˆ‘ä»¬ä½¿ç”¨äº†è£…é¥°è€…æ¨¡å¼ã€‚å¯ä»¥çœ‹å‡ºä½¿ç”¨è£…é¥°è€…æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€æ”¹å˜ç±»çš„è¡Œä¸ºï¼ŒåŒæ—¶èƒ½æé«˜ä»£ç å¤ç”¨æ€§ï¼Œå› ä¸ºä»»ä½•ç±»å‹ä¸ºHOST_DOCKERçš„Hostéƒ½å¯ä»¥ä½¿ç”¨è¯¥è£…é¥°å™¨ã€‚å¦å¤–è¦è¯´æ˜ä¸‹ï¼šä¸ºäº†æ›´å¥½çš„å®ç°è£…é¥°å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨functools.wrapå‡½æ•°ã€‚</p>\n<h3 id=\"ä»£ç†æ¨¡å¼-proxy\">ä»£ç†æ¨¡å¼ proxy</h3>\n<p>æ‰€è°“ä»£ç†æ¨¡å¼å°±æ˜¯ç»™ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—®ã€‚é€šè¿‡ä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è®¿é—®åšä¸€äº›æ§åˆ¶ã€‚åœ¨å¼€å‘ç½‘ç«™çš„è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹ä¸€äº›é¢‘ç¹è®¿é—®çš„èµ„æºï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç¼“å­˜ã€‚</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nfrom time import sleep\n\n\nclass Redis(object):\n    &quot;&quot;&quot;\n    ç”¨äºæ¨¡æ‹Ÿ redis æœåŠ¡\n    &quot;&quot;&quot;\n\n    def __init__(self):\n        &quot;&quot;&quot;\n        ä½¿ç”¨å­—å…¸å­˜å‚¨æ•°æ®\n        &quot;&quot;&quot;\n        self.cache = dict()\n\n    def get(self, key):\n        &quot;&quot;&quot;\n        è·å–æ•°æ®\n        &quot;&quot;&quot;\n        return self.cache.get(key)\n\n    def set(self, key, value):\n        &quot;&quot;&quot;\n        è®¾ç½®æ•°æ®\n        &quot;&quot;&quot;\n        self.cache[key] = value\n\n\nclass Image(object):\n    &quot;&quot;&quot;\n    å›¾ç‰‡å¯¹è±¡ï¼Œå›¾ç‰‡å­˜åœ¨ä¸ƒç‰›äº‘å­˜å‚¨ä¸­ï¼Œæˆ‘ä»¬åªä¿å­˜äº†ä¸€ä¸ªåœ°å€\n    &quot;&quot;&quot;\n\n    def __init__(self, name):\n        self.name = name\n\n    @property\n    def url(self):\n        sleep(2)\n        return &quot;https://dn-syl-static.qbox.me/img/logo-transparent.png&quot;\n\n\nclass Page(object):\n    &quot;&quot;&quot;\n    ç”¨äºæ˜¾ç¤ºå›¾ç‰‡\n    &quot;&quot;&quot;\n\n    def __init__(self, image):\n        &quot;&quot;&quot;\n        éœ€è¦å›¾ç‰‡è¿›è¡Œåˆå§‹åŒ–\n        &quot;&quot;&quot;\n        self.image = image\n\n    def render(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå›¾ç‰‡\n        &quot;&quot;&quot;\n        print(self.image.url)\n\n\nredis = Redis()\n\n\nclass ImageProxy(object):\n    &quot;&quot;&quot;\n    å›¾ç‰‡ä»£ç†ï¼Œé¦–æ¬¡è®¿é—®ä¼šä»çœŸæ­£çš„å›¾ç‰‡å¯¹è±¡ä¸­è·å–åœ°å€ï¼Œä»¥åéƒ½ä» Redis ç¼“å­˜ä¸­è·å–\n    &quot;&quot;&quot;\n\n    def __init__(self, image):\n        self.image = image\n\n    @property\n    def url(self):\n        addr = redis.get(self.image.name)\n        if not addr:\n            addr = self.image.url\n            print(&quot;Set url in redis cache!&quot;)\n            redis.set(self.image.name, addr)\n        else:\n            print(&quot;Get url from redis cache!&quot;)\n        return addr\n\n\nif __name__ == &#39;__main__&#39;:\n    img = Image(name=&quot;logo&quot;)\n    proxy = ImageProxy(img)\n    page = Page(proxy)\n    # é¦–æ¬¡è®¿é—®\n    page.render()\n    print(&quot;&quot;)\n    # ç¬¬äºŒæ¬¡è®¿é—®\n    page.render()</code></pre>\n<p>ä»£ç†å¯¹è±¡å’ŒçœŸå®çš„å¯¹è±¡ä¹‹é—´éƒ½å®ç°äº†å…±åŒçš„æ¥å£ï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜åŸæ¥å£æƒ…å†µä¸‹ï¼Œä½¿ç”¨çœŸå®å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ä»£ç†å¯¹è±¡ã€‚å…¶æ¬¡ï¼Œä»£ç†å¯¹è±¡åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´ç›´æ¥èµ·åˆ°äº†ä¸­ä»‹ä½œç”¨ï¼ŒåŒæ—¶é€šè¿‡ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å°†å®¢æˆ·è¯·æ±‚ä¼ é€’ç»™çœŸå®å¯¹è±¡ä¹‹å‰åšä¸€äº›å¿…è¦çš„é¢„å¤„ç†ã€‚</p>\n<h3 id=\"ç»„åˆæ¨¡å¼-composite\">ç»„åˆæ¨¡å¼ composite</h3>\n<p>ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼ï¼ŸæŒ‰ç…§å®šä¹‰æ¥è¯´ï¼Œç»„åˆæ¨¡å¼æ˜¯å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„è¡¨ç¤ºï¼Œä½¿å¾—å®¢æˆ·ç«¯å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ç»„åˆæ¨¡å¼çš„ä½¿ç”¨é€šå¸¸ä¼šç”Ÿæˆä¸€æ£µå¯¹è±¡æ ‘ï¼Œå¯¹è±¡æ ‘ä¸­çš„å¶å­ç»“ç‚¹ä»£è¡¨å•ä¸ªå¯¹è±¡ï¼Œå…¶ä»–èŠ‚ç‚¹ä»£è¡¨ç»„åˆå¯¹è±¡ã€‚è°ƒç”¨æŸä¸€ç»„åˆå¯¹è±¡çš„æ–¹æ³•ï¼Œå…¶å®ä¼šè¿­ä»£è°ƒç”¨æ‰€æœ‰å…¶å¶å­å¯¹è±¡çš„æ–¹æ³•ã€‚</p>\n<p>ä½¿ç”¨ç»„åˆæ¨¡å¼çš„ç»å…¸ä¾‹å­æ˜¯ Linux\nç³»ç»Ÿå†…çš„æ ‘å½¢èœå•å’Œæ–‡ä»¶ç³»ç»Ÿã€‚åœ¨æ ‘å½¢èœå•ä¸­ï¼Œæ¯ä¸€é¡¹èœå•å¯èƒ½æ˜¯ä¸€ä¸ªç»„åˆå¯¹è±¡ï¼Œå…¶åŒ…å«äº†èœå•é¡¹å’Œå­èœå•ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€æ£µå¯¹è±¡æ ‘ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¶å­å¯¹è±¡å°±æ˜¯æ–‡ä»¶ï¼Œè€Œæ–‡ä»¶å¤¹å°±æ˜¯ç»„åˆå¯¹è±¡ï¼Œæ–‡ä»¶å¤¹å¯ä»¥åŒ…å«æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼ŒåŒæ ·åˆå½¢æˆäº†ä¸€æ£µå¯¹è±¡æ ‘ã€‚åŒæ ·çš„ä¾‹å­è¿˜æœ‰å‘˜å·¥å’Œé¢†å¯¼ä¹‹é—´çš„å…³ç³»</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nimport abc\n\n\nclass Worker(object):\n    &quot;&quot;&quot;\n    å‘˜å·¥æŠ½è±¡ç±»\n    &quot;&quot;&quot;\n    __metaclass__ = abc.ABCMeta\n\n    def __init__(self, name):\n        self.name = name\n\n    @abc.abstractmethod\n    def work(self):\n        pass\n\n\nclass Employe(Worker):\n    &quot;&quot;&quot;\n    å‘˜å·¥ç±»\n    &quot;&quot;&quot;\n    __metaclass__ = abc.ABCMeta\n\n    def work(self):\n        print(&quot;Employ: %s start to work &quot; % self.name)\n\n\nclass Leader(Worker):\n    &quot;&quot;&quot;\n    é¢†å¯¼ç±»\n    &quot;&quot;&quot;\n\n    def __init__(self, name):\n        self.members = []\n        super(Leader, self).__init__(name)\n\n    def add_member(self, employe):\n        if employe not in self.members:\n            self.members.append(employe)\n\n    def remove_member(self, employe):\n        if employe in self.members:\n            self.members.remove(employe)\n\n    def work(self):\n        print(&quot;Leader: %s start to work&quot; % self.name)\n        for employe in self.members:\n            employe.work()\n\n\nif __name__ == &#39;__main__&#39;:\n    employe_1 = Employe(&quot;employe_1&quot;)\n    employe_2 = Employe(&quot;employe_2&quot;)\n    leader_1 = Leader(&quot;leader_1&quot;)\n    leader_1.add_member(employe_1)\n    leader_1.add_member(employe_2)\n\n    employe_3 = Employe(&quot;employe_3&quot;)\n    leader_2 = Leader(&quot;leader_2&quot;)\n    leader_2.add_member(employe_3)\n    leader_2.add_member(leader_1)\n\n    leader_2.work()</code></pre>\n<h3 id=\"å¤–è§‚æ¨¡å¼-facade\">å¤–è§‚æ¨¡å¼ facade</h3>\n<p>æ‰€è°“å¤–è§‚æ¨¡å¼ï¼Œå°±æ˜¯å°†å„ç§å­ç³»ç»Ÿçš„å¤æ‚æ“ä½œé€šè¿‡å¤–è§‚æ¨¡å¼ç®€åŒ–ï¼Œè®©å®¢æˆ·ç«¯ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ç®€æ´ã€‚\n-\næ¯”å¦‚ä½ å¤å¤©æ™šä¸Šå‡ºé—¨æ—¶ï¼Œè¦å…³é—­ç”µç¯ï¼Œå…³é—­ç”µè§†æœºï¼Œå…³é—­ç©ºè°ƒï¼Œå¦‚æœæœ‰äº†ä¸€ä¸ªæ€»å¼€å…³ï¼Œé€šè¿‡å®ƒå¯ä»¥å…³é—­ç”µç¯ï¼Œç”µè§†æœºå’Œç©ºè°ƒï¼Œä½ å‡ºé—¨çš„æ—¶å€™å…³é—­æ€»å¼€å…³å°±è¡Œäº†ã€‚\n- åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ å°±æ˜¯å®¢æˆ·ç«¯ï¼Œæ€»å¼€å…³å°±æ˜¯å¤–è§‚æ¨¡å¼çš„åŒ–èº«</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\n\n\nclass User(object):\n    &quot;&quot;&quot;\n    ç”¨æˆ·ç±»\n    &quot;&quot;&quot;\n    def is_login(self):\n        return True\n\n    def has_privilege(self, privilege):\n        return True\n\n\nclass Course(object):\n    &quot;&quot;&quot;\n    è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n    def can_be_learned(self):\n        return True\n\n\nclass Lab(object):\n    &quot;&quot;&quot;\n    å®éªŒç±»\n    &quot;&quot;&quot;\n    def can_be_started(self):\n        return True\n\n\nclass Client(object):\n    &quot;&quot;&quot;\n    å®¢æˆ·ç±»ï¼Œç”¨äºå¼€å§‹ä¸€ä¸ªå®éªŒ\n    &quot;&quot;&quot;\n    def __init__(self, user, course, lab):\n        self.user = user\n        self.course = course\n        self.lab = lab\n\n    def start_lab(self):\n        &quot;&quot;&quot;\n        å¼€å§‹å®éªŒï¼Œéœ€è¦ä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼šç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œè¯¾ç¨‹æ˜¯å¦å¯ä»¥å­¦ä¹ ï¼Œå®éªŒæ˜¯å¦å¯ä»¥å¼€å§‹ã€‚åˆ¤æ–­éå¸¸ç¹çï¼\n        &quot;&quot;&quot;\n        if self.user.is_login() and self.course.can_be_learned() and self.lab.can_be_started():\n            print(&quot;start lab&quot;)\n        else:\n            print(&quot;can not start lab&quot;)\n\n\nclass FacadeLab(object):\n    &quot;&quot;&quot;\n    æ–°çš„Labç±»ï¼Œåº”ç”¨äº†é¢å‘å¯¹è±¡æ¨¡å¼\n    &quot;&quot;&quot;\n\n    def __init__(self, user, course, lab):\n        self.user = user\n        self.course = course\n        self.lab = lab\n\n    def can_be_started(self):\n        if self.user.is_login() and self.course.can_be_learned() and self.lab.can_be_started():\n            return True\n        else:\n            return False\n\n\nclass NewClient(object):\n    &quot;&quot;&quot;\n    æ–°çš„å®¢æˆ·ç±»ï¼Œä½¿ç”¨å¤–è§‚æ¨¡å¼\n    &quot;&quot;&quot;\n    def __init__(self, facade_lab):\n        self.lab = facade_lab\n\n    def start_lab(self):\n        &quot;&quot;&quot;\n        å¼€å§‹å®éªŒï¼Œåªéœ€è¦åˆ¤æ–­ FacadeLab æ˜¯å¦å¯ä»¥å¼€å§‹\n        &quot;&quot;&quot;\n        if self.lab.can_be_started:\n            print(&quot;start lab&quot;)\n        else:\n            print(&quot;can not start lab&quot;)\n\n\nif __name__ == &#39;__main__&#39;:\n    user = User()\n    course = Course()\n    lab = Lab()\n    client = Client(user, course, lab)\n    client.start_lab()\n\n    print(&quot;Use Facade Pattern:&quot;)\n    facade_lab = FacadeLab(user, course, lab)\n    facade_client = NewClient(facade_lab)\n    facade_client.start_lab()\n</code></pre>\n<p>å¤–è§‚æ¨¡å¼çš„ä¸»è¦ç›®çš„åœ¨äºé™ä½ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦ï¼Œåœ¨é¢å‘å¯¹è±¡è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»è¶Šå¤šï¼Œä¸èƒ½è¡¨ç¤ºç³»ç»Ÿè®¾è®¡å¾—è¶Šå¥½ï¼Œåè€Œè¡¨ç¤ºç³»ç»Ÿä¸­ç±»ä¹‹é—´çš„è€¦åˆåº¦å¤ªå¤§ï¼Œè¿™æ ·çš„ç³»ç»Ÿåœ¨ç»´æŠ¤å’Œä¿®æ”¹æ—¶éƒ½ç¼ºä¹çµæ´»æ€§ï¼Œå› ä¸ºä¸€ä¸ªç±»çš„æ”¹åŠ¨ä¼šå¯¼è‡´å¤šä¸ªç±»å‘ç”Ÿå˜åŒ–ï¼Œè€Œå¤–è§‚æ¨¡å¼çš„å¼•å…¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å¼•å…¥å¤–è§‚æ¨¡å¼ä¹‹åï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿæˆ–è€…ç§»é™¤å­ç³»ç»Ÿéƒ½éå¸¸æ–¹ä¾¿ï¼Œå®¢æˆ·ç±»æ— é¡»è¿›è¡Œä¿®æ”¹ï¼ˆæˆ–è€…æå°‘çš„ä¿®æ”¹ï¼‰ï¼Œåªéœ€è¦åœ¨å¤–è§‚ç±»ä¸­å¢åŠ æˆ–ç§»é™¤å¯¹å­ç³»ç»Ÿçš„å¼•ç”¨å³å¯ã€‚</p>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"è¯»ä¹¦åŸå—-åœ¨æœªæ¥é¢å‰æˆ‘ä»¬éƒ½æ˜¯å­©å­\">ğŸ‘‹ è¯»ä¹¦åŸå—ï¼ŒğŸ¤”\nåœ¨æœªæ¥é¢å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯å­©å­ï½</h5>\n<ul>\n<li>ğŸ“™\nä¸€ä¸ªçƒ­è¡·äºæ¢ç´¢å­¦ä¹ æ–°æ–¹å‘ã€æ–°äº‹ç‰©çš„æ™ºèƒ½äº§å“ç»ç†ï¼Œé—²æš‡æ—¶é—´å–œæ¬¢codingğŸ’»ã€ç”»å›¾ğŸ¨ã€éŸ³ä¹ğŸµã€å­¦ä¹ ing~</li>\n</ul>\n<h5 id=\"social-media\">ğŸ‘‹ Social Media</h5>\n<ul>\n<li><p>ğŸ› ï¸ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>âš¡ PMå¯¼èˆª: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>â˜˜ï¸ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>ğŸŒ± AI PRJè‡ªå·±éƒ¨ç½²çš„ä¸€äº›ç®—æ³•demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>ğŸ“« Email: 1450136519@qq.com</p></li>\n<li><p>ğŸ’¬ WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>ğŸ’¬ å…¬ä¼—å·: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"åŠ å…¥å°ç»„\">ğŸ‘‹ åŠ å…¥å°ç»„~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"åŠ å…¥ç»„ç»‡\" alt width=\"240\"></p>\n<h5 id=\"æ„Ÿè°¢æ‰“èµ\">ğŸ‘‹ æ„Ÿè°¢æ‰“èµ~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"æ”¯ä»˜å®æ‰“èµ\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"å¾®ä¿¡æ‰“èµ\" alt width=\"140\"></p>\n","more":"<h2 id=\"pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹é€‚é…å™¨æ¨¡å¼è£…é¥°è€…æ¨¡å¼ä»£ç†æ¨¡å¼ç»„åˆæ¨¡å¼å¤–è§‚æ¨¡å¼\">Pythonè®¾è®¡æ¨¡å¼-ç»“æ„å‹ï¼šé€‚é…å™¨æ¨¡å¼,è£…é¥°è€…æ¨¡å¼,ä»£ç†æ¨¡å¼,ç»„åˆæ¨¡å¼,å¤–è§‚æ¨¡å¼</h2>\n<ul>\n<li>é€‚é…å™¨æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>è£…é¥°è€…æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>ä»£ç†æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>ç»„åˆæ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n<li>å¤–è§‚æ¨¡å¼å®šä¹‰åŠç®€å•å®ç°æ¡ˆä¾‹</li>\n</ul>\n<h3 id=\"é€‚é…å™¨æ¨¡å¼-adapter\">é€‚é…å™¨æ¨¡å¼ adapter</h3>\n<p>ç”µå­äº§å“çš„ç”µæºæ’å¤´æ’åœ¨è½¬æ¢æ’å¤´ä¸Šï¼Œç„¶åè½¬æ¢æ’å¤´æ’ä¸Šç”µæºï¼Œç”µå­äº§å“å°±èƒ½æ­£å¸¸å·¥ä½œäº†ã€‚è¿™å°±æ˜¯é€‚é…å™¨æ¨¡å¼</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nclass OldCourse(object):\n    &quot;&quot;&quot;\n    è€çš„è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n\n    def show(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå…³äºæœ¬è¯¾ç¨‹çš„æ‰€æœ‰ä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show description&quot;)\n        print(&quot;show teacher of course&quot;)\n        print(&quot;show labs&quot;)\n\n\nclass Page(object):\n    &quot;&quot;&quot;\n    ä½¿ç”¨è¯¾ç¨‹å¯¹è±¡çš„å®¢æˆ·ç«¯\n    &quot;&quot;&quot;\n\n    def __init__(self, course):\n        self.course = course\n\n    def render(self):\n        self.course.show()\n\n\nclass NewCourse(object):\n    &quot;&quot;&quot;\n    æ–°çš„è¯¾ç¨‹ç±», ä¸ºäº†æ¨¡å—åŒ–æ˜¾ç¤ºè¯¾ç¨‹ä¿¡æ¯ï¼Œå®ç°äº†æ–°çš„è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n    def show_desc(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºæè¿°ä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show description&quot;)\n\n    def show_teacher(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºè€å¸ˆä¿¡æ¯\n        &quot;&quot;&quot;\n        print(&quot;show teacher of course&quot;)\n\n    def show_labs(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå®éªŒ\n        &quot;&quot;&quot;\n        print(&quot;show labs&quot;)\n\n\nclass Adapter(object):\n    &quot;&quot;&quot;\n    é€‚é…å™¨, å°½ç®¡å®ç°äº†æ–°çš„è¯¾ç¨‹ç±»ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šä»£ç ä¸­è¿˜æ˜¯éœ€è¦ä½¿ç”¨ OldCourse.show() æ–¹æ³•\n    &quot;&quot;&quot;\n\n    def __init__(self, course):\n        self.course = course\n\n    def show(self):\n        &quot;&quot;&quot;\n        é€‚é…æ–¹æ³•ï¼Œè°ƒç”¨çœŸæ­£çš„æ“ä½œ\n        &quot;&quot;&quot;\n        self.course.show_desc()\n        self.course.show_teacher()\n        self.course.show_labs()\n\n\nif __name__ == &#39;__main__&#39;:\n    old_course = OldCourse()\n    page = Page(old_course)\n    page.render()\n    print(&quot;&quot;)\n    new_course = NewCourse()\n    # æ–°è¯¾ç¨‹ç±»æ²¡æœ‰ show æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€‚é…å™¨è¿›è¡Œé€‚é…\n    adapter = Adapter(new_course)\n    page = Page(adapter)\n    page.render()</code></pre>\n<p><strong>é€‚é…å™¨æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªç±»çš„æ¥å£å˜æ¢æˆå®¢æˆ·ç«¯æ‰€æœŸå¾…çš„å¦ä¸€ç§æ¥å£ï¼Œä½¿åŸæœ¬å› æ¥å£ä¸å…¼å®¹è€Œæ— æ³•åœ¨ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»èƒ½å¤Ÿåœ¨ä¸€èµ·å·¥ä½œã€‚</strong></p>\n<h3 id=\"è£…é¥°è€…æ¨¡å¼-decorator\">è£…é¥°è€…æ¨¡å¼ Decorator</h3>\n<p>è£…é¥°è€…æ¨¡å¼èƒ½åŠ¨æ€çš„ç»™å¯¹è±¡æ·»åŠ è¡Œä¸ºã€‚å¦‚æœä½ å¯¹ Flask\næ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼Œåº”è¯¥çŸ¥é“åœ¨ä½¿ç”¨ Flask-Login çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ login_required\nè£…é¥°å™¨åŒ…è£…ä¸€ä¸ªéœ€è¦ç”¨æˆ·ç™»å½•è®¿é—®çš„view</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nfrom functools import wraps\n\nHOST_DOCKER = 0\n\n\ndef docker_host_required(f):\n    &quot;&quot;&quot;\n    è£…é¥°å™¨ï¼Œå¿…é¡»è¦æ±‚ host ç±»å‹æ˜¯ HOST_DOCKER\n    &quot;&quot;&quot;\n    @wraps(f)\n    def wrapper(*args, **kwargs):\n        if args[0].type != HOST_DOCKER:\n            raise Exception(&quot;Not docker host&quot;)\n        else:\n            return f(*args, **kwargs)\n    return wrapper\n\n\nclass Host(object):\n    &quot;&quot;&quot;\n    host ç±»\n    &quot;&quot;&quot;\n\n    def __init__(self, type):\n        self.type = type\n\n    # è£…é¥°è¿™ä¸€æ–¹æ³•\n    @docker_host_required\n    def create_container(self):\n        print(&quot;create container&quot;)\n\n\nif __name__ == &#39;__main__&#39;:\n    # åˆå§‹åŒ– Host\n    host = Host(HOST_DOCKER)\n    host.create_container()\n    print(&quot;&quot;)\n    # å†æ¬¡åˆå§‹åŒ– Host\n    host = Host(1)\n    host.create_container()</code></pre>\n<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒHostæœ‰ä¸€ä¸ªæ–¹æ³•Host.create_containerï¼Œåªæœ‰å½“Hostå®ä¾‹çš„ç±»å‹æ˜¯DOCKER_HOSTçš„æ—¶å€™æ‰èƒ½æ‰§è¡Œè¯¥æ–¹æ³•ã€‚ä¸ºäº†åŠ ä¸Šè¿™ä¸€è¡Œä¸ºï¼Œæˆ‘ä»¬ä½¿ç”¨äº†è£…é¥°è€…æ¨¡å¼ã€‚å¯ä»¥çœ‹å‡ºä½¿ç”¨è£…é¥°è€…æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€æ”¹å˜ç±»çš„è¡Œä¸ºï¼ŒåŒæ—¶èƒ½æé«˜ä»£ç å¤ç”¨æ€§ï¼Œå› ä¸ºä»»ä½•ç±»å‹ä¸ºHOST_DOCKERçš„Hostéƒ½å¯ä»¥ä½¿ç”¨è¯¥è£…é¥°å™¨ã€‚å¦å¤–è¦è¯´æ˜ä¸‹ï¼šä¸ºäº†æ›´å¥½çš„å®ç°è£…é¥°å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨functools.wrapå‡½æ•°ã€‚</p>\n<h3 id=\"ä»£ç†æ¨¡å¼-proxy\">ä»£ç†æ¨¡å¼ proxy</h3>\n<p>æ‰€è°“ä»£ç†æ¨¡å¼å°±æ˜¯ç»™ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—®ã€‚é€šè¿‡ä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è®¿é—®åšä¸€äº›æ§åˆ¶ã€‚åœ¨å¼€å‘ç½‘ç«™çš„è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹ä¸€äº›é¢‘ç¹è®¿é—®çš„èµ„æºï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç¼“å­˜ã€‚</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nfrom time import sleep\n\n\nclass Redis(object):\n    &quot;&quot;&quot;\n    ç”¨äºæ¨¡æ‹Ÿ redis æœåŠ¡\n    &quot;&quot;&quot;\n\n    def __init__(self):\n        &quot;&quot;&quot;\n        ä½¿ç”¨å­—å…¸å­˜å‚¨æ•°æ®\n        &quot;&quot;&quot;\n        self.cache = dict()\n\n    def get(self, key):\n        &quot;&quot;&quot;\n        è·å–æ•°æ®\n        &quot;&quot;&quot;\n        return self.cache.get(key)\n\n    def set(self, key, value):\n        &quot;&quot;&quot;\n        è®¾ç½®æ•°æ®\n        &quot;&quot;&quot;\n        self.cache[key] = value\n\n\nclass Image(object):\n    &quot;&quot;&quot;\n    å›¾ç‰‡å¯¹è±¡ï¼Œå›¾ç‰‡å­˜åœ¨ä¸ƒç‰›äº‘å­˜å‚¨ä¸­ï¼Œæˆ‘ä»¬åªä¿å­˜äº†ä¸€ä¸ªåœ°å€\n    &quot;&quot;&quot;\n\n    def __init__(self, name):\n        self.name = name\n\n    @property\n    def url(self):\n        sleep(2)\n        return &quot;https://dn-syl-static.qbox.me/img/logo-transparent.png&quot;\n\n\nclass Page(object):\n    &quot;&quot;&quot;\n    ç”¨äºæ˜¾ç¤ºå›¾ç‰‡\n    &quot;&quot;&quot;\n\n    def __init__(self, image):\n        &quot;&quot;&quot;\n        éœ€è¦å›¾ç‰‡è¿›è¡Œåˆå§‹åŒ–\n        &quot;&quot;&quot;\n        self.image = image\n\n    def render(self):\n        &quot;&quot;&quot;\n        æ˜¾ç¤ºå›¾ç‰‡\n        &quot;&quot;&quot;\n        print(self.image.url)\n\n\nredis = Redis()\n\n\nclass ImageProxy(object):\n    &quot;&quot;&quot;\n    å›¾ç‰‡ä»£ç†ï¼Œé¦–æ¬¡è®¿é—®ä¼šä»çœŸæ­£çš„å›¾ç‰‡å¯¹è±¡ä¸­è·å–åœ°å€ï¼Œä»¥åéƒ½ä» Redis ç¼“å­˜ä¸­è·å–\n    &quot;&quot;&quot;\n\n    def __init__(self, image):\n        self.image = image\n\n    @property\n    def url(self):\n        addr = redis.get(self.image.name)\n        if not addr:\n            addr = self.image.url\n            print(&quot;Set url in redis cache!&quot;)\n            redis.set(self.image.name, addr)\n        else:\n            print(&quot;Get url from redis cache!&quot;)\n        return addr\n\n\nif __name__ == &#39;__main__&#39;:\n    img = Image(name=&quot;logo&quot;)\n    proxy = ImageProxy(img)\n    page = Page(proxy)\n    # é¦–æ¬¡è®¿é—®\n    page.render()\n    print(&quot;&quot;)\n    # ç¬¬äºŒæ¬¡è®¿é—®\n    page.render()</code></pre>\n<p>ä»£ç†å¯¹è±¡å’ŒçœŸå®çš„å¯¹è±¡ä¹‹é—´éƒ½å®ç°äº†å…±åŒçš„æ¥å£ï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜åŸæ¥å£æƒ…å†µä¸‹ï¼Œä½¿ç”¨çœŸå®å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ä»£ç†å¯¹è±¡ã€‚å…¶æ¬¡ï¼Œä»£ç†å¯¹è±¡åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´ç›´æ¥èµ·åˆ°äº†ä¸­ä»‹ä½œç”¨ï¼ŒåŒæ—¶é€šè¿‡ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å°†å®¢æˆ·è¯·æ±‚ä¼ é€’ç»™çœŸå®å¯¹è±¡ä¹‹å‰åšä¸€äº›å¿…è¦çš„é¢„å¤„ç†ã€‚</p>\n<h3 id=\"ç»„åˆæ¨¡å¼-composite\">ç»„åˆæ¨¡å¼ composite</h3>\n<p>ä»€ä¹ˆæ˜¯ç»„åˆæ¨¡å¼ï¼ŸæŒ‰ç…§å®šä¹‰æ¥è¯´ï¼Œç»„åˆæ¨¡å¼æ˜¯å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„è¡¨ç¤ºï¼Œä½¿å¾—å®¢æˆ·ç«¯å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ç»„åˆæ¨¡å¼çš„ä½¿ç”¨é€šå¸¸ä¼šç”Ÿæˆä¸€æ£µå¯¹è±¡æ ‘ï¼Œå¯¹è±¡æ ‘ä¸­çš„å¶å­ç»“ç‚¹ä»£è¡¨å•ä¸ªå¯¹è±¡ï¼Œå…¶ä»–èŠ‚ç‚¹ä»£è¡¨ç»„åˆå¯¹è±¡ã€‚è°ƒç”¨æŸä¸€ç»„åˆå¯¹è±¡çš„æ–¹æ³•ï¼Œå…¶å®ä¼šè¿­ä»£è°ƒç”¨æ‰€æœ‰å…¶å¶å­å¯¹è±¡çš„æ–¹æ³•ã€‚</p>\n<p>ä½¿ç”¨ç»„åˆæ¨¡å¼çš„ç»å…¸ä¾‹å­æ˜¯ Linux\nç³»ç»Ÿå†…çš„æ ‘å½¢èœå•å’Œæ–‡ä»¶ç³»ç»Ÿã€‚åœ¨æ ‘å½¢èœå•ä¸­ï¼Œæ¯ä¸€é¡¹èœå•å¯èƒ½æ˜¯ä¸€ä¸ªç»„åˆå¯¹è±¡ï¼Œå…¶åŒ…å«äº†èœå•é¡¹å’Œå­èœå•ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€æ£µå¯¹è±¡æ ‘ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¶å­å¯¹è±¡å°±æ˜¯æ–‡ä»¶ï¼Œè€Œæ–‡ä»¶å¤¹å°±æ˜¯ç»„åˆå¯¹è±¡ï¼Œæ–‡ä»¶å¤¹å¯ä»¥åŒ…å«æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼ŒåŒæ ·åˆå½¢æˆäº†ä¸€æ£µå¯¹è±¡æ ‘ã€‚åŒæ ·çš„ä¾‹å­è¿˜æœ‰å‘˜å·¥å’Œé¢†å¯¼ä¹‹é—´çš„å…³ç³»</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\nimport abc\n\n\nclass Worker(object):\n    &quot;&quot;&quot;\n    å‘˜å·¥æŠ½è±¡ç±»\n    &quot;&quot;&quot;\n    __metaclass__ = abc.ABCMeta\n\n    def __init__(self, name):\n        self.name = name\n\n    @abc.abstractmethod\n    def work(self):\n        pass\n\n\nclass Employe(Worker):\n    &quot;&quot;&quot;\n    å‘˜å·¥ç±»\n    &quot;&quot;&quot;\n    __metaclass__ = abc.ABCMeta\n\n    def work(self):\n        print(&quot;Employ: %s start to work &quot; % self.name)\n\n\nclass Leader(Worker):\n    &quot;&quot;&quot;\n    é¢†å¯¼ç±»\n    &quot;&quot;&quot;\n\n    def __init__(self, name):\n        self.members = []\n        super(Leader, self).__init__(name)\n\n    def add_member(self, employe):\n        if employe not in self.members:\n            self.members.append(employe)\n\n    def remove_member(self, employe):\n        if employe in self.members:\n            self.members.remove(employe)\n\n    def work(self):\n        print(&quot;Leader: %s start to work&quot; % self.name)\n        for employe in self.members:\n            employe.work()\n\n\nif __name__ == &#39;__main__&#39;:\n    employe_1 = Employe(&quot;employe_1&quot;)\n    employe_2 = Employe(&quot;employe_2&quot;)\n    leader_1 = Leader(&quot;leader_1&quot;)\n    leader_1.add_member(employe_1)\n    leader_1.add_member(employe_2)\n\n    employe_3 = Employe(&quot;employe_3&quot;)\n    leader_2 = Leader(&quot;leader_2&quot;)\n    leader_2.add_member(employe_3)\n    leader_2.add_member(leader_1)\n\n    leader_2.work()</code></pre>\n<h3 id=\"å¤–è§‚æ¨¡å¼-facade\">å¤–è§‚æ¨¡å¼ facade</h3>\n<p>æ‰€è°“å¤–è§‚æ¨¡å¼ï¼Œå°±æ˜¯å°†å„ç§å­ç³»ç»Ÿçš„å¤æ‚æ“ä½œé€šè¿‡å¤–è§‚æ¨¡å¼ç®€åŒ–ï¼Œè®©å®¢æˆ·ç«¯ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ç®€æ´ã€‚\n-\næ¯”å¦‚ä½ å¤å¤©æ™šä¸Šå‡ºé—¨æ—¶ï¼Œè¦å…³é—­ç”µç¯ï¼Œå…³é—­ç”µè§†æœºï¼Œå…³é—­ç©ºè°ƒï¼Œå¦‚æœæœ‰äº†ä¸€ä¸ªæ€»å¼€å…³ï¼Œé€šè¿‡å®ƒå¯ä»¥å…³é—­ç”µç¯ï¼Œç”µè§†æœºå’Œç©ºè°ƒï¼Œä½ å‡ºé—¨çš„æ—¶å€™å…³é—­æ€»å¼€å…³å°±è¡Œäº†ã€‚\n- åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ å°±æ˜¯å®¢æˆ·ç«¯ï¼Œæ€»å¼€å…³å°±æ˜¯å¤–è§‚æ¨¡å¼çš„åŒ–èº«</p>\n<pre class=\"python3\"><code># -*- coding: utf-8 -*-\n\n\nclass User(object):\n    &quot;&quot;&quot;\n    ç”¨æˆ·ç±»\n    &quot;&quot;&quot;\n    def is_login(self):\n        return True\n\n    def has_privilege(self, privilege):\n        return True\n\n\nclass Course(object):\n    &quot;&quot;&quot;\n    è¯¾ç¨‹ç±»\n    &quot;&quot;&quot;\n    def can_be_learned(self):\n        return True\n\n\nclass Lab(object):\n    &quot;&quot;&quot;\n    å®éªŒç±»\n    &quot;&quot;&quot;\n    def can_be_started(self):\n        return True\n\n\nclass Client(object):\n    &quot;&quot;&quot;\n    å®¢æˆ·ç±»ï¼Œç”¨äºå¼€å§‹ä¸€ä¸ªå®éªŒ\n    &quot;&quot;&quot;\n    def __init__(self, user, course, lab):\n        self.user = user\n        self.course = course\n        self.lab = lab\n\n    def start_lab(self):\n        &quot;&quot;&quot;\n        å¼€å§‹å®éªŒï¼Œéœ€è¦ä¸€ç³»åˆ—çš„åˆ¤æ–­ï¼šç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œè¯¾ç¨‹æ˜¯å¦å¯ä»¥å­¦ä¹ ï¼Œå®éªŒæ˜¯å¦å¯ä»¥å¼€å§‹ã€‚åˆ¤æ–­éå¸¸ç¹çï¼\n        &quot;&quot;&quot;\n        if self.user.is_login() and self.course.can_be_learned() and self.lab.can_be_started():\n            print(&quot;start lab&quot;)\n        else:\n            print(&quot;can not start lab&quot;)\n\n\nclass FacadeLab(object):\n    &quot;&quot;&quot;\n    æ–°çš„Labç±»ï¼Œåº”ç”¨äº†é¢å‘å¯¹è±¡æ¨¡å¼\n    &quot;&quot;&quot;\n\n    def __init__(self, user, course, lab):\n        self.user = user\n        self.course = course\n        self.lab = lab\n\n    def can_be_started(self):\n        if self.user.is_login() and self.course.can_be_learned() and self.lab.can_be_started():\n            return True\n        else:\n            return False\n\n\nclass NewClient(object):\n    &quot;&quot;&quot;\n    æ–°çš„å®¢æˆ·ç±»ï¼Œä½¿ç”¨å¤–è§‚æ¨¡å¼\n    &quot;&quot;&quot;\n    def __init__(self, facade_lab):\n        self.lab = facade_lab\n\n    def start_lab(self):\n        &quot;&quot;&quot;\n        å¼€å§‹å®éªŒï¼Œåªéœ€è¦åˆ¤æ–­ FacadeLab æ˜¯å¦å¯ä»¥å¼€å§‹\n        &quot;&quot;&quot;\n        if self.lab.can_be_started:\n            print(&quot;start lab&quot;)\n        else:\n            print(&quot;can not start lab&quot;)\n\n\nif __name__ == &#39;__main__&#39;:\n    user = User()\n    course = Course()\n    lab = Lab()\n    client = Client(user, course, lab)\n    client.start_lab()\n\n    print(&quot;Use Facade Pattern:&quot;)\n    facade_lab = FacadeLab(user, course, lab)\n    facade_client = NewClient(facade_lab)\n    facade_client.start_lab()\n</code></pre>\n<p>å¤–è§‚æ¨¡å¼çš„ä¸»è¦ç›®çš„åœ¨äºé™ä½ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦ï¼Œåœ¨é¢å‘å¯¹è±¡è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»è¶Šå¤šï¼Œä¸èƒ½è¡¨ç¤ºç³»ç»Ÿè®¾è®¡å¾—è¶Šå¥½ï¼Œåè€Œè¡¨ç¤ºç³»ç»Ÿä¸­ç±»ä¹‹é—´çš„è€¦åˆåº¦å¤ªå¤§ï¼Œè¿™æ ·çš„ç³»ç»Ÿåœ¨ç»´æŠ¤å’Œä¿®æ”¹æ—¶éƒ½ç¼ºä¹çµæ´»æ€§ï¼Œå› ä¸ºä¸€ä¸ªç±»çš„æ”¹åŠ¨ä¼šå¯¼è‡´å¤šä¸ªç±»å‘ç”Ÿå˜åŒ–ï¼Œè€Œå¤–è§‚æ¨¡å¼çš„å¼•å…¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å¼•å…¥å¤–è§‚æ¨¡å¼ä¹‹åï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿæˆ–è€…ç§»é™¤å­ç³»ç»Ÿéƒ½éå¸¸æ–¹ä¾¿ï¼Œå®¢æˆ·ç±»æ— é¡»è¿›è¡Œä¿®æ”¹ï¼ˆæˆ–è€…æå°‘çš„ä¿®æ”¹ï¼‰ï¼Œåªéœ€è¦åœ¨å¤–è§‚ç±»ä¸­å¢åŠ æˆ–ç§»é™¤å¯¹å­ç³»ç»Ÿçš„å¼•ç”¨å³å¯ã€‚</p>\n<hr>\n<h3 id=\"about-me\">About ME</h3>\n<h5 id=\"è¯»ä¹¦åŸå—-åœ¨æœªæ¥é¢å‰æˆ‘ä»¬éƒ½æ˜¯å­©å­\">ğŸ‘‹ è¯»ä¹¦åŸå—ï¼ŒğŸ¤”\nåœ¨æœªæ¥é¢å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯å­©å­ï½</h5>\n<ul>\n<li>ğŸ“™\nä¸€ä¸ªçƒ­è¡·äºæ¢ç´¢å­¦ä¹ æ–°æ–¹å‘ã€æ–°äº‹ç‰©çš„æ™ºèƒ½äº§å“ç»ç†ï¼Œé—²æš‡æ—¶é—´å–œæ¬¢codingğŸ’»ã€ç”»å›¾ğŸ¨ã€éŸ³ä¹ğŸµã€å­¦ä¹ ing~</li>\n</ul>\n<h5 id=\"social-media\">ğŸ‘‹ Social Media</h5>\n<ul>\n<li><p>ğŸ› ï¸ Blog: <a href=\"http://oceaneyes.top\">http://oceaneyes.top</a></p></li>\n<li><p>âš¡ PMå¯¼èˆª: <a href=\"https://pmhub.oceangzy.top\">https://pmhub.oceangzy.top</a></p></li>\n<li><p>â˜˜ï¸ CNBLOG: <a href=\"https://www.cnblogs.com/oceaneyes-gzy/\">https://www.cnblogs.com/oceaneyes-gzy/</a></p></li>\n<li><p>ğŸŒ± AI PRJè‡ªå·±éƒ¨ç½²çš„ä¸€äº›ç®—æ³•demo: <a href=\"http://ai.oceangzy.top/\">http://ai.oceangzy.top/</a></p></li>\n<li><p>ğŸ“« Email: 1450136519@qq.com</p></li>\n<li><p>ğŸ’¬ WeChat: <a href=\"https://oceaneyes.top/img/wechatqrcode.jpg\">OCEANGZY</a></p></li>\n<li><p>ğŸ’¬ å…¬ä¼—å·: <a href=\"https://oceaneyes.top/img/wechatgzh.jpeg\">UncleJoker-GZY</a></p></li>\n</ul>\n<h5 id=\"åŠ å…¥å°ç»„\">ğŸ‘‹ åŠ å…¥å°ç»„~</h5>\n<p><img src=\"https://oceaneyes.top/img/zhishigroup.jpg\" title=\"åŠ å…¥ç»„ç»‡\" alt width=\"240\"></p>\n<h5 id=\"æ„Ÿè°¢æ‰“èµ\">ğŸ‘‹ æ„Ÿè°¢æ‰“èµ~</h5>\n<p><img src=\"https://oceaneyes.top/img/alipay.jpg\" title=\"æ”¯ä»˜å®æ‰“èµ\" alt width=\"140\">\n<img src=\"https://oceaneyes.top/img/wechatpay.jpg\" title=\"å¾®ä¿¡æ‰“èµ\" alt width=\"140\"></p>\n","categories":[{"name":"Python3","path":"api/categories/Python3.json"}],"tags":[{"name":"Python3","path":"api/tags/Python3.json"},{"name":"è®¾è®¡æ¨¡å¼","path":"api/tags/è®¾è®¡æ¨¡å¼.json"}]}